<head>
<meta charset="utf-8"> 

<!-- @@ start change in v2 -->
<title>JavaScript Tutorial: The Basics</title>
<link rel="stylesheet" href="../css/programming_notes_v2.css">
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>

<body>

<div id="wrap-outer">

<!-- header filled by JavaScript -->
<div id="header" class="header-footer"><p>&nbsp;</p></div>

<div id="wrap-inner">

<div id="wrap-toc">
<h5>Table of Contents <a id="show-toc" href="#show-toc">(Hide)</a></h5>
<div id="toc"></div>  <!-- for showing the "Table of Content" -->
</div>

<div id="content-header">
<h1>JavaScript</h1>
<h2>Basics</h2>
</div>

<div id="content-main">
<!-- @@ end change in v2 -->

<h3>Introduction</h3>

<p>JavaScript is the most widely used <em>client-side</em> programming language that lets you supercharge your HTML with interactivity, animation and dynamic visual effect for better User Interface and User Experience (UI/UX). It is:</p>

<ul>
<li>a small, lightweight, object-oriented, cross-platform, special-purpose scripting language meant to be run under a host environment (typically a web browser).</li>

<li>a <em>client-side scripting language</em> to enrich web user-interfaces and create dynamic web pages (e.g., form input validation, and immediate response to user's actions).</li>

<li>the engine that supports AJAX (Asynchronous JavaScript and XML), which generate renew interest in JavaScript.</li>
</ul>

<p>JavaScript works together with HTML/CSS. HTML provides the <em>contents</em> (or <em>structure</em>); CSS specifies the <em>presentation</em>; and JavaScript programs the <em>behavior.</em> Together, they enrich the UI/UX of the web users.</p>

<h5>History and Versions</h5>

<p>JavaScript, originally called LiveScript, was created by Brendan Eich at Netscape in 1995. Soon after, Microsoft launched its own version of JavaScript called JScript. Subsequently, Netscape submitted it to <a href="http://www.ecma-international.org/">ECMA</a> (formerly <em>&quot;European Computer Manufacturers Association</em>&quot;, now <em>&quot;Ecma International - European association for standardizing information and communication systems</em>&quot;) for  standardization, together with Microsoft's JScript.</p>

<p> The ECMA Specification is called &quot;<a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMA-262 ECMAScript Language Specification</a>&quot; (also approved as &quot;ISO/IEC 16262&quot;):</p>
<ul>
<li>ECMA-262 version 1 (June 1997)</li>
<li>ECMA-262 version 2 (August 1998)</li>
<li>ECMA-262 version 3 (December 1999)</li>
<li>ECMA-262 version 4 - abandon due to political differences</li>
<li>ECMA-262 version 5 and 5.1 (June 2011) (@ <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a>)</li>
<li>ECMA-262 version 6: expected in June 2015.</li>
</ul>

<p>Meanwhile, the Mozilla Project (@ <a href="https://developer.mozilla.org/en/JavaScript">https://developer.mozilla.org/en/JavaScript</a>) continues to upgrade the JavaScript with these major versions:</p>
<ul>
<li>1.0 (1996)</li>
<li>1.3  (1998): ECMA-262 version 1 compliance</li>
<li>1.5 (1999): ECMA-262 version 3 compliance</li>
<li>1.6, 1.7:</li>
<li>1.8 (2008), Latest 1.8.5 (2010): ECMA-262 version 5 compliance</li>
</ul>

<h5>JavaScript vs. Java</h5>

<p>Java is a <em>full-fledged</em> <em>general-purpose</em> programming language created by James Gosling at Sun Microsystems (now part of Oracle), released in Aug 1995. JavaScript is created by Brendan Eich at Netscape in 1995. Originally called LiveScript, it is a small and lightweight <em>special-purpose</em> language for writing client-side program  running inside the web browser to create active user-interface and generate dynamic web pages. Java also supports client-side programming via the so-called Java <em>applets</em>.</p>

<p> JavaScript is not a general-purpose nor a stand-alone programming language (it has to be run inside the browser).  It was originally called LiveScript and was renamed to JavaScript in an ill-fated marketing decision to try to capitalize on the popularity of Java language, when Netscape released it Navigator 2 in 1996 (Navigator 2 also runs the Java applets). Java and JavaScript are totally different languages for different programming purposes. However, in the early days, some efforts were made to adopt Java syntaxes and conventions into JavaScript, such that JavaScript <em>seems</em> to be a subset of Java. In reality, they have very little in common. But, if you know Java, you should find JavaScript easier to learn because of these common syntaxes.</p>

<h5>What JavaScript CANNOT Do?</h5>

<p>Remember that JavaScript is a client-side program that you downloaded from a server, and run inside the browser of your (client) machine. What to stop someone from writing a JavaScript that wipes out your hard disk, or triggers a denial-of-service attack to another server? As a result, for security purpose,</p>

<ol>
<li>It cannot read file from the client's machine.</li>
<li>It can only connect to the server that it come from. It can read file from the server that it come from. It cannot write file into the server machine.</li>
<li>It cannot connect to another server.</li>
<li>It cannot close a window that it does not open.</li>
</ol>

<h5>JavaScript is Now Everywhere!</h5>

<p>JavaScript was originally created as a client-side web programming language, running in a web browser, to supercharge HTML. It has grown beyond the client-side programming.</p>

<p>The popular Node.js is a standalone JavaScript engine that lets you run JavaScripts in a standalone manner (i.e., without a browser). Node.js also enables you to write server-side programs in JavaScript, i.e., you can now write both your client-side programs and server-side programs in the same language. Many front-end web development tools, such as <code>Gulp.js</code> and <code>Bower</code>, are built upon Node.js and programmed in JavaScript.</p>

<p>JavaScript is also used for writing scripts for Software such as Acrobat, Dreamweaver and Google Apps.</p>

<h5>jQuery</h5>

<p>jQuery is a cross-browser JavaScript Library. It is reported that more than 64% of the production websites are written in jQuery nowadays (as in May 2015). jQuery is JavaScript (but having its own extension syntax), hence, you need to understand JavaScript. I suggest you read through the JavaScript syntax (and pay particular attention to objects), and then switch into jQuery for your production. Read  &quot;<a href="jQuery_Basics.html">jQuery Basics</a>&quot;.</p>


<h3>JavaScript by Examples</h3>

<p>I shall assume that you know HTML and CSS (read my HTML/CSS articles otherwise).  I shall also assume that you understanding some programming basics such as variables, if-else and for-loop constructs.</p>

<p>You need a <em>text editor</em> to write your JavaScript.  You could use a <em>plain text editor</em> such as NotePad. But to improve your productivity, a good <em>programming text editor</em> is essential. There are many freeware/shareware available, such as Sublime Text (@ <a href="http://www.sublimetext.com/">http://www.sublimetext.com/</a>), NotePad++ (<a href="http://notepad-plus.sourceforge.net">http://notepad-plus.sourceforge.net</a>), PSPad (<a href="http://www.pspad.com">www.pspad.com</a>), TextPad (<a href="http://www.textpad.com">www.textpad.com</a>). You can also use a full-scale IDE such as NetBeans or Eclipse, which provides content-assist (auto-complete) feature that greatly enhances your productivity.</p>

<p>JavaScripts run inside a browser. There are standards on JavaScript. But the Big-5 (Chrome, Firefox, IE, Safari and Opera), in particular the IE, does not adhere to all the standards strictly. Furthermore, they create their own extensions. Hence, the behavior of JavaScript could be different in different browsers. You may need to test your JavaScripts on more than one browsers. [That's where jQuery comes in handy, as jQuery provides cross-browser support.]</p>

<h4>Example 1: Functions <code>alert()</code> and <code>document.write()</code></h4>

<p>Let us write our first JavaScript to print the message &quot;Hello, world&quot;.</p>

<p> Start with a new file and enter the following codes. Do not enter the line numbers, which is used to aid in explanation. Take note that:</p>

<ul>
<li>JavaScript is <em>case sensitive</em>. A <em><code>rose</code></em> is NOT a <em><code>ROSE</code></em> and is NOT a <em><code>Rose</code></em>.</li>
<li>&quot;Extra&quot; white spaces (blanks, tabs and newlines) are ignored. That is, multiple white spaces is treated as a single blank character. You could use them liberally to make your program easier to read.</li>
</ul>

<p>Save the file as &quot;<code>JSExAlertWrite.html</code>&quot; (or any filename that you prefer, with file extension of &quot;<code>.html</code>&quot; or &quot;<code>.htm</code>&quot;). Run the script by loading the HTML file into a JavaScript-enabled browser (e.g., One of the BIG FIVE - Chrome, Firefox, Internet Explorer, Safari or Opera).</p>

<div data-myinclude="codes/JSExAlertWrite.html"></div>

<h5>How it Works?</h5>

<ol>
<li>JavaScripts are programming codes that are embedded inside an HTML document. The codes are contained between a pair of <code>&lt;script&gt;</code> and <code>&lt;/script&gt;</code>  tags, as follows:
<pre class="syntax">&lt;script&gt;
<span class="comment">  // Your JavaScript programming codes here!</span>
&lt;/script&gt;</pre>
NOTE: In HTML4/XHTML, you need to include attribute <code>type=&quot;text/javascript&quot;</code> to the <code>&lt;script&gt;</code> opening tag.</li>

<li>You could place the scripts in either the <code>HEAD</code> section (called header script) or <code>BODY</code> section (called body script) of an HTML document. You are free to embed as many  	scripts into a single document as you like, using multiple <code>&lt;script&gt;...&lt;/script&gt;</code> element. Lines 7-9 and Line 13-17 are two pieces of JavaScripts, placed in the <code>HEAD</code> and <code>BODY</code> sections, respectively.</li>

<li>JavaScript statements are terminated by a semicolon <code>';'</code>.</li>

<li>The <code>alert(<em>aString</em>)</code> function (Line 8) pops out a <em>dialog box</em> displaying the <em><code>sString</code></em> and a OK button. Strings are enclosed by a pair of <em>double quotes</em> or <em>single quotes</em>.</li>

<li>The current web page is represented by the so-called <code>document</code> object in the JavaScript.  The <code>document.lastModified</code> (Line 16) property stores the last modified date of the current document.  The <code>document.write(<em>aString</em>)</code> function (Line 14 to 16) can be used to write the specified <em><code>aString</code></em> to the current document, as part of the current HTML document.</li>

<li> The <code>'+'</code> operator (Line 16) <em>concatenates</em> pieces of the strings (similar to Java language).</li>

<li> As a result of the <code>document.write()</code>, the BODY section of this document contains:
<pre class="output">
&lt;h1&gt;My First JavaScript says&lt;/h1&gt;
&lt;h2&gt;&lt;em&gt;Hello world, again!&lt;/em&gt;&lt;/h2&gt;&lt;p&gt;This document was last modified on mm/dd/yyyy hh:mm:ss.&lt;/p&gt;</pre></li>

<li>The <code>alert()</code> and <code>document.write()</code> are some of the  commonly-used built-in functions provided in JavaScript.</li>
</ol>

<p><span class="lead">TRY:</span> Print the document's title and the URL location. (Hints: use <code>document.title</code> and <code>document.location</code> properties.)</p>

<div class="side-note">

<h5>Don't Get Caught by the Cache - Do Control-Refresh (or Control-F5)</h5>

<p>If you modify the codes and reload the web page, the new codes may not get executed because the  browser <em>caches</em> the previously loaded version.  You could use Control-F5 (Control-Refresh) to ask the browser to discard the cache, and fetch a new page.</p>
</div>

<h4>Example 2: Variables and Functions <code>prompt()</code>, <code>confirm()</code></h4>

<p>This script prompts the user for his/her name, confirms the name, and prints a greeting message.</p>

<p>There are three kinds of pop-up <em>dialog</em> boxes for interacting with the users:</p>

<ol>
<li>The <code>alert(<em>aString</em>)</code> function puts the <em><code>aString</code></em> on a pop-up box with a OK button. User needs to click the OK button to continue.</li>

<li>The <code>prompt(<em>promptingString</em>, <em>defaultInputString</em>?)</code> function puts up an input pop-up box with the <em><code>promptingString</code></em> with an OK and Cancel buttons. It returns the input entered by the user as a string; or a special value called <code>null</code> if the user hits the Cancel button. The optional parameter <em>defaultString</em> specifies the initial string to be shown. In this article, I shall indicate <em>optional</em> function parameters with a trailing <code>'?'</code> for compactness.</li>

<li>The <code>confirm(<em>aString</em>)</code> function puts <code><em>aString</em></code> on a pop-up box with OK and Cancel buttons. It returns <code>true</code> if user hits the OK button; or <code>false</code> otherwise.</li>
</ol>

<div data-myinclude="codes/JSExVar.html"></div>

<h5>How it Works?</h5>

<ol>
<li>Line 8 declares a <em>variable</em> called <code>username</code>, via the keyword <code>var</code>. A variable is a <em>named</em> storage location that holds a <em>value</em>. Once the variable is declared, you can assign (and re-assign) a value to that variable, via the assignment operator <code>'='</code> (Line 9).</li>

<li>Line 9 invokes the <code>prompt(<em>promptingString</em>, <em>defaultString</em>?)</code> function to pop out a dialog box, and reads in the string entered by the user. The string read is  assigned to the variable <code>username</code>. The function <code>prompt()</code> is similar to the <code>alert()</code>, but it accepts a user's input.</li>

<li>In Line 10, the <code>confirm(<em>aString</em>)</code> function puts up the message and returns either <code>true</code> or <code>false</code>, depending on whether the user hits the OK or Cancel button.</li>

<li>If the result is <code>true</code>, Line 11 prints <code>&quot;Hello, <em>username</em>!&quot;</code>. Otherwise, Line 13 prints <code>&quot;Hello, world!&quot;</code>.</li>
</ol>

<p><span class="lead">TRY:</span> Instead of printing the greeting message using <code>document.write()</code>, do it via an <code>alert()</code>.</p>

<h4>Example 3: The <code>Date</code> Object</h4>

<p>The following script creates a <code>Date</code> object representing the current date-time, and prints the current time.</p>

<div data-myinclude="codes/JSExDate.html"></div>

<h5>How it Works?</h5>

<ul>
<li>Line 8 declares a <em>variable</em> called <code>now</code>. It also creates a <code>Date</code> object (via the <code>new</code> operator), which contains the current date-time stamp, and assign it to <code>now</code>.</li>

<li>&quot;<code>//</code>&quot; begins an <em>end-of-line comment</em> (Lines 8 and 9). Comments are ignored by the JavaScript engine but important in explaining your codes to others (and to yourself three days later).</li>

<li>Line 9 declares a variable called <code>hrs</code>. It also invokes the function <code>getHours()</code> on object <code>now</code>, in the form of <code>now.getHours()</code>, to retrieve the hour part of object <code>now</code>, and assign it to variable <code>hrs</code>. Lines 9 and 10, similarly, handle the minutes and seconds.</li>

<li>Line 12 to 14 use <code>document.writeln()</code> to write to the current document. <code>writeln()</code> (write-line) writes a newline (<code>\n</code>) after the given string. Take note that browser ignores extra white space (newlines, blanks, tabs) in an HTML document; you need to write a <code>&lt;p&gt;...&lt;/p&gt;</code> or <code>&lt;br&gt;</code> tag to ask the browser to display a line break.</li>

<li>Lines 16-20 contains a <em>conditional if-then-else</em> statement.  Depending on the value of <code>hrs</code>, one of the messages will be displayed.</li>
</ul>

<h5>TRY:</h5>

<ol>
<li>Modify the above script to print the current date, month, year and day of the week. (<em>Hints</em>: Use functions <code>getDate()</code>, <code>getMonth()</code>, <code>getFullYear()</code> and <code>getDay()</code> of a <code>Date</code> object. <code>getDate()</code> returns 1-31. <code>getMonth()</code> returns 0 to 11 for January to December. <code>getFullYear()</code> returns a 4-digit year. <code>getDay()</code> returns 0 to 6 for Sunday to Saturday).</li>

<li>Use a conditional statement to print the day of the week in word (i.e., 0 for Sunday, 1 for Monday and etc.). (<em>Hints</em>: Use the <code>if-elseif-elseif...else</code> construct as follow.)
<pre class="syntax">
<strong>if (</strong> <em>condition-1</em> <strong>) {</strong>
   <em>block</em>-1 ;
<strong>} else if (</strong> <em>condition-2</em> <strong>) {</strong>
   <em>block</em>-2 ;
<strong>} else if (</strong> <em>condition-3</em> <strong>) {</strong>
   <em>block</em>-3 ;
......
......
<strong>} else {</strong>
   <em>block-n</em> ;
<strong>}</strong></pre></li>
</ol>

<h4>Example 4: Loops</h4>

<p>The following script prompts the user for a multiplier, and prints the multiples of 1 to 100 using a for-loop.</p>

<div data-myinclude="codes/JSExLoop.html"></div>

<h5>How it Works?</h5>

<ul>
<li>Line 11 prompts the user for a number, and assigns it to the variable <code>multiplier</code>.</li>

<li>Lines 12-14 contain a <em>for-loop</em>. A <em>for-loop</em> takes the following syntax:
<pre class="syntax">
<strong>for (</strong> <em>initialization</em> <strong>;</strong> <em>test</em> <strong>;</strong> <em>post-processing</em> <strong>) {</strong>
   <em>body</em> <strong>;</strong>
<strong>}</strong></pre>

<img class="image-float-right" src="../java/images/Construct_ForLoop.png" alt="image"/>

<p>There are four parts in a for-loop. Three of them, <em>initialization</em>, <em>test</em> and <em>post-processing</em>, are enclosed in brackets <code>()</code> and separated by  2 semicolons. The <em>body</em> contains the repetitive task to be performed. The <em>initialization</em> statement is first executed. The <em>test</em> is then evaluated.  If the <em>test</em> returns true, the <em>body</em> is executed; followed by the <em>post-processing</em> statement. The <em>test</em> is evaluated again and the process repeats until the <em>test</em> returns false.  When the <em>test</em> is false, the for-loop completes and program execution continues to the next statement after the for-loop. The following flow chart illustrates the for-loop process:</p>

<p>In this example, the variable <code>number</code> is initialized to 1. If <code>number</code> is less than or equal to 100, the body of the loop executes, followed by the post-processing statement, which increment the value of <code>number</code> by 1. The loop repeats until the value of <code>number</code> is NOT less than or equal to 100 (i.e., more than 100).</p>
</li>
</ul>

<h5>TRY:</h5>
<ol>
  <li>Modify the above script to prompt the user for the multiplier as well as the number of multiples to be printed (in two <code>prompt()</code> statements).</li>
  <li>Modify the above script to print only multiples that are odd number. (<em>Hint</em>: The modulo operator &quot;<code>%</code>&quot; can be used to compute the remainder, e.g., <code>x % 2</code> computes the remainder of <code>x</code> divides by 2, which results in either 0 or 1.)</li>
</ol>

<h4>Example 5: User-defined Functions and <code>onclick</code> Event Handler</h4>

<p>Besides the JavaScript built-in functions such as <code>alert()</code>, <code>prompt()</code>, <code>write()</code>, and <code>writeln()</code>, you can define your own functions. A function has a name and a body consisting of a set of JavaScript statements that collectively performs a certain task. It may take zero or more argument(s) from the caller and return zero or one value back to the caller.</p>

<div data-myinclude="codes/JSExEvent.html"></div>

<h5>How it Works?</h5>

<ul>
<li>Lines 8-10 define a function called <code>openNewWindow()</code>, via the keyword <code>function</code>. The function invokes the built-in function <code>open(<em>url</em>)</code>, which opens a new browser window (or tab) and loads the page &quot;<code>JSEx1.html</code>&quot;.</li>

<li>Lines 15-16 create an HTML <em>button</em>. Clicking the button triggers the <code>onclick</code> event handler, i.e., <code>openNewWindow()</code> defined earlier.</li>
</ul>

<p><span class="lead">TRY:</span> Include another button, which opens &quot;<code>JSExVar.html</code>&quot;.</p>

<h4>Example 6: More Event Handlers: <code>onload</code>, <code>onmouseover</code> and <code>onmouseout</code></h4>

<p>JavaScript can be used to handle many types of events, in response to a user's action or browser's action. For example,</p>

<ul>
<li><code>onload</code>: fires <em>after</em> browser loaded the page.</li>
<li><code>onmouseover</code> and <code>onmouseout</code>: fires when the user points the mouse pointer at/away from the HTML element.</li>
</ul>

<div data-myinclude="codes/JSExMoreEvents.html"></div>

<h5>Dissecting the Program</h5>

<ul>
<li>Line 8 defines a variable <code>msgLoad</code>, which holds the strings to be displayed in the <code>onload</code> event handlers.</li>

<li>In the <code>&lt;body&gt;</code> opening tag (Line 12), we define the <code>onload</code> event handler for the <code>load</code> event. It invokes <code>alert()</code> with the message defined earlier.</li>

<li>Line 13 and 14 defines the event handlers <code>onmouseover</code> and <code>onmouseout</code> for the HTML element <code>&lt;p&gt;</code>. The text's color will be changed to red when the user points the mouse pointer at the element (by setting the CSS style property <code>color</code> to red), and revert back to its original color when the mouse pointer is moved away (by resetting the CSS style property <code>color</code> to an empty string). The special keyword <code>this</code> refer to this object.</li>
</ul>

<h4>Example 7: Separating HTML, CSS and JavaScript</h4>

<p>The previous example works fine. You will find many such example in textbooks, especially the older textbooks. However, it has a big problem. All the HTML contents, CSS presentation styles and JavaScript programming codes are placed in a single file. For a small toy program, the problem is not serious. But when your program grows and if the HTML, CSS and JavaScript are written by different people, you will have a real challenge in maintaining the program. Remember that HTML is for the <em>contents</em>, CSS for <em>presentation</em> and JavaScript for the <em>behavior</em>.</p>

<p>Let's rewrite the example to place the HTML, CSS and JavaScript in three different files.</p>

<div data-myinclude="codes/JSExFiles.html"></div>

<div data-myinclude="codes/JSExFiles.css"></div>

<div data-myinclude="codes/JSExFiles.js"></div>

<h5>How it Works?</h5>

<ol>
<li>Placing the scripting codes inside the HTML page is not a good software engineering practice. Instead, the now-preferred approach is to place the scripts, as well as CSS styles, in external files, which can then uniformly applied to all pages in your website.</li>

<li>Let's begin with the HTML file. Now, the HTML file keeps only the contents, no presentation style and nor programming logic.
  
<ol>
<li><span class="lead-code">&lt;link rel=&quot;stylesheet&quot; href=&quot;JSExFiles.css&quot;&gt;</span><br>
The CSS style sheet is kept in an external file, referenced via the above <code>&lt;link&gt;</code> tag.<br>
Note: In HTML4/XHTML1.0 you need to include attribute <code>type=&quot;text/css&quot;</code> in the <code>&lt;link&gt;</code> opening tag.</li>

<li><span class="lead-code">&lt;script src=&quot;JSExFiles.js&quot;&gt;&lt;/script&gt;</span><br>
Also, the JavaScript programming code is kept in an external file, referenced via the above <code>&lt;script&gt;</code> tag. Take note that the closing tag <code>&lt;/script&gt;</code> is needed, although there is no content.<br>
Note: In HTML4/XHTML1.0, you need to include attribute <code>type=&quot;text/javascript&quot;</code> in the <code>&lt;script&gt;</code> opening tag.</li>

<li><span class="lead-code">&lt;p id=&quot;magic&quot;&gt;Point your mouse pointer here!!!&lt;/p&gt;</span><br>
We provide an unique <code>id</code> to this <code>&lt;p&gt;</code> tag. This <code>id</code> will be used in the JavaScript to select this tag.</li>
</ol>
</li>
  
<li>The CSS file contains only one style definition:<br>
<span class="lead-code">.highlight { color:red; }</span><br>
This define a CSS Class-Selector called <code>highlight</code>
to display the element with <code>class=&quot;highlight&quot;</code> in color red.</li>

<li>In the JavaScript:

<ol>
<li><span class="lead-code">window.onload = function() { ... }</span><br>
We attach a so-called <em>inline</em> function as the <code>onload</code> event handler. This function will be invoked after the page is fully loaded.</li>

<li><span class="lead-code">document.getElementById(&quot;magic&quot;).onmouseover = function() { this.className = &quot;highlight&quot;; }</span><br>
We use <code>document.getElementById(&quot;magic&quot;)</code> function to select the <code>&lt;p id=&quot;magic&quot;&gt;</code> element. We then attach an inline function as the <code>onmouseover</code> event handler for this <code>&lt;p&gt;</code> element. When the user moves the mouse over this element, this function changes the <code>class</code> attribute to &quot;<code>highlight</code>&quot;. In response, the CSS turns the <code>&lt;p&gt;</code> element to color red.</li>

<li><span class="lead-code">document.getElementById(&quot;magic&quot;).onmouseout = function() { this.className = &quot;&quot;; }</span><br>
Similarly, when the user moves the mouse out of the <code>&lt;p id=&quot;magic&quot;&gt;</code> element, the event handler changes the <code>class</code> attribute to &quot;&quot;. In response, CSS changes the color to its default.</li>

<li><span class="lead-code">alert(&quot;Hello!&quot;)</span><br>
This puts up an alert dialog box.</li>
</ol></li>
</ol>

<h4>Example 8: Manipulating the Contents of HTML Elements</h4>

<p>You can select HTML element(s) within the current page via these functions:</p>

<ol>
<li><span class="lead-code">document.getElementById(<em>anId</em>)</span>: returns the HTML element with <code>id=&quot;<em>anId</em>&quot;</code>, or <code>null</code> if the <code>id</code> does not exist. The <code>id</code> attribute should be unique within an HTML document.</li>

<li><span class="lead-code">document.getElementsByTagName(<em>aTagName</em>)</span>: returns an array of HTML elements with the given HTML tag name.</li>

<li><span class="lead-code">document.getElementsByClassName(<em>aClassName</em>)</span>: returns an array of HTML elements having attribute <code>class=&quot;<em>aClassName</em>&quot;</code>.</li>

<li><span class="lead-code">document.getElementsByName(<em>aName</em>)</span>: returns an array of HTML elements having attribute <code>name=&quot;<em>aName</em>&quot;</code>.</li>
</ol>

<p>To modify the content of an HTML element, you can assign a new value to the <code>innerHTML</code> property of that element. (The property <code>innerHTML</code> is really useful and is supported in most of the browsers. It is, however, not included in the W3C DOM specification?!)</p>

<div data-myinclude="codes/JSExInnerHtml.html"></div>

<div data-myinclude="codes/JSExInnerHtml.js"></div>

<h5>How it works?</h5>

<ol>
<li>This HTML document contains a <code>&lt;h1&gt;</code> element with an unique <code>id=&quot;heading1&quot;</code> (Line 10), two <code>&lt;h2&gt;</code> elements (Line 11-12), three <code>&lt;p&gt;</code> elements with <code>class=&quot;para&quot;</code> (Line 13-15), and three <code>&lt;input type=&quot;button&quot;&gt;</code> with unique <code>id</code> (Line 16-18).</li>

<li>In the user-defined function <code>changeHeading1()</code>, we use <code>document.getElementById(&quot;heading1&quot;)</code> to select the <code>&lt;h1&gt;</code> element, and then modify its <code>innerHTML</code> property.</li>

<li>In <code>changeHeading2()</code> function, we use <code>document.getElementsByTagName(&quot;h2&quot;)</code> to select all the <code>&lt;h2&gt;</code> elements in an array <code>elms</code>. We then use a for-loop to iterate through all the elements in the array. The <code>elms.length</code> property keeps the length of the array.</li>

<li>In <code>changeParagraph()</code> function, we use <code>document.getElementsByClassName(&quot;para&quot;)</code> to select all the <code>&lt;p&gt;</code> elements.</li>

<li>The page contains three buttons to trigger the functions defined (Line 16-18).</li>

<li>The script contains a function <code>init()</code>, which is assigned as the <code>onload</code> handler via <code>window.onload=init</code>. That is, <code>init()</code> will be triggered <em>after</em> the page is loaded. The <code>init()</code> function assigns <code>onclick</code> event handlers to the buttons, selected via <code>document.getElementById()</code> using the unique buttons' <code>id</code>.</li>
</ol>

<p><span class="lead">TRY: </span>[TODO]</p>

<h4>Example 9: Intercepting a Hyperlink</h4>

<p>This example uses a script to intercept a hyperlink to put up a warning message, then proceed to the link.</p>

<div data-myinclude="codes/JSExLink.html"></div>

<div data-myinclude="codes/JSExLink.js"></div>

<h5>How it works?</h5>

<ol>
<li>The HTML page has an hyperlink <code>&lt;a&gt;</code> with an unique <code>id</code>.</li>

<li>The <code>init()</code> function assigns an <code>onclick</code> handler to the hyperlink, selected via <code>document.getElementById()</code>.</li>

<li>When the hyperlink is clicked, the <code>onclick</code> handler <code>showWarning()</code> triggered. If <code>confirm()</code> returns true, the new page will be loaded; otherwise, the current page remains.</li>
</ol>

<p><span class="lead">TRY: </span>[TODO]</p>

<h4>More Advanced JavaScript Examples</h4>

<p>More &quot;<a href="JavaScript_Examples.html">Advanced JavaScript Examples</a>&quot;.</p>

<h4 id="JavaScript_Debug">Debugging JavaScripts</h4>

<p>A good graphic debugger is a MUST for programming in any language. Programming in JavaScript, in particular, requires a graphic debugger. It is because JavaScripts are interpreted and does not need to be compiled. Hence, there is no compiler to show you the syntax errors. A simple and trivial syntax error (e.g., missing bracket, mis-spelling) will render the entire script not workable. Worst still, you would not see any error message when the script did not work. Can you debug without any error message or clue?</p>

<p>Without a graphic debugging, the only mean to debug JavaScript is to insert <code>alert()</code> at strategic locations to print out selected data.</p>
<p>After  modifying a JavaScript, I recommend that you use Ctrl-F5 to refresh the page, which shall load a fresh copy instead of loading from the cache. You might need to clear the browser's cache or re-start the browser, if you modification does not take effect.</p>

<h5>F12 Developer Tools</h5>
<p>In Chrome and Firefox, you can press F12 to activate the developer Tools (hence called F12 Developer Tools).</p>

<h5>Firefox: Firebug plug-in (or Web Developer Tools) - ESSENTIAL!!!</h5>

<p>Simply GREAT and MUST HAVE for debugging HTML/CSS and JavaScript!!! You can install firebug from <a href="http://getfirebug.com/">http://getfirebug.com/</a>. It provides these features:</p>

<ol>
<li>Console: View the JavaScript <em>error messages</em>. Start the firebug and switch to the &quot;Console&quot; panel.</li>
<li>Script: View and <em>debug</em> JavaScript. Start the firebug. Switch to the &quot;Script&quot; panel. &quot;Enable&quot; or &quot;Reload&quot; if necessary. You can set a breakpoint by clicking on the statement number, single step through the JavaScript statements, watch the expression, and etc. Read &quot;<a href="http://getfirebug.com/javascript">JavaScript Debugger and Profiler</a>&quot;.</li>
<li>DOM: View the HTML DOM of the current document.</li>
<li>HTML and CSS.</li>
</ol>

<p>To debug JavaScript under Firebug:</p>
<ol>
<li>Launch Firebug &rArr; Choose the &quot;Script&quot; panel to view your JavaScript, shown with green-bold line numbers.</li>
<li>Refresh (Ctrl-F5) the page, and check the <em>error console</em> (Under &quot;Console&quot; &rArr; &quot;Errors&quot;) for syntax errors! Correct all the syntax errors.</li>
<li>To trace the program, set <em>breakpoints</em> at selected JavaScript statements, by clicking on the right margin (to the left of line number). A red circle shows up denoting a breakpoint. Take note that you can only set breakpoint on statements with a green-bold line number. [If your JavaScript statements do not have a green-bold line number, there are syntax errors on these statements. You need to correct the syntax errors and reload the page.]</li>
<li>Trigger the script (via clicking button/link, or reloading the page). The execution stops at the first breakpoint. You can then step-over the statement (or step-into function), and inspect the variables by positioning the mouse pointer on the variable; or add the variable to &quot;watch&quot;.</li>
<li>You can resume the execution (via the continue button).</li>
</ol>

<p>Notes: If you get the error &quot;Script Panel was inactive during page load&quot; when switching into the &quot;script&quot; panel, you need to disable &quot;private browsing&quot; in Firefox's Tools &rArr; Options &rArr; Privacy.</p>

<p>Firefox also has a built-in &quot;Web Developer Tools&quot;, having similar functions as Firebug plug-in.</p>

<h5>Chrome: Developer Tools</h5>

<p>You can activate Chrome's Developer Tools via &quot;Control&quot; &rArr; &quot;More Tools&quot; &rArr; &quot;Developer Tools&quot;.</p>

<h5>The <code>console.log()</code></h5>

<p>Instead of using <code>alert()</code> and <code>document.write()</code> to show the intermediate results, you can also use <code>console.log(<em>message</em>[, <em>element</em>])</code>, which writes the <code><em>message</em></code> and the value of the <code><em>element</em></code> to the error console. It does not interfere the appearance you web page nor your normal operations.</p>

<p>For example, modify the JavaScript in Example 8 to print the values of innerHTML before modification.  You need to turn on the console (press F12) to see the output.</p>

<div data-myinclude="codes/JSExInnerHtmlDebug.js"></div>

<h4>JavaScript IDE</h4>

<p>Popular JavaScript IDEs are:</p>

<h5>NetBeans</h5>
<p>You can write JavaScripts by creating a web application under NetBeans (Read &quot;<a href="../howto/NetBeans_HowTo.html#NetBeans_WebApp">Developing web application under NetBeans</a>&quot;), via &quot;new&quot; &rArr; &quot;Others&quot; &rArr; In &quot;Categories&quot;, select &quot;Other&quot; &rArr; In &quot;File Types&quot;, select &quot;HTML File&quot; or &quot;JavaScript File&quot;. NetBeans provides content-assist (or auto-complete) feature, which greatly improves your productivity. </p>
<p>You need to use Firebug or Web developer Tools to debug JavaScript.</p>

<h5>Eclipse</h5>
<p>[TODO]</p>

<h5>Aptana Studio</h5>
<p>An open source IDE (based on Eclipse), which supports JavaScript and Ajax.</p>


<h3>JavaScript and HTML</h3>
<p>As seen from the previous examples, JavaScripts are embedded inside an HTML document, and executed by the browser. There are two occasions on which browser executes JavaScript instructions:</p>
<ol>
<li>JavaScripts enclosed in <code>&lt;script&gt;...&lt;/script&gt;</code> runs during loading of the page.</li>
<li>Some JavaScripts, called <em>event handlers</em>, run as a result of the user's or browser's action (or <em>event</em>).  For example, clicking a button (<code>onclick</code>) or loaded a page (<code>onload</code>).</li>
</ol>

<p>There are, therefore, two places to put your JavaScript:</p>
<ol>
<li>between <code>&lt;script&gt;</code> and <code>&lt;/script&gt;</code> container tags; and</li>
<li>inside the HTML tags as the event handlers (such as <code>onclick</code>, <code>onmouseover</code>, <code>onload</code>), e.g., <code>onclick=&quot;<em>JavaScriptStatements</em>&quot;</code>.</li>
</ol>

<h4>The <code>&lt;script&gt;</code> Element</h4>

<p>The <code>&lt;script&gt;...&lt;/script&gt;</code> element contains the JavaScript programming statements. For example,</p>

<pre class="syntax">&lt;script&gt;
<span class="comment">... Your JavaScript statements here ...</span>
&lt;/script&gt;</pre>

<p>In HTML4/XHTML1.0, you need to include the attribute <code>type=&quot;text/javascript&quot;</code> in the <code>&lt;script&gt;</code> opening tag.</p>

<h4>In <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code>?</h4>

<p>You can place your JavaScript in either the <code>HEAD</code> section (called Header Script) or <code>BODY</code> section (called Body Script) of an HTML document. Typically, global variables and function definitions are placed in <code>HEAD</code> section, which will always be loaded and available to be used by the scripts in the <code>BODY</code> section. If you script refers to the DOM elements. place it before the <code>&lt;/body&gt;</code>, so as to ensure that the DOM is constructed. Placing the <code>&lt;script&gt;</code> outside the HEAD or BODY causes a HTML5 validation error.</p>

<h4>External JavaScripts</h4>
<p>The <em>now-preferred</em> approach is to keep the JavaScript in an external file with file extension of &quot;<code>.js</code>&quot;, and reference it via the <code>src </code>(source) attribute as follows:</p>

<pre class="syntax">&lt;script  src=&quot;<em>JavaScriptFilename</em>.js&quot;&gt;<span class="comment"></span>&lt;/script&gt;</pre>

<p>Take note that the closing tag <code>&lt;/script&gt;</code> is needed although there is no content!?</p>
<p>In HTML4/XHTML1.0, you need to include <code>type=&quot;text/javascript&quot;</code> in the <code>&lt;script&gt;</code> opening tag.</p>

<h4>The <code>&lt;noscript&gt;</code> Element</h4>
<p>The <code>&lt;noscript&gt;...&lt;/noscript&gt;</code> element provide an alternate message if scripting is disabled or not supported.</p>


<h3>JavaScript Basic Syntax</h3>

<h4>Comments</h4>

<p>Comments are ignored by the JavaScript runtime but greatly useful in explaining your codes to others (and also to yourself three days later).  You should use comments liberally to explain or document your codes.</p>

<p>An <em>end-of-line comment</em> begins with <code>//</code> and lasts till the end of the current line. A <em>multi-line comment</em> begins with <code>/*</code> and lasts till <code>*/</code>. </p>

<p>Take note that:</p>
<ul>
<li>HTML comments are enclosed inside <code>&lt;!-- ... --&gt;</code>;</li>
<li>CSS uses <code>/* ... */</code>, but NOT <code>//</code>.</li>
<li>JavaScript supports both  <code>/* ... */</code> and <code>//</code>, like Java/C/C++.</li>
</ul>


<h4>Expression</h4>
<p>An <em>expression</em> is a combination of variables, literals, operators, and sub-expressions that can be evaluated to produce <em>a single value</em>.</p>

<h4>Statement and Block</h4>
<p>A <em>statement</em> is a single instruction consisting of operators, variables and expression. It is strongly recommended to end each statement with a semicolon <code>';'</code> (Although it is not strictly necessary as the new-line can also serve as the statement terminator in JavaScript).</p>

<p>A <em>block</em> consists of zero or more statements enclosed in a pair of curly braces <code>{ statements }</code>. No semicolon is needed after the closing brace.</p>

<h4>Variable, Literals &amp; Types</h4>

<h5>Variables &amp; Assignment Operator <code>'='</code></h5>

<p>A variable is a <em>named</em> storage location that holds a <em>value</em>, e.g., <code>sum</code>, <code>average</code>, <code>name</code> and  <code>message</code>.</p>
<ul>
<li>A variable <em>name</em> (aka <em>identifier</em>) must begins with a letter (<code>a-z</code>, <code>A-Z</code>), underscore <code>'_'</code>, or dollar sign <code>'$'</code>. Subsequent characters could contain digits (<code>0-9</code>). Take that that jQuery uses <code>$</code>, <code>$()</code>, which are valid identifiers. Hyphen <code>'-'<span class="comment"></span></code> and space are not allowed, hence, <code>font-size</code>, <code>roman new</code>, are NOT valid identifiers.</li>
<li>JavaScript is case sensitive.  A <code>ROSE</code> is not a <code>rose</code> and is not a <code>Rose</code>.</li>
<li>A variable is declared using keyword <code>var</code>.</li>
<li>You can assign (and re-assign) a value to a variable using the assignment <code>'='</code> operator.</li>
</ul>

<h5>Literals</h5>

<p>A <em>literal</em> is a fixed value, e.g., <code>5566</code>, <code>3.14</code>, <code>&quot;Hello&quot;</code>, <code>true</code>,   that can be assigned to a variable, or form part of an expression.</p>

<h5>Types</h5>

<p>JavaScript is object-oriented. But, It supports both <em>primitive types</em> and <em>objects</em>.</p>

<p>JavaScript supports these <em>primitive types</em>:</p>
<ol>
<li><span class="lead-code">string</span>: a sequence of characters. Strings literals are enclosed in a pair of single quotes or double quotes (e.g., <code>&quot;Hello&quot;</code>, <code>'world'</code>).</li>
<li><span class="lead-code">number</span>: takes both integer (e.g., <code>5566</code>) or floating-point (e.g., <code>3.14159265</code>).</li>
<li><span class="lead-code">boolean</span>: takes boolean literal of either <code>true</code> or <code>false</code> (in lowercase).</li>
<li><span class="lead-code">undefined</span>: takes a special literal value called <code>undefined</code>. Take note that <code>undefined</code> is both a type and a literal value.</li>
<li><span class="lead-code">symbol</span>: new in ECMAScript 6. A data type whose instances are unique and immutable.</li>
</ol>

<p>JavaScript also supports these object types and value (we shall discuss object later):</p> 
<ol>
<li><span class="lead-code">object</span>: for general objects.</li>
<li><span class="lead-code">function</span>: for function objects.</li>
<li><span class="lead-code">null</span>: A special literal value for unallocated <code>object</code>.</li>
</ol>

<p>Unlike most of the general programming languages (such as Java/C/C++/C#) which are strongly type, JavaScript is <em>loosely type</em> (similar to most of the scripting languages such as UNIX Shell Script, Perl, Python).  You do not have to explicitly declare the type of a variable (such as <code>int</code> and <code>float</code>) during declaration. The type is decided <em>when a value is assigned to that variable</em>.  If a number is assigned, the variable takes on the <code>number</code> type and can perform numeric operations such as addition and subtraction.  If a string is assigned, the variable takes on the <code>string</code> type and can perform string operations such as string concatenation.</p>

<h5>Operator <code>typeof</code></h5>

<p>You can use the operator <code>typeof</code> to check the type of a variable.</p>

<h5>The <code>undefined</code> Type and <code>undefined</code> Literal Value</h5>

<p>An undeclared variable (via <code>var</code> keyword) takes on a special type called <code>undefined</code>. You cannot refer to its value.</p>

<p>When a variable is declared (via <code>var</code> keyword) without assigning an initial value, it takes on the type <code>undefined</code> and holds a special value called <code>undefined</code> (<code>uninitialized</code> is probably more precise?!), As soon as a value is assigned, the variable takes on the type of that value.  <em>The act of putting a value into a variable sets its type</em>. You can change the type of a variable by re-assigning a value of another type. Types are converted automatically  	as needed during execution (known as dynamically-typed).</p>

<p>For examples,</p>

<pre class="example">
<span class="comment">// Undeclared variable v1</span>
console.log('type:' + typeof v1); <span class="comment"> // type: undefined</span>
<span class="comment">//console.log('value:' + v1);     <span class="comment"> // value: error: v1 is not defined</span></span>
 
<span class="comment">// Declare variable v1, without assigning an initial value</span>
var v1;
console.log('type: ' + typeof v1); <span class="comment"> // type: undefined</span>
console.log('value: ' + v1);       <span class="comment"> // value: undefined</span>
 
<span class="comment">// Assign a string value</span>
v1 = 'abc';
console.log('type: ' + typeof v1); <span class="comment"> // type: string</span>
console.log('value: ' + v1);       <span class="comment"> // value: abc</span>
 
<span class="comment">// Assign a number string</span>
v1 = '123';
console.log('type: ' + typeof v1); <span class="comment"> // type: string</span>
console.log('value: ' + v1);       <span class="comment"> // value: 123</span>
 
<span class="comment">// Assign an integer value</span>
v1 = 123;
console.log('type: ' + typeof v1); <span class="comment"> // type: number</span>
console.log('value: ' + v1);       <span class="comment"> // value: 123</span>
 
<span class="comment">// Assign a floating point value</span>
v1 = 55.66;
console.log('type: ' + typeof v1); <span class="comment"> // type: number</span>
console.log('value: ' + v1);       <span class="comment"> // value: 55.66</span>
 
<span class="comment">// Assign a boolean value</span>
v1 = false;
console.log('type: ' + typeof v1); <span class="comment"> // type: number</span>
console.log('value: ' + v1);       <span class="comment"> // value: 123</span>

<span class="comment">/* objects */</span>
 
<span class="comment">// null object</span>
v1 = null;
console.log('type: ' + typeof v1); <span class="comment"> // type: object</span>
console.log('value: ' + v1);       <span class="comment"> // value: null</span>
 
<span class="comment">// object</span>
v1 = {name:'peter', age:21};
console.log('type: ' + typeof v1); <span class="comment"> // type: object</span>
console.log('value: ' + v1);       <span class="comment"> // value: [object Object]</span>
console.log('value: ' + v1.name);  <span class="comment"> // value: peter</span>
console.log('value: ' + v1.age);   <span class="comment"> // value: 21</span>
 
<span class="comment">// Date object</span>
v1 = new Date();
console.log('type: ' + typeof v1); <span class="comment"> // type: object</span>
console.log('value: ' + v1);       <span class="comment"> // value: Tue May 26 2015 00:35:12 GMT+0800 (SGT)</span>
 
<span class="comment">// Function object</span>
v1 = function() { return 'hello'; };
console.log('type: ' + typeof v1); <span class="comment"> // type: function</span>
console.log('value: ' + v1);       <span class="comment"> // value: function () { return 'hello'; }</span></pre>


<h5>Constants</h5>

<p>You can create a read-only, named <em>constant</em> with the keyword <code>const</code> (in place of <code>var</code>). For example,</p>

<pre class="example">
const SIZE = 9;</pre>

<p>Unfortunately, the keyword <code>const</code> has yet to be widely supported by web browsers. So don't use.</p>

<h4 id="numberType">The <code>number</code> Type, Literals &amp; Operations</h4>

<p>A variable of type <code>number</code> holds a number, either an integer or a floating-point number.</p>

<p>Integer literals can be expressed in:</p>
<ul>
<li><span class="lead-code">Decimal</span>: begins with a digit <code>1</code> to <code>9</code> (not <code>0</code>), e.g., <code>123</code> or <code>-456</code>,</li>
<li><span class="lead-code">Octal</span>: begins with a digit <code>0</code>, e.g., <code>0123</code> or <code>-0456</code>,</li>
<li><span class="lead-code">Hexadecimal</span>: begins with <code>0x</code> (or <code>0X</code>), e.g., <code>0xA1B2</code> or <code>-0XA1B2</code>.</li>
<li><span class="lead-code">Binary</span>: begins with <code>0b</code> (or <code>0B</code>), e.g., <code>0b10011100</code> or <code>-0B11001100</code>. [Binary may not be supported in some browsers.]</li>
</ul>

<p>Floating-point literals can be expressed in the usual form (e.g., <code>3.1416</code>) or scientific notation, e.g., <code>-1.23e4</code>, <code>4.56E-7</code>.</p>


<p>JavaScript also provides some special <code>number</code> literals:</p>
<ul>
<li><span class="lead-code">infinity</span>: e.g., <code>1/0</code></li>
<li><span class="lead-code">-infinity</span>: e.g., <code>-1/0</code></li>
<li><span class="lead-code">NaN (Not-a-Number)</span>: e.g., <code>0/0</code>, or converting the string <code>'Hello'</code> to a number.</li>
</ul>

<h5>Arithmetic Operations</h5>

<p>Arithmetic operations, as tabulated below, can be applied to numbers. The following results are obtained assuming that <code>x=5</code>, <code>y=2</code> before the operation.</p>

<table class="table-zebra" style="width:80%">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example (<code>x=5</code>, <code>y=2</code>)</th>
<th>Result</th>
</tr>
<tr>
<td class="text-center code big">+</td>
<td>Addition</td>
<td class="code">z = x + y;</td>
<td class="code">z is 7</td>
</tr>

<tr>
<td class="text-center code big">-</td>
<td class="font-normal">Subtraction (or Unary Negation)</td>
<td class="code">z = x - y;</td>
<td class="code">z is 3</td>
</tr>

<tr>
<td class="text-center code big">*</td>
<td>Multiplication</td>
<td class="code">z = x * y;</td>
<td class="code">z is 10</td>
</tr>

<tr>
<td class="text-center code big">/</td>
<td>Division</td>
<td class="code">z = x / y;</td>
<td class="code">z is 2.5</td>
</tr>

<tr>
<td class="text-center code big">%</td>
<td>Modulus (Division Remainder)</td>
<td class="code">z = x % y;</td>
<td class="code">z is 1</td>
</tr>

<tr>
<td class="text-center code big">++</td>
<td>Unary Pre- or Post-Increment</td>
<td class="code">y = x++; z = ++x;<br>
Same as: y = x; x = x+1; x = x+1; z = x;</td>
<td class="code">y is 5; z is 7; x is 7</td>
</tr>

<tr>
<td class="text-center code big">--</td>
<td>Unary Pre- or Post-Decrement</td>
<td class="code">y = --x; z = x--;<br>
Same as: x = x-1; y = x; z = x; x = x-1;</td>
<td class="code">y is 4; z is 4; x is 3</td>
</tr>
</table>

<p>In JavaScript, arithmetic operations are always performed in double-precision floating-point. That is, <code>1/2</code> gives <code>0.5</code> (instead of 0 in Java/C/C++). You may use the built-in function <code>parseInt()</code> to truncate a floating-point value to an integer, e.g., <code>parseInt(55.66)</code> and <code>parseInt(&quot;55.66&quot;)</code> gives <code>55</code>. You may also use the built-in mathematical functions such as <code>Math.round()</code>, <code>Math.floor()</code>, <code>Math.ceil()</code> for converting a floating-point number to an integer.</p>

<h5>Arithmetic cum Assignment Operators</h5>
<p>These are short-hand operators to combine two operations.</p>

<table class="table-zebra" style="width:80%">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>
<tr>
<td class="text-center code big">+=</td>
<td>Addition cum Assignment</td>
<td class="code">x += y;</td>
<td class="code">Same as: x = x + y;</td>
</tr>

<tr>
<td class="text-center code big">-=</td>
<td>Subtraction cum Assignment</td>
<td class="code">x -= y;</td>
<td class="code">Same as: x = x - y;</td>
</tr>

<tr>
<td class="text-center code big">*=</td>
<td>Multiplication cum Assignment</td>
<td class="code">x *= y;</td>
<td class="code">Same as: x = x * y;</td>
</tr>

<tr>
<td class="text-center code big">/=</td>
<td>Division cum Assignment</td>
<td class="code">x /= y;</td>
<td class="code">Same as: x = x / y;</td>
</tr>

<tr>
<td class="text-center code big">%=</td>
<td>Modulus cum Assignment</td>
<td class="code">x %= y;</td>
<td class="code">Same as: x = x % y;</td>
</tr>
</table>

<h5>The <code>Number</code> Operations</h5>
<ul>
<li><span class="lead-code">parseInt(<em>aString</em>)</span>: Parse the <em><code>aString</code></em><code></code> until the first non-digit, and return the number; or <code>NaN</code>.</li>
<li><span class="lead-code">parseFloat(<em>aString</em>)</span>:</li>
<li><span class="lead-code">Math.round(<em>aNumber</em>)</span>, <span class="lead-code">Math.floor(<em>aNumber</em>)</span>, <span class="lead-code">Math.ceil(<em>aNumber</em>)</span>:</li>
<li><span class="lead-code">Math.random()</span>: Generate a random number between 0 (inclusive) and 1 (exclusive).</li>

<li><span class="lead-code">isNaN(<em>aString</em>)</span>: return true if the <em><code>aString</code></em><code></code> is not a number. For example,
<pre class="example">
console.log(isNaN('123'));     <span class="comment">// false</span>
console.log(isNaN('1.23'));    <span class="comment">// false</span>
console.log(isNaN('123abc'));  <span class="comment">// true</span></pre>
It is interesting to note that JavaScript does not have counterpart functions like <code>isNumber()</code>, <code>isNumeric()</code>.</li>

<li><span class="lead-code">Number(<em>aString</em>)</span>: Return the number represented by <code><em>aString</em></code>, or <code>NaN</code>. Take that that this function name begins with uppercase, because this is a type casting operation.</li>

<li><span class="lead-code">.toFixed(<em>deciamlPlaces</em>)</span>: Return this number/string to the given number of decimal places. For example,
<pre class="example">
var n = 1.2345;
console.log(n.toFixed(2));  <span class="comment">// 1.23</span>
console.log(n);             <span class="comment">// 1.2345 - No change!</span></pre></li>
</ul>


<h4 id="stringType">The <code>string</code> Type, Literals &amp; Operations</h4>

<p>A <code>string</code> is a sequence of characters enclosed within a pair of <em>single</em> quotes or <em>double</em> quotes (e.g., <code>&quot;Hello&quot;</code>, <code>'world'</code>, <code>&quot;5566&quot;</code>, <code>'3.1416'</code>). You can use an <em>escape sequence</em> to represent special characters (such as <code>\n</code> for new-line, <code>\t</code> for tab, and <code>\u<em>hhhh</em></code> for Unicode character); and to resolve conflict (e.g., <code>\&quot;</code>, <code>\'</code>, <code>\\</code>).</p>
<p> Unlike Java/C/C++, but like HTML/CSS's attributes, you can use either single quotes or double quotes for <code>string</code>. This is handy as you can use single quotes if the <code>string</code> contains double quotes (e.g., <code>'&lt;div id=&quot;header&quot;&gt;&lt;/div&gt;'</code>), without using the escape sequences  (e.g., <code>&quot;&lt;div id=\&quot;header\&quot;&gt;&lt;/div&gt;&quot;</code>).</p>

<p> JavaScript is <em>dynamically-type</em>, and performs type conversion automatically. When a <code>string</code> value is used in arithmetic operations (such as subtraction or multiplication), JavaScript runtime automatically converts the <code>string</code> to a <code>number</code> if it represents a valid <code>number</code>; or a special <code>number</code> called <code>NaN</code> (not-a-number) otherwise. For example,</p>

<pre class="example">
<span class="comment">// In arithmetic operations, a string is converted to the number or NaN.</span>
console.log('55' - '66');   <span class="comment">// gives number -11 (subtraction)</span>
console.log('55' * 2);      <span class="comment">// gives number 110 (multiplication)</span>
console.log('Hello' - 1);   <span class="comment">// gives number NaN (subtraction failed)</span></pre>

<h5>The <code>'+'</code> Operator: Addition or Concatenation?</h5>

<p>If both the operands to a <code>'+'</code> operator are <code>numbers</code>, it performs the usual numeric <em>addition</em>. However, if one (or both) of the operand is a <code>string</code>, the <code>'+'</code> operator is <em>overloaded</em> to perform string <em>concatenation</em>. The other operand will be converted to a <code>string</code>, if necessary. For example,</p>

<pre class="example">
<span class="comment">// '+' operator is overloaded to perform string concatenation if one of the operands is a string</span>
console.log(11 + 22);       <span class="comment">// gives Number 33 (usual addition)</span>
console.log('11' + '22');   <span class="comment">// gives string 1122 (concatenation)</span>
console.log('11' + 22);     <span class="comment">// gives string 1122 (concatenation)</span>
console.log('Hello' + 22);  <span class="comment">// gives string Hello22 (concatenation)</span></pre>

<h5>Built-in Functions <code>parseInt()</code>, <code>parseFloat()</code> and <code>Number()</code></h5>

<p>To convert a numeric <code>string</code> to a <code>number</code>, you could use the built-in functions <code>parseInt()</code> or <code>parseFloat()</code>, which returns a <code>number</code> if conversion is successful; or <code>NaN</code> otherwise. For example,</p>

<pre class="example">
var magic = &quot;11&quot;;   <span class="comment">// string</span>
console.log(magic + 22);      <span class="comment">// string concatenation - string &quot;1122&quot;</span>
console.log(parseInt(magic) + 22);  <span class="comment"> // Addition - number 33</span>
console.log(parseInt(magic) + &quot;22&quot;); <span class="comment">// string concatenation - string &quot;1122&quot;</span>
console.log(parseInt(magic) + parseFloat(&quot;22.33&quot;));  <span class="comment">// Addition - number 33.33</span>
console.log(parseInt(&quot;abc&quot;));   <span class="comment">// NaN</span></pre>

<p>Take note that <code>parseInt()</code> works as long as the <code>string</code> begins with digits. It will parse up to the first non-digit. For example,</p>

<pre class="example">
console.log(parseInt(&quot;10px&quot;));   <span class="comment">// Return number 10</span>
</pre>

<p>You can also use the function <code>Number()</code>, which converts the object argument to a number that represents the object's value; or <code>NaN</code> if conversion fails. For example,</p>

<pre class="example">
var magic = &quot;8888&quot;
console.log(magic + 8);         <span class="comment">// string concatenation</span>
console.log(Number(magic) + 8); <span class="comment">// addition</span>
 
<span class="comment">// Number() also works on Object such as Date, e.g.,</span>
console.log(new Date(2015, 5, 1, 12, 34, 56));</pre>

<h5>String's Properties</h5>
<ul>
<li><span class="lead-code">.length</span>: E.g., <code><em>aString</em>.length</code> returns the length of the string.</li>
</ul>

<h5>String's Operations</h5>
<ul>
<li><span class="lead-code">.toUpperCase()</span>: returns the uppercase string.</li>
<li><span class="lead-code">.toLowerCase()</span>: returns the lowercase string.</li>
<li><span class="lead-code">.charAt(<em>index</em>)</span>: returns the character at the <em><code>index</code></em> position. Index begins from 0. Negative index can be used, which counts from the end of the string.</li>
<li><span class="lead-code">.substring(<em>beginIndex</em>, <em>endIndex</em>)</span>: returns the substring from <em><code>beginIndex</code></em>  (inclusive) to <em><code>endIndex</code></em> (exclusive).</li>
<li><span class="lead-code">.substr(<em>beginIndex</em>, <em>length</em>)</span>: returns the substring from <em><code>beginIndex</code></em> of <code><em>length</em></code>.</li>
<li><span class="lead-code">.indexOf(<em>searchString</em>, <em>fromIndex</em>?)</span>: Return the beginning index of the <em>first occurrence</em> of <code><em>searchstring</em></code>, starting from an optional <code><em>fromIndex</em></code> (default of 0); or <code>-1</code> if not found.</li>
<li><span class="lead-code">.lastIndexOf(<em>searchString</em>, <em>fromIndex</em>?)</span>: Return the beginning index of the <em>last occurrence</em> of <code><em>substring</em></code><code><em></em></code>, starting from an optional <code><em>fromIndex</em></code> (default of <code>string.length</code>); or <code>-1</code> if not found.</li>
<li><span class="lead-code">.slice(<em>beginIndex</em>, <em>endIndex</em>)</span>: Return the substring from <code><em>beginIndex</em></code> (inclusive) to <code><em>endIndex</em></code> (exclusive).</li>
<li><span class="lead-code">.split(<em>delimiter</em>)</span>: returns an array by splitting the string using <em><code>delimiter</code></em>.</li>
<li>Searching/Modifying Strings using Regular Expression: See &quot;<a href="#regex">Regular Expression</a>&quot;.</li>
</ul>

<h5>Multi-line String</h5>
<p>You can create a multi-line string via back-quotes `...`. For example,</p>
<pre class="example">
console.log(<span class="new">`string line 1
string line 2`</span>);
<span class="comment">// Same as</span>
console.log('string line 1<span class="new">\n</span>string line 2');</pre>

<h4 id="booleanType">The <code>boolean</code> Type, Literals &amp; Operations</h4>

<p>A variable of the type <code>boolean</code> holds a value of either <code>true</code> of <code>false</code>. <code>true</code> and <code>false</code> are keywords in JavaScript.</p>

<p>As mentioned, JavaScript performs automatic type conversion if necessary. During the type conversion, the following 6 values are converted to <code>false</code>:</p>
<ol>
<li>number <code>0</code></li>
<li>number <code>NaN</code> (Not-a-Number),</li>
<li>empty string (<code>&quot;&quot;</code>, <code>''</code>),</li>
<li><code>undefined</code> value,</li>
<li>boolean <code>false</code>,</li>
<li><code>null</code> (unallocated) object.</li>
</ol>

<p>All the other values are converted to <code>true</code>.</p>

<p>You need to memorize this: <code>!value</code> return <code>true</code> if <code>value</code> is one of these 6 values: <code>0</code>, <code>NaN</code>, <code>""</code>, <code>undefined</code>, <code>false</code>, and <code>null</code>.</p>

<h5>Comparison Operators</h5>

<p>The following relational operators, which produce a <code>boolean</code> result, are defined in JavaScript. The results are obtained assuming <code>num=8</code>, <code>str='8'</code>.</p>

<table class="table-zebra" style="width:60%">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example (<code>num=8</code>, <code>str='8'</code>)</th>
<th>Result</th>
</tr>

<tr>
<td class="text-center code big">==</td>
<td>Equal To<br>(in Value)</td>
<td><pre>
num == 8
str == '8'
num == str
8 == '8'</pre></td>
<td><pre>
true
true
true
true</pre></td>
</tr>

<tr>
<td class="text-center code big">!=</td>
<td>Not Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">===</td>
<td>Strictly Equal To<br>(in Type and Value)</td>
<td><pre>
num === 8
str === '8'
<span class="new">num === str</span>
<span class="new">8 === '8'</span></pre></td>
<td><pre>
true
true
<span class="new">false</span>
<span class="new">false</span></pre></td>
</tr>

<tr>
<td class="text-center code big">!==</td>
<td>Strictly Not Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&gt;</td>
<td>Greater Than</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&gt;=</td>
<td>Greater Than or Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&lt;</td>
<td>Less Than</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&lt;=</td>
<td>Less Than or Equal To</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</table>

<h5><code>===</code> vs. <code>==</code></h5>

<p>The strictly equality operator <code>===</code> returns <code>true</code> if both operands have the same type and same value; while <code>==</code> returns <code>true</code> if both operands have the same value, but may or may not be the same type.</p>

<p>JavaScript needs to provide two different equality operators, because it is loosely type and carries out automatic type conversion in many situation. For example,</p>

<ul>
<li>When a number is compared with a string, the string is converted to a number (or <code>NaN</code> if it does not contain a valid number). Hence, <code>(8 == &quot;8&quot;)</code> returns <code>true</code>. But, <code>(8 === &quot;8&quot;)</code> returns <code>false</code>, because the operands are not of the same type.</li>

<li><code>===</code>, <code>!==</code>, <code>==</code>, <code>!=</code> can be applied to boolean (and all the JavaScript types), e.g., <code>(&quot;&quot; == false)</code> gives <code>true</code> (because empty string is converted to <code>false</code>); but <code>(&quot;&quot; === false)</code> gives <code>true</code>.</li>

<li>It is RECOMMENED to use <code>===</code> (or <code>!==</code>), instead of <code>==</code> (or <code>!=</code>), unless you are certain that type is not important.</li>
</ul>

<h5>String Sorting (Collation) Order</h5>
<p>When two strings are compared, the encoding order (ASCII or Unicode table) is used. Hence, string <code>&quot;8&quot;</code> is greater than string <code>&quot;10&quot;</code>.</p>


<p>For example,</p>

<pre class="example">
<span class="comment">// Comparing numbers</span>
var x = 8;              <span class="comment"> // type:number, value:8</span>
console.log(x == 8);    <span class="comment"> // true (same value)</span>
console.log(x == '8');  <span class="comment"> // true (string converted to number)</span>
console.log(x === 8);   <span class="comment"> // true (same type and value)</span>
console.log(x === '8'); <span class="comment"> // false (different type)</span>
 
console.log(x &lt; 10);    <span class="comment"> // true</span>
console.log(x &lt; '10');  <span class="comment"> // true (string converted to number)</span>
 
<span class="comment">// Comparing two strings</span>
console.log('8' &lt; '10');     <span class="comment"> // false (comparing two strings alphabetically)</span>
console.log('8' &lt; '9');      <span class="comment"> // true (comparing two strings, not numbers)</span>
console.log('Hello' &lt; 'hi'); <span class="comment"> // true (comparing two strings)</span></pre>

<h5>Logical Operators</h5>
<p>The following boolean (or logical) operators are provided in JavaScript:</p>

<table class="table-zebra" style="width:60%">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>

<tr>
<td class="text-center code big">&amp;&amp;</td>
<td>Logical AND</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">||</td>
<td>Logical OR</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">!</td>
<td>Logical NOT</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</table>

<h5>Short-Circuit Evaluation for Boolean Expressions</h5>

<p>Evaluation of logical operations are always <em>short-circuited</em>. That is, the operation is terminated as soon as the result is certain, e.g., (<code>false &amp;&amp; ...</code>) is short-circuited to give <code>false</code>, (<code>true || ...</code>) gives <code>true</code>, the <code>...</code> will not be evaluated.</p>

<h4>Explicit Type Conversion</h4>
<p>The JavaScript runtime performs type conversion automatically. However, at times, you may need to convert from one type to another explicitly.</p>

<p><span class="lead">Converting a <code>number</code> to a <code>string</code></span>: Simply concatenate the <code>number</code> with an empty <code>string</code>, e.g., <code>&quot;&quot; + 5</code> gives <code>&quot;5&quot;</code>.</p>

<p><span class="lead">Converting a <code>string</code> to a <code>number</code></span>: Use built-in functions <code>parseInt(<em>string</em>)</code>, <code>parseFloat(<em>string</em>)</code> or <code>Number(<em>string</em>)</code> to convert a <code>string</code> which contains a <em>valid</em> <code>number</code>. For example, <code>parseInt(&quot;55&quot;)</code> gives <code>55</code>, <code>parseInt(55.66)</code> gives <code>55</code>, <code>parseInt(&quot;55.66&quot;)</code> gives <code>55</code>, <code>parseFloat(&quot;55.66&quot;)</code> gives <code>55.66</code>, <code>parseInt(&quot;55px&quot;)</code> gives <code>55</code>, <code></code> <code></code>but <code>parseInt(&quot;Hello&quot;)</code> gives <code>NaN</code>.</p>

<p><span class="lead">Converting a float to an integer</span>: Use <code>parseInt()</code> (e.g., <code>parseInt(55.66)</code> gives <code>55</code>), or built-in mathematical functions such as <code>Math.round()</code>, <code>Math.ceil()</code> or <code>Math.floor()</code>.</p>

<h4>Flow Control - Decision</h4>

<p>JavaScript provides these flow control construct. The syntax is the same as Java/C/C++.</p>

<table class="table-zebra" style="width:100%">
<col style="width:30%">
<col>
<tr>
<th>Syntax</th>
<th>Example</th>
</tr>
<tr>
<td><pre>
<strong>if (</strong><em>condition</em><strong>) {</strong>
  <em>trueBlock</em><strong>;
}</strong></pre></td>
<td><pre>if (day === 'sat' || day === 'sun') {
   alert('Super weekend!');
}</pre></td>
</tr>

<tr>
<td><pre><strong>if (</strong><em>condition</em><strong>) {</strong>
  <em>trueBlock</em><strong>;
} else {</strong>
  <em>falseBlock</em><strong>;
}</strong></pre></td>

<td><pre>if (day === 'sat' || day === 'sun') {
   alert('Super weekend!');
} else {
   alert('It is a weekday...');
}</pre></td>
</tr>

<tr>
<td><pre><em>variable</em> <strong>= (</strong><em>condition</em><strong>) ?</strong> <em>trueValue</em><strong> :</strong> <em>falseValue</em>;
<span class="comment">Same as</span>
if (condition) { variable = trueValue; }
else { variable = falseValue; }</pre></td>

<td><pre>var max = (a &gt; b) ? a : b;
var abs = (a &gt;= 0) ? a : -a;</pre></td>
</tr>

<tr>
<td><pre><strong>if (</strong><em>condition1</em><strong>) {</strong>
  <em>block</em>1<strong>; 
} elseif (</strong><em>condition2</em><strong>) {</strong>
  <em>block2</em><strong>;
} elseif (</strong>...<strong>) {</strong>
......
<strong>} else {</strong>
  <em>elseBlock</em><strong>;
}</strong></pre></td>

<td><pre>if (day === 'sat' || day === 'sun') {
   alert('Super weekend!');
} else if (day === 'fri') {
   alert(&quot;Thank God, it's Friday!&quot;);
} else {
   alert('It is a weekday...');
}</pre></td>
</tr>

<tr>
<td><pre><strong>switch (</strong><em>expression</em><strong>) {
  case</strong> <em>value1</em><strong>:</strong>
    <em>statements</em><strong>; break;
  case</strong> <em>value2</em><strong>:</strong>
    <em>statements</em><strong>; break;</strong>
  ......
  ......
  <strong>default:</strong>
    <em>statements</em><strong>;
}</strong></pre></td>

<td><pre>switch (day) {
   case 'sat': case 'sun': 
      alert('Super weekend!'); break;
   case 'mon': case 'tue': case 'wed': case 'thu': 
      alert('It is a weekday...'); break;
   case 'fri': 
      alert(&quot;Thank God, it's Friday&quot;); break;
   default: 
      alert(&quot;You are on earth?! Aren't you?&quot;);
}</pre></td>
</tr>
</table>

<h4>Flow Control - Loops</h4>

<p>JavaScript provides the following loop constructs.  The syntax is the same as Java/C/C++.</p>

<table class="table-zebra" style="width:100%">
<col style="width:30%">
<col>

<tr>
<th>Syntax</th>
<th>Example</th>
</tr>

<tr>
<td><pre><strong>while (</strong><em>test</em><strong>) {</strong>
  <em>trueBlock</em><strong>;
}</strong></pre></td>

<td><pre><span class="comment">// Sum from 1 to 100</span>
var sum = 0, number = 1;
while (number &lt;= 100) {
   sum += number;
}</pre></td>
</tr>

<tr>
<td><pre><strong>do {</strong>
  <em>trueBlock</em><strong>;
} while (</strong><em>test</em><strong>);</strong></pre></td>

<td><pre><span class="comment">// Sum from 1 to 100</span>
var sum = 0; number = 1;
do {
  sum += number;
}</pre></td>
</tr>

<tr>
<td><pre><strong>for (</strong><em>initialization</em>; <em>test</em><strong>;</strong> <em>post-processing</em><strong>) {</strong>
  <em>trueBlock</em><strong>;
}</strong></pre></td>

<td><pre><span class="comment">// Sum from 1 to 100</span>
var sum = 0;
for (var number = 1; number &lt;= 100; number++) {
   sum += number;
}</pre></td>
</tr>
</table>

<h5><code>break</code>, <code>continue</code> and label</h5>

<p>The following loop-control statements are provided (same syntax as Java/C/C++):</p>
<ul>
<li><span class="lead-code">break</span> - exit the innermost loop.</li>
<li><span class="lead-code">continue</span> - abort the current iteration, and continue to the next iteration.</li>
<li><span class="lead-code"><em>label</em>:</span> - provide an identifier for a statement, which can be used by <code>break <em>label</em></code> and <code>continue <em>label</em></code>.</li>
</ul>
<p>Try to avoid these statements, as they are hard to trace and maintain.</p>

<h4 id="arrays">Arrays</h4>

<p>An array is an <em>indexed collection</em>. An array can be used to store a list of items (elements) under a single name with an <em>integral</em> index. You can reference individual element via the integral index in the form of <code><em>anArrayName</em>[<em>anIndexNumber</em>]</code>. Furthermore, you can conveniently process all the elements of an array collectively via a loop.</p>

<h5>Creating an Array via Array Initializer</h5>

<p>You can create an array by assigning an <em>array literal</em> to a variable, known as <em>Array Initializer</em>, in the form of <code>[<em>value1</em>, <em>value2</em>, ...]</code>. For examples,</p>

<pre class="example">
<span class="comment">// Create an array by declaring a variable and assign an array literal</span>
<span class="new">var weekdays = [&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;, &quot;wed&quot;, &quot;thu&quot;, &quot;fri&quot;, &quot;sat&quot;];</span>
 
<span class="comment">// You can print out an array</span>
document.writeln(weekdays);     <span class="comment"> // sun,mon,tue,wed,thu,fri,sat</span>
console.log(weekdays);          <span class="comment"> // [&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;, &quot;wed&quot;, &quot;thu&quot;, &quot;fri&quot;, &quot;sat&quot;]</span>
<span class="comment">// A JavaScript Array is actually an object</span>
console.log(typeof weekdays);   <span class="comment"> // object</span>
 
<span class="comment">// You can get the length of the array via .length property</span>
console.log(<span class="new">weekdays.length</span>);   <span class="comment"> // 7</span>
 
<span class="comment">// A JavaScript array can contain mixed types (number, string, boolean)</span>
<span class="new">var somethings = [1, 2.3, &quot;abc&quot;, false];</span>
console.log(somethings);        <span class="comment"> // [1, 2.3, &quot;abc&quot;, false]</span>
console.log(somethings.length); <span class="comment"> // 4</span>
 
<span class="comment">// A JavaScript array is dynamically allocated</span>
<span class="new">var fruits = [];</span>            <span class="comment"> // begins with an emtpy array</span>
console.log(fruits);        <span class="comment"> // []</span>
console.log(fruits.length); <span class="comment"> // 0</span>
 
<span class="comment">// Dynamically add an item</span>
<span class="new">fruits[0] = &quot;apple&quot;;</span>
console.log(fruits);        <span class="comment"> // [&quot;apple&quot;]</span>
console.log(fruits.length); <span class="comment"> // 1</span>
 
<span class="comment">// Add an item, skipping some indexes</span>
<span class="new">fruits[3] = &quot;orange&quot;;</span>
document.writeln(fruits);   <span class="comment"> // apple,,,orange</span>
console.log(fruits);        <span class="comment"> // [&quot;apple&quot;, 3: &quot;orange&quot;]</span>
console.log(fruits.length); <span class="comment"> // 4</span>
 
<span class="comment">// Push an item at the end of the array</span>
<span class="new">fruits.push('banana');</span>
document.writeln(fruits);   <span class="comment"> // apple,,,orange,banana</span>
console.log(fruits);        <span class="comment"> // [&quot;apple&quot;, 3: &quot;orange&quot;, 4: &quot;banana&quot;]</span>
console.log(fruits.length); <span class="comment"> // 5</span>
 
<span class="comment">// Traversing an array via for-loop with index</span>
<span class="new">for (var i = 0; i &lt; fruits.length; ++i) {
   console.log(i + &quot;: &quot; + fruits[i]);
}</span>
 <span class="comment"> // 0: apple</span>
 <span class="comment"> // 1: undefined</span>
 <span class="comment"> // 2: undefined</span>
 <span class="comment"> // 3: orange</span>
 <span class="comment"> // 4: banana</span>
 
<span class="comment">// Using the JavaScript's &quot;for-index-in&quot; loop</span>
<span class="new">for (var i in fruits) {
   console.log(i + &quot;: &quot; + fruits[i]);
}</span>
 <span class="comment"> // 0: apple</span>
 <span class="comment"> // 3: orange</span>
 <span class="comment"> // 4: banana</span>
 <span class="comment"> // (The undefined indexes were skipped)</span>
 
<span class="comment">// Using the JavaScript's "for-item-of" loop</span>
<span class="new">for (var item of fruits) {
   console.log(item);
}</span>
  <span class="comment">// apple
  // undefined
  // undefined
  // orange
  // banana
  // (The undefined items were not skipped)</span></pre>
 
<p>Take note that JavaScript's array literal is enclosed in square bracket <code>[...]</code>, instead of <code>{...}</code> in Java/C/C++.  JavaScript uses <code>{...}</code> for object literal (to be discussed later).</p>

<p>You can also use an Array Initializer to create an array with missing indexes. For example,</p>

<pre class="example">
var fruits = ['apple', , , 'orange'];
console.log(fruits); <span class="comment"> // [&quot;apple&quot;, 3: &quot;orange&quot;]</span>
                     <span class="comment"> // fruits[1] and fruits[2] are undefined</span></pre>

<h5>Accessing an Item</h5>

<p>You can access individual element of an array via an integral <em>index</em>, in the form of <code><em>anArrayName</em>[<em>anIndexNumber</em>]</code>. The index of the array begins at 0, and shall be a non-negative integer.</p>

<h5>Array's <code>length</code></h5>

<p>The length of the array is maintained in a variable called <code>length</code>, which can be accessed via <code><em>anArrayName</em>.length</code>. In fact, the property <code>.length</code> returns the last integral index plus 1, as JavaScript's array index is 0-based. Nonetheless, you are allow to manipulate the <code>.length</code>. For example,</p>

<pre class="example">
a = ['11', '22', '33'];
console.log(a);       <span class="comment"> // [&quot;11&quot;, &quot;22&quot;, &quot;33&quot;]</span>
console.log(<span class="new">a.length</span>);<span class="comment"> // 3</span>
 
a.length = 10;
console.log(a);       <span class="comment"> // [&quot;11&quot;, &quot;22&quot;, &quot;33&quot;]</span>
console.log(<span class="new">a.length</span>);<span class="comment"> // 10</span></pre>

<p>Clearly, setting the <code>.length</code> does not affect the array elements.</p>

<h5>Dynamic Array</h5>

<p>Unlike Java/C/C++, the JavaScript array is dynamically allocated. You can add more elements to an array. You can also remove the content of an element using keyword <code>delete</code>. For examples,</p>

<pre class="example">
<span class="new">var days = [&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;];</span>
console.log(days.length); <span class="comment"> // 3</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;]</span>
 
<span class="comment">// Dynamically add an item</span>
<span class="new">days[5] = &quot;fri&quot;;</span>
console.log(days.length); <span class="comment"> // 6</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;, 5: &quot;fri&quot;] (items in between are undefined)</span>
 
<span class="comment">// Remove an item. Set to undefined.</span>
<span class="new">delete days[1];</span>
console.log(days.length); <span class="comment"> // 6</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, 2: &quot;tue&quot;, 5: &quot;fri&quot;]</span>
 
<span class="comment">// Push an item at the end</span>
<span class="new">days.push(&quot;sat&quot;);</span>
console.log(days.length); <span class="comment"> // 7</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, 2: &quot;tue&quot;, 5: &quot;fri&quot;, 6: &quot;sat&quot;]</span>
 
<span class="comment">// Remove the last item</span>
console.log(<span class="new">days.pop()</span>);  <span class="comment"> // sat</span>
console.log(days.length); <span class="comment"> // 6</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, 2: &quot;tue&quot;, 5: &quot;fri&quot;]</span>
 
<span class="comment">// Add an item in front, shifting the indexes</span>
<span class="new">days.unshift(&quot;hi&quot;);</span>
console.log(days.length); <span class="comment"> // 7</span>
console.log(days);        <span class="comment"> // [&quot;hi&quot;, &quot;sun&quot;, 3: &quot;tue&quot;, 6: &quot;fri&quot;]</span>
 
<span class="comment">// Remove an item in front, shifting the indexes</span>
console.log(<span class="new">days.shift()</span>); <span class="comment">// hi</span>
console.log(days.length); <span class="comment"> // 6</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, 2: &quot;tue&quot;, 5: &quot;fri&quot;]</span>
 
<span class="comment">// Negative index?</span>
<span class="new">days[-9] = 'hello';</span>
console.log(days.length); <span class="comment"> // 6</span>
console.log(days);        <span class="comment"> // [&quot;sun&quot;, 2: &quot;tue&quot;, 5: &quot;fri&quot;, -9: &quot;hello&quot;]</span>
  <span class="comment"> // The index -9 is considered as an object property,
   // outside the numerical indexes (to be discussed later)</span></pre>


<h5>Accessing All Items using for-loop with index</h5>

<p>Array is usually processed collectively using a loop, e.g.,</p>

<pre class="example">
var days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
for (var i = 1; i &lt; days.length; ++i) {
   console.log(i + &quot;: &quot; + days[i]);
}
 <span class="comment"> // 1: mon</span>
 <span class="comment"> // 2: tue</span>
 <span class="comment"> // 3: wed</span>
 <span class="comment"> // 4: thu</span>
 <span class="comment"> // 5: fri</span>
 <span class="comment"> // 6: sat</span></pre>

<h5>The JavaScript's <code>for-index-in</code> loop</h5>

<p>JavaScript provides a special <code>for-index-in</code> loop to process all the elements in an array. The syntax is as follows, where <code><em>index</em></code> takes on the each of the index number of element which are not <code>undefined</code>.</p>

<pre class="syntax">
<strong>for (var</strong> <em>index</em> <strong>in</strong> <em>arrayName</em>) <strong>{</strong> ... <strong>}</strong></pre>

<p>For example,</p>

<pre class="example">
var months = [&quot;jan&quot;, &quot;feb&quot;]; <span class="comment"> // index 0 and 1</span>
months[11] = &quot;dec&quot;;          <span class="comment"> // indexes 2 to 10 undefined</span>
for (var i in months) {
   console.log(i + &quot;: &quot; + months[i]);
}
  <span class="comment"> // 0: jan</span>
  <span class="comment"> // 1: feb</span>
  <span class="comment"> // 11: dec</span></pre>

<h5>The JavaScript's <code>for-item-of</code> loop</h5>

<p>JavaScript provides a special <code>for-item-of</code> loop to process all the elements in an array. The syntax is as follows, where <code><em>item</em></code> takes on the each of the element including the <code>undefined</code>.</p>

<pre class="syntax">
<strong>for (var</strong> <em>item</em> <strong>of</strong> <em>arrayName</em>) <strong>{</strong> ... <strong>}</strong></pre>

<h5>Add/Remove item(s)</h5>

<p>You can:</p>
<ul>
<li>Use <code><em>array</em>.length</code> to add one item to the end of an array.</li>
<li>Use <code>delete</code> to remove a particular index (set it to <code>undefined</code>).</li>
<li>Use <code>push()</code> to add one or more items to the end of an array. <code>push()</code> returns the resultant length of the array.</li>
<li>Use <code>unshift()</code> to add one or more items to the beginning of an array. <code>unshift()</code> returns the resultant length of the array.</li>
<li>Use <code>pop()</code> to remove and return the last item of an array.</li>
<li>Use <code>shift()</code> to remove and return the first item of an array.</li>
</ul>

<p>For examples,</p>

<table class="table-zebra">
<tr>
<th>Purpose</th>
<th>Example</th>
</tr>

<tr>
<td>Add one item to the <em>end</em> using <code><em>array</em>.length</code></td>
<td><pre>
var a = [0, 'a', 'b'];
a[a.length] = 3;
console.log(a.length); <span class="comment">// 4</span>
console.log(a);        <span class="comment">// [0, &quot;a&quot;, &quot;b&quot;, 3]</span></pre></td>
</tr>

<tr>
<td>
Add one or items to the <em>end</em> using <code>push()</code>.
<br><code>push()</code> returns the resultant length of the array.
</td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.push(1, 'c')); <span class="comment">// 5</span>
console.log(a.length);       <span class="comment">// 5</span>
console.log(a);              <span class="comment">// [0, &quot;a&quot;, &quot;b&quot;, 1, &quot;c&quot;]</span></pre></td>
</tr>

<tr>
<td>Add one or items to the <em>beginning</em> using <code>unshift()</code>.
<br><code>unshift()</code> returns the resultant length of the array.</td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.unshift(-2, -1, 'c')); <span class="comment">// 6</span>
console.log(a.length);               <span class="comment">// 6</span>
console.log(a);   <span class="comment">// [-2, -1, &quot;c&quot;, 0, &quot;a&quot;, &quot;b&quot;]</span></pre></td>
</tr>

<tr>
<td>Remove and return the <em>last</em> item using <code>pop()</code></td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.pop());  <span class="comment">// b</span>
console.log(a.length); <span class="comment">// 2</span>
console.log(a);        <span class="comment">// [0, &quot;a&quot;]</span></pre></td>
</tr>

<tr>
<td>Remove and return the <em>first</em> item using <code>shift()</code></td>
<td><pre>
var a = [0, 'a', 'b'];
console.log(a.shift()); <span class="comment">// 0</span>
console.log(a.length);  <span class="comment">// 2</span>
console.log(a);         <span class="comment">// [&quot;a&quot;, &quot;b&quot;]</span></pre></td>
</tr>

</table>

<h5>Array's Properties and Operations</h5>

<p>The <code>Array</code> object has these commonly-used properties:</p>
<ul>
<li><span class="lead-code">.length</span>: the number of items including <code>undefined</code>s. In fact, <code>.length</code> is set to the last index plus 1.</li>
</ul>

<p>It has these commonly-used methods:</p>

<ul>
<li><span class="lead-code">.join([<em>separator</em>])</span>: join the elements of an array together into a single string, separated by the <em><code>separator</code></em> (defaulted to <code>','</code>). For example,
<pre class="example">
var fruits = [&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;];
console.log(fruits.join());    <span class="comment"> // apple,orange,banana (string)</span>
console.log(fruits.join(&quot;|&quot;)); <span class="comment"> // apple|orange|banana (string)</span></pre></li>

<li><span class="lead-code"><em>aString</em>.split([<em>separator</em>, <em>limit</em>])</span>: Reverse of <code>join()</code>. Take a string and split into an array based on the <code><em>separator</em></code>. For example,
<pre class="example">
var str = 'apple, orange, banana';
var fruits = str.split();
console.log(fruits);  <span class="comment"> // [&quot;apple, orange, banana&quot;]  (3 items)</span>
 
str = 'apple|*|orange|*|banana';
fruits = str.split();
console.log(fruits);  <span class="comment"> // [&quot;apple|*|orange|*|banana&quot;]  (one item)</span>
 
fruits = str.split('|*|');
console.log(fruits);  <span class="comment"> // [&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;]  (3 items)</span>
 
fruits = str.split('*');
console.log(fruits);  <span class="comment"> // [&quot;apple|&quot;, &quot;|orange|&quot;, &quot;|banana&quot;]  (3 items)</span></pre>
</li>

<li><span class="lead-code">.concat(<em>value1</em>, <em>value2</em>, ..., <em>valueN</em>)</span>: returns a new array composing of this array and the given arrays or values. For example,
<pre class="example">
var fruits = ['apple', 'orange'];
moreFruits = fruits.concat('banana', 'watermelon');
console.log(moreFruits); <span class="comment"> // [&quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot;, &quot;watermelon&quot;]</span>
console.log(fruits);     <span class="comment"> // [&quot;apple&quot;, &quot;orange&quot;]  (No change!)</span></pre></li>

<li><span class="lead-code">.reverse()</span>: reverses the order of elements in the array, the first becomes last. For example,
<pre class="example">
var a = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;];
a.reverse();
console.log(a);  <span class="comment"> // [&quot;5&quot;, &quot;4&quot;, &quot;3&quot;, &quot;2&quot;, &quot;1&quot;]</span></pre></li>

<li><span class="lead-code">.sort()</span>: sorts the elements in the array. For example,
<pre class="example">
var a = [&quot;8&quot;, &quot;10&quot;, &quot;a&quot;, &quot;b&quot;];
a.sort();
console.log(a);  <span class="comment"> // [&quot;10&quot;, &quot;8&quot;, &quot;a&quot;, &quot;b&quot;]</span>
  <span class="comment"> // Strings are sorted based on ASCII (Unicode) order.</span>
  <span class="comment"> // Hence, &quot;10&quot; is before &quot;8&quot;, as '1' is before '8'</span>
 
a = [8, 20, 5, 100];
a.sort();
console.log(a);  <span class="comment"> // [100, 20, 5, 8]</span>
  <span class="comment"> // numbers are also sorted based on ASCII (Unicode) order!!!</span></pre>

Take note take, by default, number are also sorted based on ASCII (Unicode) order. To sort numbers numerically, you can supply a callback comparison function. The function shall take 2 arguments, say <code>a</code> and <code>b</code>, and return a negative number if <code>a &lt; b</code>; a positive number if <code>a &gt; b</code>; and 0 if <code>a == b. For example,</code>
<pre class="example">
var a = [8, 20, 5, 100];
a.sort( function(a, b) { return a - b; } );
console.log(a);  <span class="comment"> // [5, 8, 20, 100]</span></pre></li>

<li><span class="lead-code">.slice(<em>beginIndex</em>, <em>endIndex</em>)</span>: extracts and returns a section of an array from <code><em>beginIndex</em></code> (inclusive) to <code><em>endIndex</em></code> (exclusive). For example,
<pre class="example">
var a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;];
console.log(a.slice(1, 4)); <span class="comment"> // [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span>
                            <span class="comment"> // include start index but exclude end index</span>
console.log(a);             <span class="comment"> // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]  (No Change)</span></pre></li>

<li><span class="lead-code">.splice(<em>startIndex</em>, <em>countToRemove</em>, <em>insertItem1</em>, <em>insertItem2</em>, ...)</span>: removes elements from an array, and insert elements at its place. For example,
<pre class="example">
var a = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;];
a.splice(2, 2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);
console.log(a);  <span class="comment"> // [&quot;1&quot;, &quot;2&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;5&quot;]</span>
  <span class="comment"> // 2 elements starting at index 2 (i.e., indexes 2 and 3) were removed</span>
  <span class="comment"> //   and the given elements inserted at its place (index 2).</span>
  <span class="comment"> // Renumber the indexes.</span>
console.log(a.length);  <span class="comment"> // 7</span></pre></li>

<li><span class="lead-code">.indexOf(searchItem[, startIndex])</span> and <span class="lead-code">.lastIndexOf(searchItem[, startIndex])</span>: search for the index of the item forward or backward. It returns -1 if item cannot be found. For example,
<pre class="example">
var a = ['a', 'b', 'c', 'a', 'b', 'c'];
var searchItem = 'b';
var idx = a.indexOf(searchItem)
console.log(idx); <span class="comment"> // 1</span>
 
<span class="comment">// Search again from the last found index</span>
idx = a.indexOf(searchItem, idx + 1)
console.log(idx); <span class="comment"> // 4</span>
 
idx = a.indexOf(searchItem, idx + 1)
console.log(idx); <span class="comment"> // -1 (not found)</span>
 
<span class="comment">// Search backwards</span>
console.log(a.lastIndexOf('a'));   <span class="comment"> // 3</span>
console.log(a.lastIndexOf('a', 2));<span class="comment"> // 0</span></pre></li>

<li><span class="lead-code">.push()</span>: adds one or more elements to the end of an array and returns the resultant length of the array.</li>
<li><span class="lead-code">.pop()</span>: removes and return the last element from an array.</li>
<li><span class="lead-code">.shift()</span>: removes and returns the first element from an array.</li>
<li><span class="lead-code">.unshift()</span>: adds one or more elements to the front of an array and returns the resultant length of the array.</li>
</ul>

<p>Arrays also support these <em>iterative</em> methods that iterate through each item of the array:</p>
<ul>
<li><span class="lead-code">.forEach(<em>callback</em>)</span>: takes a function with an argument which iterates through all the items in the array.
<pre class="example">
var fruits = ['apple', 'orange', 'banana'];
fruits<span class="new">.forEach</span>( function(item) {
   console.log('processing item: ' + item);
});
     <span class="comment"> // processing item: apple</span>
     <span class="comment"> // processing item: orange</span>
     <span class="comment"> // processing item: banana</span></pre>
NOTE: Using <code>for-index-in</code> or <code>for-item-of</code> or simple <code>for</code> loop is probably more conventional.</li>

<li><span class="lead-code">.map(<em>callback</em>)</span>: return a new array, which contains all the return value from executing <code>callback</code> on each item. For example,
<pre class="example">
var fruits = ['apple', 'orange', 'banana'];
var results = fruits<span class="new">.map</span>( function(item) {
   console.log('processing item: ' + item);
   return item.toUpperCase();
});
console.log(results);
     <span class="comment"> // processing item: apple</span>
     <span class="comment"> // processing item: orange</span>
     <span class="comment"> // processing item: banana</span>
     <span class="comment"> // [&quot;APPLE&quot;, &quot;ORANGE&quot;, &quot;BANANA&quot;]</span></pre></li>

<li><span class="lead-code">.filter(<em>callback</em>)</span>: return a new array, containing the items for which <code>callback</code> returned <code>true</code>. For example,
<pre class="example">
var fruits = ['apple', 'orange', 'banana'];
var result = fruits.filter( function(item) {
   console.log('processing item: ' + item);
   return /.*e$/.test(item);  <span class="comment"> // ends with 'e'?</span>
});
console.log(result);
     <span class="comment"> // processing item: apple</span>
     <span class="comment"> // processing item: orange</span>
     <span class="comment"> // processing item: banana</span>
     <span class="comment"> // [&quot;apple&quot;, &quot;orange&quot;]</span></pre></li>

<li><span class="lead-code">.every(<em>callback</em>)</span>: return <code>true</code> if <code>callback</code> returns <code>true</code> for ALL items.</li>

<li><span class="lead-code">.some(<em>callback</em>)</span>: return <code>true</code> if <code>callback</code> returns <code>true</code> for at least one item in the array.</li>

</ul>

<p>For  detailed specification and examples about a built-in object, check &quot;<a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference">Core JavaScript References</a>&quot;.</p>

<h4 id="associativeArrays">Associative Array</h4>

<p>An <em>associative array</em> is an array of key-value pair. Instead of using numbers 0, 1, 2,... as keys as in the <em>regular array</em>, you can use anything (such as string) as key in an associative array. Associative arrays are used extensively in JavaScript and jQuery.</p>

<p>JavaScript does not support native associative array (it actually does not support native array too). In JavaScript, associative arrays (and arrays) are implemented as objects (to be elaborate later).</p> 

<p>You can create an associative array via the <em>Object Initializer</em>. For example,</p>

<pre class="example">
<span class="comment">// Create an associative array of key-value pairs</span>
var aStudent = {
   name:      'peter', <span class="comment"> // string</span>
   id:        8888,    <span class="comment"> // number</span>
   isMarried: false    <span class="comment"> // boolean</span>
};
 
<span class="comment">// Add a new property via &quot;index&quot; operator, like an array</span>
aStudent['age'] = 24;
 
<span class="comment">// Use for..in loop to access all items</span>
for (key in aStudent) {
   console.log(key + &quot;: &quot; + aStudent[key]);
}
  <span class="comment"> // name: peter</span>
  <span class="comment"> // id: 8888</span>
  <span class="comment"> // isMarried: false</span>
  <span class="comment"> // age: 24</span>
 
<span class="comment">// An associative array is actually an object</span>
console.log(typeof aStudent); <span class="comment"> // object</span>
 
<span class="comment">// You can also access a property via &quot;dot&quot; operator, like an object</span>
aStudent.height = 190;
console.log(aStudent.height);  <span class="comment"> // 190</span></pre>

<p>Take note that Array initializer uses square brackets <code>[ ... ]</code>; while object initializer  (for associative array) uses curly brackets <code>{ ... }</code>.</p>

<h4 id="functions">Functions</h4>

<p>Functions are useful:</p>
<ul>
<li>when you have to use the same codes several times.</li>
<li>as the JavaScript event handler.</li>
<li>make your program easier to read and understood.</li>
</ul>

<p>A function accepts zero or more arguments from the caller, performs the operations defined in the body, and returns zero or a single result to the caller. </p>

<p>The syntax for user-defined function is:</p>
<pre class="syntax"><strong>function</strong> <em>functionName</em><strong>(</strong><em>argument1</em>, <em>argument2</em>, ...<strong>) {</strong>
  <em>statements</em><strong>;</strong>
  ......
  <strong>return</strong> <em>aValue</em><strong>;</strong>
<strong>}</strong></pre>

<p>Functions are declared using the keyword <code>function</code>.  You do not have to specify the return-type and the types of the arguments because JavaScript is loosely typed.  You can use a <code>return</code> statement to return a single piece of result to the caller anywhere inside the function body. If no <code>return</code> statement is used (or a <code>return</code> with no value), JavaScript returns <code>undefined</code>. Functions are generally defined in the <code>HEAD</code> section, so that it is always loaded before being invoked.</p>

<p>To invoke a function:</p>
<pre class="syntax">
<em>functionName</em>(<em>argument1</em>, <em>argument2</em>, ...)</pre>


<p>Example:</p>
<pre class="example">
&lt;!DOCTYPE html&gt;
<span class="comment">&lt;!-- &quot;JSFunDemo.html&quot; --&gt;</span>
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;Function Demo&lt;/title&gt;
&lt;script&gt;
  <span class="new">function add(item1, item2) {             <span class="comment">// Take two numbers or strings</span>
     return Number(item1) + Number(item2); <span class="comment">// Simply item1 + item2 concatenate strings</span>
  }</span>
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
  var number1 = prompt('Enter the first integer:');  <span class="comment">// returns a string</span>
  var number2 = prompt('Enter the second integer:'); <span class="comment">// returns a string</span>
  alert('The sum is ' + <span class="new">add(number1, number2)</span>);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<h5>Function's <code>arguments</code></h5>

<p>Function has access to an additional variable called <code>arguments</code> inside its body, which is an array containing all the arguments. For example,</p>

<pre class="example">
&lt;!DOCTYPE html&gt;
<span class="comment">&lt;!-- &quot;JSFunArguments.html&quot; --&gt;</span>
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;Function Demo - Using the &quot;arguments&quot; variable&lt;/title&gt;
&lt;script&gt;
  <span class="new">function add() {
    var sum = 0;
    for (var i = 0; i &lt; arguments.length; i++) {
      sum += Number(arguments[i]);
    }
    return sum;
  }</span>
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
  document.write(<span class="new">add(1, 2, 3, 4, 5)</span> + &quot;&lt;br&gt;&quot;);
  document.write(<span class="new">add(1, 2)</span> + &quot;&lt;br&gt;&quot;);
  document.write(<span class="new">add(1.1, &quot;2.2&quot;)</span> + &quot;&lt;br&gt;&quot;);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<h5>Pass by Value vs. Pass by Reference</h5>

<p>In JavaScript, primitive arguments are <em>passed by value</em>.  That is, a copy of the variable is made and passed into the function. On the other hand, objects are passed by references. That is, if you modify the content of an object inside the function, the &quot;copy&quot; outside the function is also affected.</p>

<p>Functions are objects in JavaScript (to be discussed later).</p>

<h5>The Default Function Arguments</h5>

<p>JavaScript lets you invoke a function omitting some trailing arguments. It sets the omitted arguments to the value <code>undefined</code>. For example,</p>

<pre class="example">
<span class="comment">// Define a function with 3 parameters</span>
function f1(a1, a2, a3) {
   console.log('a1: type is ' + typeof a1 + ', value is ' + a1);
   console.log('a2: type is ' + typeof a2 + ', value is ' + a2);
   console.log('a3: type is ' + typeof a3 + ', value is ' + a3);
}
 
<span class="comment">// Invoke the function with varying number of arguments</span>
f1('hello');
  <span class="comment"> // a1: type is string, value is hello</span>
  <span class="comment"> // a2: type is undefined, value is undefined</span>
  <span class="comment"> // a3: type is undefined, value is undefined</span>
 
f1(1, 2);
  <span class="comment"> // a1: type is number, value is 1</span>
  <span class="comment"> // a2: type is number, value is 2</span>
  <span class="comment"> // a3: type is undefined, value is undefined</span>
 
f1('hello', 1, 2);
  <span class="comment"> // a1: type is string, value is hello</span>
  <span class="comment"> // a2: type is number, value is 1</span>
  <span class="comment"> // a3: type is number, value is 2</span></pre>

<p>You can use this feature to provide default value to function argument, for example,</p>

<pre class="example">
<span class="comment">// Define a function with default arguments</span>
function f2(a1, a2, a3) {
  <span class="comment"> // Set default for a2, if a2 is missing or null in function call</span>
   if (a2 === undefined || a2 === null) a2 = 88;
 
  <span class="comment"> // Set default to a3</span>
  <span class="comment"> // a3 evaluates to false for undefined, null, '', 0, NaN, false</span>
   a3 = a3 || 'myDefault';  <span class="comment"> // more concise</span>
 
   console.log('a2: type is ' + typeof a2 + ', value is ' + a2);
   console.log('a3: type is ' + typeof a3 + ', value is ' + a3);
}
 
<span class="comment">// Invoke function with all the arguments</span>
f2('hello', 1, 2);
  <span class="comment"> // a2: type is number, value is 1</span>
  <span class="comment"> // a3: type is number, value is 2</span>
 
<span class="comment">// Invoke function with omitted trailing arguments</span>
f2('hello');
  <span class="comment"> // a2: type is number, value is 88</span>
  <span class="comment"> // a3: type is string, value is myDefault</span>
 
f2('hello', null, null);
  <span class="comment"> // a2: type is number, value is 88</span>
  <span class="comment"> // a3: type is string, value is myDefault</span></pre>

<p>In the above example, we allow caller to omit the trailing arguments (<code>a2</code>, <code>a3</code>) or pass a <code>null</code> value (which is a special literal for unallocated object).</p>

<p>The common idiom in practice today is to use the short-circuited OR expression (as in <code>a3</code>) to provide default value if no value (<code>undefined</code> or <code>null</code>) is passed, provided the valid inputs cannot be <code>false</code>, <code>0</code>, <code>''</code>, and <code>NaN</code> that evaluate to <code>false</code>.</p>

<h5>Anonymous (Inline) Functions</h5>
<p>In JavaScript, you can define an anonymous function (without a function name) using the following syntax:</p>
<pre class="syntax">
<strong>function(</strong> <em>parameters</em> <strong>) {</strong>  ....  <strong>}</strong></pre>

<p>Anonymous function is often used in event handlers and others.</p>

<h5>Function Variables</h5>

<p>In JavaScript, a variable can hold a primitive (number, string, boolean). It can also hold a function object. For example,</p>

<pre class="example">
<span class="comment">// Define a named function f1()</span>
<span class="new">function f1(a1) {
   return 'run f1()';
}</span>
console.log(f1);          <span class="comment"> // function f1(a1)</span>
console.log(f1('hello')); <span class="comment"> // run f1()</span>
 
<span class="comment">// Declare a variable f2 and assign it an anonymous function</span>
<span class="comment">// Same as above!</span>
<span class="new">var f2 = function(a2) {
   return 'run f2()';
}</span>
console.log(f2);           <span class="comment"> // function f2(a2)</span>
console.log(f2('hello'));  <span class="comment"> // f2(a2)</span>
 
<span class="comment">// Define a variable f3 and assign it a named function</span>
<span class="new">var f3 = f1;</span>
console.log(f3);           <span class="comment"> // function f1(a1)</span>
console.log(f3('hello'));  <span class="comment"> // run f1()</span></pre>

<h5>Two Ways in defining a function</h5>

<p>As seen in the above example, there are two ways to define a function:</p>
<ol>
<li>Use a function declaration statement in the form of:
<pre class="syntax">
<strong>function</strong> <em>funcationName</em> <strong>(</strong> <em>parameters</em> <strong>) {</strong> ...... <strong>}</strong></pre></li>

<li>Use a function expression by assigning an anonymous function to a variable:
<pre class="syntax">
<strong>var</strong> <em>functionVarName</em> <strong>= function (</strong> <em>parameters</em> <strong>) {</strong> ...... <strong>}</strong></pre></li>
</ol>

<h5>Function as Argument</h5>

<p>Recall that a function takes zero or more arguments from the caller. In JavaScript, the argument can be of any types: primitive, object or even function. That is, a function may take another function as its argument.</p>

<p>For example, the following function take a function and an array as its arguments, and apply the function to the array.</p>

<pre class="example">
<span class="comment">// Define a function, which takes a function and an array as its arguments,</span>
<span class="comment">// and apply the function to each item of the array.</span>
function processArray (<span class="new">inFun</span>, inArray) {
   var resultArray = [];
   for (var i in inArray) {
     <span class="comment"> // apply function to each item of the inArray</span>
      resultArray[i] = <span class="new">inFun(inArray[i])</span>;
   }
   return resultArray;
}
 
<span class="comment">// Passing an anonymous function</span>
<span class="comment">// Square each item of an array</span>
console.log(processArray( <span class="new">function(x) { return x*x; }</span>, [1, 2, 3, 4, 5] ));
     <span class="comment"> // [1, 4, 9, 16, 25]</span>
 
<span class="comment">// Cubic each item of an array</span>
console.log(processArray( <span class="new">function(x) { return x*x*x; }</span>, [1, 2, 3, 4, 5] ));
     <span class="comment"> // [1, 8, 27, 64, 125]</span>
 
<span class="comment">// Passing a named function</span>
<span class="new">function cube(x) { return x*x*x; }</span>
console.log(processArray( <span class="new">cube</span>, [1, 2, 3, 4, 5] ));
     <span class="comment"> // [1, 8, 27, 64, 125]</span></pre>

<h5>Nested Function</h5>

<p>In JavaScript, you can define a function inside a function. For example,</p>

<pre class="example">
function f1(msg1) {
   console.log('in f1() with message:' + msg1);
  <span class="comment"> // Define a function inside a function</span>
   <span class="new">function f2(msg2) {
      console.log('in f2() with message:' + msg2);
      return 'f2:' + msg2;
   }</span>
  <span class="comment"> // Invoke the nested function</span>
   return 'f1:' + <span class="new">f2(msg1)</span>;
}
 
<span class="comment">// Invoke the main function</span>
console.log(<span class="new">f1('hello')</span>);
     <span class="comment"> // in f1() with message:hello</span>
     <span class="comment"> // in f2() with message:hello</span>
     <span class="comment"> // f1:f2:hello</span></pre>

<h5>Function as the return value</h5>

<p>You can return a function from a function. For example,</p> 

<pre class="example">
function main(op) {
   <span class="new">var add = function(a1, a2) {
      console.log('in add');
      return a1 + a2;
   };</span>
 
   if (op === 'add') {
      return <span class="new">add</span>;  <span class="comment"> // return a named nested function</span>
   } else if (op === 'mul') {
      return <span class="new">function(a1, a2) {
         console.log('in mul');
         return a1 * a2
      }</span>;           <span class="comment"> // return a function anonymously defined</span>
   } else {
      return &quot;error: invalid argument&quot;;
   }
}
 
<span class="comment">// Invoke the main function</span>
console.log(main('add')(1, 2));
     <span class="comment"> // in add</span>
     <span class="comment"> // 3</span>
 
console.log(main('mul')(3, 4));
     <span class="comment"> // in mul</span>
     <span class="comment"> // 12</span></pre>

<h4>Scope of a Variable: Global vs. Function-Local</h4>

<p>When you declare a variable outside of any function, it is called a global variable, and available to all codes in the current document. When you declare a variable within a function, it is called a local variable, and available only within that function. For example,</p>

<pre class="example">
<span class="comment">// global variable</span>
var gvar = 8;
 
function sayHello() {
  <span class="comment"> // local variable</span>
   var lvar = 'hello';
   console.log(gvar); <span class="comment"> // can access global variable</span>
   console.log(lvar);
   return lvar;
}
sayHello();
 
console.log(gvar); <span class="comment"> // can access global variable</span>
<span class="comment">//console.log(lvar); <span class="comment"> // error: lvar is not defined</span></span>
                     <span class="comment"> // cannot access local variable outside the function</span></pre>

<p><strong>JavaScript does not have a block scope.</strong> A variable defined inside a block is either a local variable to the enclosing function, or global. For example,</p>

<pre class="example">
<span class="comment">// global variable</span>
for (var i = 0; i &lt; 5; ++i) {
   var msg = 'hello';
   console.log(i);
}
console.log(i);  <span class="comment"> // 5 (i is global, not block-scope)</span>
console.log(msg);<span class="comment"> // hello (msg is also global, not block-scope)</span></pre>

<p>NOTE: ECMAScript 6 introduces the <code>let</code> variable declaration, which is block-scope. You use the <code>let</code> keyword (instead of <code>var</code>) to define a variable. However, ECMAScript 6 is still experimental and not widely supported.</p>

<h4>Interacting with Users</h4>

<p>JavaScript provides these built-in top-level functions for interacting with the user:</p>

<ul>
<li><span class="lead-code">alert(<em>string</em>)</span>: Pop-up a box to alert user for important information. The user will have to click &quot;OK&quot; to proceed. The <code>alert()</code> returns nothing (or <code>undefined</code>).</li>

<li><span class="lead-code">prompt(<em>string</em>, <em>defaultValue</em>)</span>: Pop-up a box to prompt user for input, with an optional <code><em>defaultValue</em></code>. The <code>prompt()</code> returns the user's input as a string. For example,
<pre class="example">var number1 = prompt('Enter the first integer:');
var number2 = prompt('Enter the second integer:');
alert('The sum is ' + number1 + number2);              <span class="comment">     // Concatenate two strings</span>
alert('The sum is ' + (Number(number1) + Number(number2))); <span class="comment">// Add two numbers</span></pre></li>

<li><span class="lead-code">confirm(<em>string</em>)</span>: Pop-up a box and ask user to confirm some information. The user will have to click on &quot;OK&quot; or &quot;Cancel&quot; to proceed. The <code>confirm()</code> which returns a boolean value. For example,
<pre class="example">var isFriday = confirm(&quot;Is it Friday?&quot;);  <span class="comment">// Returns a boolean</span>
if (isFriday) {
   alert(&quot;Thank God, it's Friday!&quot;);
} else {
   alert('Not a Friday');
}</pre></li>

<li><span class="lead-code">document.write(<em>string</em>), document.writeln(<em>string</em>)</span>: Write the specified string to the current document. The <code>writeln()</code> (write-line) writes a newline after the string, while <code>write()</code> does not. Take note that browsers ignores extra white spaces (blanks, tabs, newlines) in an HTML document, and treat multiple white spaces as a single blank character. You need to write a <code>&lt;br&gt;</code> or <code>&lt;p&gt;...&lt;/p&gt;</code> tag to ask the browser to display a line break.</li>

<li><span class="lead-code">console.log(value)</span>: write to the JavaScript console, used mainly for debugging.</li>
</ul>

<h4>Other Top-level Built-in Functions</h4>

<p>JavaScript also pre-defines the following top-level global functions.</p>

<ul>
<li><span class="lead-code">parseInt(<em>string</em>), parseFloat(<em>string</em>)</span>: parses the given <em><code>string</code></em> and returns the numeric value or <code>NaN</code> (Not-A-Number). The <code>parseInt(<em>str</em>, <em>radix</em>)</code> accepts an optional <em><code>radix</code></em> (or base). For example,
<pre class="example">
var a = parseInt(&quot;88&quot;);
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: 88</span>
 
a = parseInt(&quot;88.99&quot;);
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: 88</span>
 
a = parseInt(&quot;14px&quot;);
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: 14</span>
 
a = parseInt(&quot;Hello&quot;);
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: NaN</span>
 
a = parseFloat(&quot;88.99&quot;);
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: 88.99</span>
 
a = parseFloat(&quot;0.5%&quot;);
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: 0.5</span>
 
a = parseFloat('Hi');
console.log('type: ' + typeof a + ', value: ' + a);<span class="comment"> // type: number, value: NaN</span></pre></li>

<li><span class="lead-code">Number(<em>object</em>)</span>: returns the number representation of the object. It works for <code>String</code> object, as well as many objects such as <code>Date</code>.</li>

<li><span class="lead-code">isFinite(<em>number</em>)</span>: returns <code>true</code> if <em><code>number</code></em> is not <code>NaN</code>, <code>Infinity</code> or <code>-Infinity</code>.</li>

<li><span class="lead-code">isNaN(<em>number</em>)</span>: returns <code>true</code> if number is <code>NaN</code>. Useful for checking the output of <code>parseInt()</code> and <code>parseFloat()</code>.</li>

<li><span class="lead-code">eval(<em>codes</em>)</span>: evaluate the given JavaScript codes, which could be an expression or a sequence of statements.</li>

<li><span class="lead-code">encodeURI(), decodeURI(), encodeURIComponent(), decodeURIComponent()</span>: encode or decode name-value pairs for the HTTP request, by replacing special characters with <code>%xx</code>.</li>
</ul>

<h4>An Introduction to Events</h4>

<p>JavaScript are often event-driven.  That is, a piece of program (called <em>event handler</em>) fires in response to a certain user's or browser's action that generates an <em>event</em>.</p>

<p>The commonly-used events are:</p>
<ul>
<li><code>click</code>: generated when the user clicks on an HTML element.</li>
<li><code>mouseover</code>, <code>mouseout</code>: generated when the user positions the mouse pointer inside/away from the HTML element.</li>
<li><code>load</code>, <code>unload</code>: generated after the browser loaded a document, and before the next document is loaded, respectively.</li>
</ul>

<p>The event handler,  called <code>on<em>eventname</em></code> (such as <code>onclick</code>, <code>onmousemove</code>, <code>onload</code>), is the codes that responses to an event. The event handler is typically attached to the target HTML tag, e.g.,</p>

<pre class="example">
&lt;!DOCTYPE html&gt;
<span class="comment">&lt;!-- &quot;JSEventDemo.html&quot; --&gt;</span>
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;JavaScript Event Demo&lt;/title&gt;
&lt;script&gt;
  <span class="new">function say(message) {
     alert(message);
  }</span>
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2 <span class="new">onmouseover=&quot;this.style.color='red'&quot;</span>
      <span class="new">onmouseout=&quot;this.style.color=''&quot;</span>&gt;Hello&lt;/h2&gt;
  &lt;input type=&quot;button&quot; value=&quot;click me to say Hello&quot; <span class="new">onclick=&quot;say('Hello')&quot;</span>&gt;
  &lt;p <span class="new">onclick=&quot;say('Hi')&quot;</span>&gt;This paragraph can say Hi...&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<p>More about events in the later sections.</p>

<h3 id="objects">Objects</h3>

<h4>Objects are Everywhere!</h4>

<p>JavaScript is object-oriented (OO), and objects are everywhere in JavaScript. Arrays are objects; functions are also objects; primitives like string and number are auto-box to objects in many operations. Almost everything in JavaScript can be an object, possibly except the <code>undefined</code> and <code>null</code> (object)!</p>

<p>It is crucial to understanding objects to be proficient in JavaScript, as they are  everywhere, and they are used extensively in JavaScript plug-ins like jQuery, AngularJS, and etc.</p>

<p>JavaScript, however, does not support all the OO features, so as to keep the language simple.</p>

<h4>Properties and Methods</h4>

<p>In conventional object-oriented programming languages (like Java/C++/C#), an object is a <em>collection of properties and methods under a common name</em>:</p>

<ul>
<li>Properties (also called variables, attributes): contains values associated with the object.</li>
<li>Methods (also called operations, functions): contains actions that the object can perform.</li>
</ul>

<p>For example, a <code>Car</code> object has properties such as <code>make</code>, <code>model</code>, <code>price</code>, <code>capacity</code>; and methods such as <code>startEngine()</code>, <code>move()</code>, <code>brake()</code>, <code>stopEngine()</code>.</p>

<p>Unlike full-fledged OO languages, JavaScript is designed on a simple OO paradigm. A JavaScript object is simply <em>a collection of properties</em>. A property is an association between a name (or key) and value (i.e., name-value pair or key-value pair). If the value is a function, the property is known as a <em>method</em>. In other words, JavaScript does not differentiate between properties and methods like conventional OO languages. A method is simply a property holding a function.</p>

<h4>Creating Objects via Object Initializer</h4>

<p>You can create a new object by directly assign an <em>object literal</em> to a variable, known as <em>Object Initializer</em>. The syntax is as follows:</p>

<pre class="syntax">
var <em>objectName</em> = {
   <em>property1</em>: <em>value1</em>,
   <em>property2</em>: <em>value2</em>,
   ......,
   ......
}</pre>

<ul>
<li>A JavaScript object is a collection of properties. Each property is an association of a name and value pair.</li>

<li>The name and value are separated by a colon <code>':'</code>.</li>

<li>The name-value pairs are separated by commas <code>','</code>. There is no comma after the last name-value pair.</li>

<li>The property name could be a string or a number. For string name which is NOT a valid identifier (an valid identifier begins with an alphabet, underscore or dollar sign; and does not containing special characters like blank or <code>'-'</code>), you need to enclose the name with single or double quotes.  Otherwise, the quotes are optional. For example,
<pre class="example">
var <em>objectName</em> = {
   <span class="new">name</span>:        'Tan Ah Teck', <span class="comment">// A valid identifier (quotes optional)</span>
   <span class="new">age</span>:         21,            <span class="comment">// Another valid identifier (quotes optional)</span>
   <span class="new">88</span>:          'hello',       <span class="comment">// A number (numeric index)</span>
   <span class="new">'my name'</span>:   'Peter',       <span class="comment">// Containing special character blank, need to be quoted</span>
   <span class="new">'font-size'</span>: '14px',        <span class="comment">// Containing special character '-', need to be quoted</span>
}</pre>
Take note that if the property name's string is a proper identifier, you can omit the quotes. This is commonly practiced by the developers.</li>

<li>The property value could be a literal, a variable or an expression.</li>

<li>A property's value could take all JavaScript types, including primitives (string, number, boolean), object or function. The property is known as a method, if it holds a function. JavaScript does not differentiate between variables and methods like conventional OO languages (Java/C++/C#). A method is simply a property holding a function.</li>

<li>Objects created via Object Initializer are instances of class <code>Object</code>.</li>
</ul>

<h5>Property Accessors: The Dot and Index (Square Bracket) operator</h5>

<p>In JavaScript, you can access an object's properties via either:</p>
<ol>
<li>The dot (<code>.</code>) operator: In the form of <code><em>anObjectName</em>.<em>aPropertyName</em></code> or <code><em>anObjectName</em>.<em>aPropertyMethodName</em>(<em>arguments</em>)</code>, just like Java/C++.</li>

<li>The index (<code>[]</code>) operator (or bracket notation): In JavaScript, you can also use the index operator to access the object properties, in the form <code><em>anObjectName</em>[<em>aPropertyName</em>]</code>, just like accessing an array item.</li>
</ol>

<h5>The <code>delete</code> operator</h5>
<p>You can remove a property (including method) via the <code>delete <em>aPropertyName</em></code>.</p>

<h5>Operator <code>instanceOf</code></h5>

<p>You can use the <code>instanceOf</code> operator to check if a particular instance belongs to a particular class of objects, e.g.,</p>

<pre class="example">
var now = Date();
now instanceOf Date;     <span class="comment">// gives true;</span>
now instanceOf Object;   <span class="comment">// gives true;</span>
now instanceOf Array;    <span class="comment">// gives false;</span>
now instanceOf Function; <span class="comment">// gives false;</span></pre>

<h5>The <code>.hasOwnProperty()</code> method</h5>
<p>The <code><em>anObj</em>.hasOwnProperty(<em>aPropertyName</em>)</code> returns <code>true</code> if <code><em>anObj</em></code> has the specific <code><em>aPropertyName</em></code>.</p>

<h5>Operator <code>in</code></h5>

<p>You can use the <code>in</code> operator to check if a particular property belongs to an object, for example,</p>

<pre class="example">
&quot;PI&quot; in Math;         <span class="comment">// gives true</span></pre>

<h5>Example 1: A Simple Object</h5>

<pre class="example">
<span class="comment">// Create an object via Object Initializer</span>
var request = {
   type: 'POST',     <span class="comment"> // You can omit the quotes if name is an identifier</span>
   url:  'apple.php',
};
 
<span class="comment">// Use dot operator to access the properties</span>
console.log(request.type);
console.log(request.url);
 
<span class="comment">// Updating property values via dot operator</span>
request.url = 'orange.php';
console.log(request.url);
 
<span class="comment">// Use index operator to access the properties</span>
<span class="comment">// The property names shall be quoted. Otherwise, they will be treated as variables.</span>
console.log(request['type']);
console.log(request['url']);
request['url'] = 'banana.php';
console.log(request['url']);
var key = 'url';
console.log(request[key]); <span class="comment"> // Using variable inside []</span>
 
<span class="comment">// Check if property exists</span>
console.log(request.hasOwnProperty('type')); <span class="comment"> // true</span>
console.log(request.hasOwnProperty('url'));  <span class="comment"> // true</span>
 
<span class="comment">// Remove (Delete) a property</span>
delete request.type;
console.log(request.hasOwnProperty('type')); <span class="comment"> // false</span>
console.log(request.hasOwnProperty('url'));  <span class="comment"> // true</span></pre>

<h5>Example 2: An object with object</h5>

<p>An object's property can hold primitives (number, string). It can also hold an object.</p>

<pre class="example">
var request = {
   type: 'POST',
   url:  'apple.php',
   <span class="new">data: {            <span class="comment"> // This property holds an object too</span>
      name: 'peter',
      id:   8888
   }</span>
};
 
console.log(request.data.name); <span class="comment"> // peter</span>
console.log(request.data.id);   <span class="comment"> // 8888</span>
console.log(request.data);      <span class="comment"> // Object {name: &quot;peter&quot;, id: 8888}</span>
 
console.log(typeof request);      <span class="comment"> // object</span>
console.log(typeof request.type); <span class="comment"> // string</span>
console.log(typeof request.data); <span class="comment"> // object</span></pre>

<h5>Example 3: An object with function</h5>

<p>A JavaScript object's property can also hold a function (or method). You can assign to an anonymous function or a named function as shown in the following example.</p>

<pre class="example">
<span class="comment">// Create an object via object Initializer</span>
var myCircle = {
   radius:   5.5,
   created:  new Date(),    <span class="comment"> // an object</span>
   <span class="new">getArea:  function() {   <span class="comment"> // an inline (anonymous) function</span>
      return this.radius * this.radius * Math.PI;
   },
   toString: toString       <span class="comment"> // a named function also called toString()</span></span>
}
 
<span class="new">function toString()</span> {
   return &quot;Circle {radius: &quot; + this.radius
         + &quot;, created: &quot; + this.created
         + &quot;}&quot;;
}
 
<span class="comment">// Invoke methods via the dot operator</span>
console.log(myCircle.getArea());  <span class="comment"> // 95.03317777109125</span>
console.log(myCircle.toString()); <span class="comment"> // Circle {radius: 5.5, created: ...}</span>
console.log(myCircle);            <span class="comment"> // Object {radius: 5.5, created: ...}</span>
 
console.log(typeof myCircle.getArea);  <span class="comment"> // function (function is a special object type)</span>
console.log(typeof myCircle.toString); <span class="comment"> // function</span>
console.log(typeof myCircle.created);  <span class="comment"> // object</span></pre>

<h5>To quote or not to quote the name in name-value pair?</h5>
<p>The <code>name</code> (of the <code>name-value</code> pair) can take a string or a number, e.g., <code>var a = {88:'b', 'c':'d', fontSize:'14px'}</code>.</p>

<p>Many developers do not enquote the string <code>name</code>, if it is a valid identifier (a valid identifier begins with an alphabet, <code>'_'</code> or <code>'$'</code>; and does not contain special characters like blank and <code>'-'</code>). For example, <code>var a = {b:'c', d:'e'}</code> is the same as <code>var a = {'b':'c', 'd':'e'}</code>. However, you need to enquote a string <code>name</code> if it is NOT a valid identifier, e.g., <code>var a = {'1b':'c', 'my name':'peter', 'font-size':'14px'}</code>.</p>

<p>The string <code>value</code> must be enquoted; otherwise, it will be treated as a variable name.</p>

<h5>Dot Operator vs. Index (Square Bracket) Operator</h5>
<p>You can access an object's property via either dot operator or index operator. Dot operator is commonly used as it is more concise and used in conventional OO languages. But index operator allows access to properties containing special characters and selection of properties using variables, which is not feasible with dot operator. For example,</p>

<pre class="example">
var a = {'font-size':'14px'};  <span class="comment">// name contains special character, and is not a valid identifier</span>
 
<span class="comment">// Square bracket notation allows access to properties containing special characters</span>
<span class="comment">//  and selection of properties using variables</span>
// console.log(a.font-size); <span class="comment"> // error</span>
console.log(a['font-size']); <span class="comment"> // okay</span>
 
var key = 'font-size';
console.log(a[key]);             <span class="comment"> // using variable</span>
console.log(a['font' + '-size']);<span class="comment"> // using expression</span></pre>

<h5>Iterate through all properties of an Object</h5>

<p>There are three ways to iterate through all properties of an object:</p>
<ol>
<li><span class="lead-code">for...in</span>: traverses all enumerable properties of an object and its prototype chain.</li>
<li><span class="lead-code">Object.keys(<em>anObj</em>)</span>: return an array of all enumerable property names.</li>
<li><span class="lead-code">Object.getOwnPropertyNames(<em>anObj</em>)</span>: return an array of all property names.</li>
</ol>

<p>For example,</p>
<pre class="example">
var myCircle = {
   radius  : 1.1,
   color   : 'red',
   getArea : function() { return radius*radius*Math.PI; }
};
 
<span class="new">for (var name in myCircle)</span> {
   var value = myCircle[name]; <span class="comment"> // need to use bracket notation</span>
   console.log(&quot;name:&quot; + name + &quot;, value:&quot; + value);
}
  <span class="comment"> // name:radius, value:1.1</span>
  <span class="comment"> // name:color, value:red</span>
  <span class="comment"> // name:getArea, value:function () { return radius*radius*Math.PI; }</span>
 
<span class="new">var keys = Object.keys(myCircle);</span>
console.log(keys);  <span class="comment"> // [&quot;radius&quot;, &quot;color&quot;, &quot;getArea&quot;]</span>
for (var i = 0; i &lt; keys.length; i++) {
   var key = keys[i];
   var value = myCircle[key];
   console.log(&quot;key:&quot; + key + &quot;, value:&quot; + value);
}
  <span class="comment"> // key:radius, value:1.1</span>
  <span class="comment"> // key:color, value:red</span>
  <span class="comment"> // key:getArea, value:function () { return radius*radius*Math.PI; }</span>
 
<span class="new">var names = Object.getOwnPropertyNames(myCircle);</span>
console.log(names); <span class="comment"> // [&quot;radius&quot;, &quot;color&quot;, &quot;getArea&quot;]</span>
for (var i = 0; i &lt; names.length; i++) {
   var name = names[i];
   var value = myCircle[name];
   console.log(&quot;name:&quot; + name + &quot;, value:&quot; + value);
}
  <span class="comment"> // name:radius, value:1.1</span>
  <span class="comment"> // name:color, value:red</span>
  <span class="comment"> // name:getArea, value:function () { return radius*radius*Math.PI; }</span></pre>


<h5>Operator <code>with</code></h5>

<p>Establishes the default object for a set of statements. The syntax is:</p>
<pre class="syntax">
with (<em>expression</em>) {
   <em>statement</em>;
}</pre>

<h5>The <code>null</code> vs <code>undefined</code> Literal Values</h5>

<p>As discussed earlier:</p>
<ul>
<li>An undeclared variable has type of <code>undefined</code>, and its value cannot be referenced.</li>
<li>A declared but uninitialized variable has type of <code>undefined</code>, with a special literal value of <code>undefined</code> too. [<code>undefined</code> is both a type and a literal value!]</li>
<li>A unallocated object has a special literal value of <code>null</code>. Take note that <code>null</code> is an object!</li>
</ul>

<p>In boolean expressions, both the <code>null</code> and <code>undefined</code> evaluate to <code>false</code> (together with empty-string <code>&quot;&quot;</code>, number <code>0</code> and <code>NaN</code>, and boolean <code>false</code>). To check for <code>null</code> value, use <code>value === null</code>, as <code>value == null</code> (or <code>!value</code>) returns <code>true</code> for <code>null</code>, <code>undefined</code>, <code>&quot;&quot;</code>, <code>0</code>, <code>NaN</code>, and <code>false</code></p>

<h3>Built-in JavaScript Objects</h3>

<p>JavaScript provides many useful global objects, such as <code>Array</code>, <code>Date</code>, <code>String</code>, and <code>Number</code>.</p>

<p>I shall discuss some commonly used objects here. For detailed specification and examples about a built-in object, check &quot;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">Core JavaScript References</a>&quot;.</p>


<h4>Creating an Object via Constructor and the <code>new</code> Operator</h4>

<p>All the built-in objects define a so-called <em>constructor</em>, which is a special method having the same name as the object, for creating new instances. To invoke the constructor, you need to use a special <code>new</code> operator.</p>

<p>For example, the <code>Date</code> object has a constructor method called <code>Date()</code>. To construct a new instance of <code>Date</code> object:</p>

<pre class="example">
<span class="comment">// Date(): Construct a Date object at current date and time</span>
var now = new Date();
console.log(now);           <span class="comment"> // Tue May 26 2015 22:59:43 GMT+0800 (SGT)</span>
console.log(now.toString());<span class="comment"> // Tue May 26 2015 22:59:43 GMT+0800 (SGT)</span>
console.log(now.valueOf()); <span class="comment"> // 1432652383342</span>
console.log('type: ' + typeof now); <span class="comment"> // type: object</span>
console.log(now instanceof Object); <span class="comment"> // true</span>
console.log(now instanceof Date);   <span class="comment"> // true</span>
console.log(now instanceof Array);  <span class="comment"> // false</span>
 
<span class="comment">// Date(year, month, day, hours, minutes, seconds, milliseconds):</span>
<span class="comment">//   Construct a Date object at the given date and time</span>
var aDay = new Date(1970, 1, 1, 12, 34, 56, 79);
console.log(aDay);           <span class="comment"> // Sun Feb 01 1970 12:34:56 GMT+0800 (SGT)</span>
console.log(aDay.toString());<span class="comment"> // Sun Feb 01 1970 12:34:56 GMT+0800 (SGT)</span>
console.log(aDay.valueOf()); <span class="comment"> // 2694896079</span></pre>

<h5>The <code>typeof</code> and <code>instanceof</code> Operators</h5>

<p>As seen from the above examples, the <code>typeof</code> operator returns the type of a value, which can be a primitive type (such as number, string, boolean) or object (including function).</p>

<p>The <code>instanceof</code> operator check if the value is an instance of a class.</p>

<h5>The <code>.toString()</code> and <code>.valueOf()</code> Methods</h5>

<p>The following methods are available to all built-in JavaScript objects:</p>
<ul>
<li><span class="lead-code">.toString()</span>: returns a string description about this object.</li>
<li><span class="lead-code">.valueOf()</span>: converts this object to a primitive value such as <code>number</code>.</li>
</ul>

<h4>The <code>Array</code> Object and Associative Arrays</h4>

<p>For an introduction to arrays, read the &quot;<a href="#arrays">Arrays</a>&quot; section.</p>

<p>Nowadays, we usually create an array via Array Initializer in the form of <code>[<em>value1</em>, <em>value2</em>, ...]</code>. Nonetheless, as arrays are objects of class <code>Array</code>, we could also construct an array by invoking the <code>Array()</code> constructor with the <code>new</code> operator. This is more complex and, hence, less commonly used today (but may show up in old codes and books).</p>

<p>For example,</p>

<pre class="example">
<span class="comment">// Construct an Array object invoking the constructor with new operator</span>
var weekdays = new Array(&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;, &quot;wed&quot;, &quot;thu&quot;, &quot;fri&quot;, &quot;sat&quot;);
console.log(weekdays.length); <span class="comment"> // 7</span>
console.log(weekdays);        <span class="comment"> // [&quot;sun&quot;, &quot;mon&quot;, &quot;tue&quot;, &quot;wed&quot;, &quot;thu&quot;, &quot;fri&quot;, &quot;sat&quot;]</span>
console.log(typeof weekdays); <span class="comment"> // object</span>
console.log(weekdays instanceof Array);  <span class="comment"> // true</span>
//console.log(weekdays instanceof array);<span class="comment"> // error</span>
 
<span class="comment">// Create an array via Array Initializer</span>
var a = [0, 'b', 'c'];
console.log(typeof a);          <span class="comment"> // object</span>
console.log(a instanceof Array);<span class="comment"> // true</span></pre>


<h5>An Associative Array is a Generic Object, not an Array Object</h5>

<p>For an introduction to arrays, read the &quot;<a href="#associativeArrays">Associative Arrays</a>&quot; section.</p>

<p>JavaScript does not really support associative array, but allow you to add properties to an object, using the associative array syntax and index operator. In other words,</p>

<pre class="example">
var student = {name: 'peter'};
student['age'] = 21;          <span class="comment"> // or student.age = 21</span>
console.log(student['age']);  <span class="comment"> // or student.age</span>
 
console.log(student.length);          <span class="comment"> // undefined (It is an Object, not Array)</span>
console.log(student instanceof Array);<span class="comment"> // false</span></pre>

<h5>Using an Array Object for Associative Array</h5>

<p>In JavaScript, we usually create an associative array using a generic object (via the Object Initializer). You can also create an associative array via <code>Array</code> constructor. For examples,</p>

<pre class="example">
<span class="comment">// Construct an array</span>
var aStudent = new Array();
 
<span class="comment">// Add item with string key - need to quote the string</span>
aStudent['name']   = 'Peter';
aStudent['id']     = 12345;
aStudent['gender'] = 'male';
 
for (key in aStudent) {
   console.log(key + &quot;: &quot; + aStudent[key]);
}
  <span class="comment"> // name: peter</span>
  <span class="comment"> // id: 12345</span>
  <span class="comment"> // gender: male</span>
 
console.log(aStudent.length);          <span class="comment"> // Get 0!!!</span>
console.log(aStudent instanceof Array);<span class="comment"> // true</span>
console.log(typeof aStudent);          <span class="comment"> // object</span></pre>

<p>In this case, additional properties are added into an <code>Array</code> object as object's properties. The array has <code>.length</code> of 0, as <code>.length</code> reflects only the numerical indexes! Using an array object for associative array is not recommended. I describe here for completeness.</p>


<h4>The <code>String</code> Object</h4>

<p>JavaScript provides primitive <code>string</code> type. It also provide a <code>String</code> class as a wrapper class for primitive <code>string</code>. Read &quot;<a href="#stringType">The string Type, Literals and Operations</a>&quot; for primitive <code>string</code>.</p>

<p>A string can be created in two ways:</p>
<ol>
<li>directly assigned a string literal in the form of <code>&quot;...&quot;</code> or <code>'...'</code> to a variable, resulted in a <code>string</code> primitive.</li>
<li>invoke the <code>String</code> object constructor to construct a <code>String</code> object.</li>
</ol>

<p>For examples,</p>
<pre class="example">
<span class="comment">// Creating a string primitive by assigning a string literal</span>
var str1 = 'Hello';
console.log('type: ' + typeof str1); <span class="comment"> // type: string (primitive)</span>
console.log(str2 instanceof String); <span class="comment"> // false</span>
console.log(str2 instanceof Object); <span class="comment"> // false</span>
 
<span class="comment">// Create a String object by invoking the constructor</span>
var str2 = new String('Hello');
console.log('type: ' + typeof str2); <span class="comment"> // type: object</span>
console.log(str2 instanceof String); <span class="comment"> // true</span>
console.log(str2 instanceof Object); <span class="comment"> // true</span></pre>

<p>The former is  a <em>primitive</em> <code>string</code>, while the latter is a <code>String</code> object.</p>

<p><code>String</code> object is a wrapper for primitive string, which provides many useful methods for manipulating strings. See &quot;<a href="#stringType">The string Type, Literals, and Operations</a>&quot;.</p>

<p>A <code>string</code> primitive is &quot;auto-box&quot; to a <code>String</code> object, when you invoke a <code>String</code> object's methods. For example,</p>

<pre class="example">
var str = &quot;hello&quot;; <span class="comment"> // a primitive string</span>
 
<span class="comment">// Auto-box to a String Object, before applying the property/method</span>
console.log(str.length);
console.log(str.substring(1, 3));</pre>

<h4>The <code>Number</code> Object</h4>

<p>JavaScript provides primitive <code>number</code> type. It also provide a <code>Number</code> class as a wrapper class for primitive <code>number</code>. Read &quot;<a href="#numberType">The number Type, Literals and Operations</a>&quot; for primitive <code>number</code>.</p>


<p>The <code>Number</code> object is a wrapper object for <em>primitive</em> <code>number</code>, which provides many properties and methods. Again, a <code>number</code> primitive is <em>auto-box</em> to a <code>Number</code> object, when you invoke a <code>Number</code> object's operation.  See &quot;<a href="#numberType">The number Type, Literals, and Operations</a>&quot;.</p>

<h4>The <code>Boolean</code> Object</h4>

<p>JavaScript provides primitive <code>boolean</code> type. It also provide a <code>Boolean</code> class as a wrapper class for primitive <code>boolean</code>. Read &quot;<a href="#booleanType">The boolean Type, Literals and Operations</a>&quot; for primitive <code>boolean</code>.</p>


<p>The <code>Boolean</code> object is a wrapper object for <em>primitive</em> <code>boolean</code>, which provides many properties and methods.</p>

<h4>The <code>Date</code> Object</h4>
<p>Commonly-used constructors:</p>
<ul>
<li><code>new Date()</code>: constructs a <code>Date</code> object with the current date and time.</li>
<li><code>new Date(dateTimeStr)</code>: constructs a <code>Date</code> object with the given date-time string in an acceptable form (e.g., &quot;Month, day, year, hours:minutes:seconds&quot;).</li>
<li><code>new Date(year, Month, day)</code>: where month is 0-11 for Jan to Dec.</li>
<li><code>new Date(year, Month, day, hours, minutes, seconds, milliseconds)</code></li>
</ul>

<p>Commonly-used methods:</p>
<ul>
<li><code>getDate()</code>, <code>setDate()</code>, <code>getMonth()</code>, <code>setMonth()</code>, <code>getFullYear()</code>, <code>setFullYear()</code>: get/set the date (1-31), month (0-11 for Jan to Dec), year (4-digit year).</li>
<li><code>getDay()</code>: get the day of the week (0-6 for Sunday to Saturday).</li>
<li><code>getHours()</code>, <code>setHours()</code>, <code>getMinutes()</code>, <code>setMinutes()</code>, <code>getSeconds()</code>, <code>setSeconds()</code>: get/set the hours/minutes/seconds.</li>
<li><code>getTime()</code>, <code>setTime()</code>: get/set the number of milliseconds since January 1, 1970, 00:00:00.</li>
</ul>

<h4>The <code>Math</code> Object</h4>
<p>Commonly-used properties:</p>
<ul>
<li><code>E</code>, <code>PI</code>: Euler’s constant and <code>PI</code>.</li>
<li><code>LN2</code>, <code>LN10</code>, <code>LOG2E</code>, <code>LOG10E</code>: <code>ln(2)</code>, <code>ln(10)</code>, <code>log<sub>2</sub>(e)</code>, <code>log<sub>10</sub>(e)</code>.</li>
<li><code>SQRT2</code>, <code>SQRT1_2</code>: square root of 2 and one-half.</li>
</ul>

<p>Commonly-used methods:</p>
<ul>
<li><code>abs(<em>x</em>)</code></li>
<li><code>sin(<em>a</em>)</code>, <code>cos(<em>a</em>)</code>, <code>tan(<em>a</em>)</code>, <code>asin(<em>x</em>)</code>, <code>acos(<em>x</em>)</code>, <code>atan(<em>x</em>)</code>, <code>atan2(<em>x</em>,<em>y</em>)</code></li>
<li><code>cell(<em>x</em>)</code>, <code>floor(<em>x</em>)</code>, <code>round(<em>x</em>)</code></li>
<li><code>exp(<em>x</em>)</code>, <code>log(<em>x</em>)</code>, <code>pow(<em>base</em>,<em>exp</em>)</code>, <code>sqrt(<em>x</em>)</code></li>
<li><code>max(<em>x</em>,<em>y</em>)</code>, <code>min(<em>x</em>,<em>y</em>)</code></li>
<li><code>random()</code>: returns a pseudo-random number between 0 and  1.</li>
</ul>

<h4>The <code>Function</code> Object</h4>
<p>For an introduction to functions, read &quot;<a href="#functions">Function</a>&quot; section.</p>

<p>Every function in JavaScript is actually a <code>Function</code> object!</p>

<h5>Function Variable</h5>

<p>A variable can be assigned a <code>Function</code> object (called function variable), which takes a special object type called <code>function</code>. [In JavaScript, an object's type is either <code>function</code> (for <code>Function</code> object) or <code>object</code> (for any object not a <code>Function</code>).]</p>

<p>For example,</p>

<pre class="example">
function sayHello(msg) { <span class="comment"> // Define a 'named' function</span>
   console.log(msg);
   return msg;
}
sayHello('hello'); <span class="comment"> // Invoke function with function name</span>
console.log('type: ' + typeof sayHello);  <span class="comment"> // type: function</span>
console.log(sayHello instanceof Function);<span class="comment"> // true</span>
console.log(sayHello instanceof Object);  <span class="comment"> // true</span>
 
<span class="comment">// Assign a variable to a function object</span>
<span class="comment">// (without parentheses and argument)</span>
var magic = sayHello;
 
magic('Hi');      <span class="comment"> // Invoke function</span>
console.log('type: ' + typeof magic);  <span class="comment"> // type: function</span>
console.log(magic instanceof Function);<span class="comment"> // true</span>
console.log(magic instanceof Object);  <span class="comment"> // true</span></pre>

<h5>Anonymous Function</h5>

<p>If a function is called only once, you can use an anonymous function, omitting the function name. Anonymous functions are commonly-used as event handler, e.g.,</p>

<pre class="example">
<span class="comment">// The property &quot;window.onunload&quot; takes a function object, to be called back
//  with an event object as argument when onload triggers</span>
window.onload = <span class="new">function(event) {
   console.log(&quot;run onload handler&quot;);
   console.log(event.target);  <span class="comment">// element that triggered the event</span>
}</span>
<span class="new"></span>
<span class="comment">// Alternative, you can assign to a pre-defined function</span>
function onloadhandler(event) {
   console.log(&quot;run pre-defined onload handler&quot;);
   console.log(event.target);
}
window.onload = onloadhandler;  <span class="comment">// function name only, without argument and parenthese
                                // function must be defined before assignment</span>
</pre>


<p>You can define a inline (anonymous) function and assign it to a variable as follows:</p>

<pre class="example">var magic = function() { return &quot;Hello&quot; };
<span class="comment">// same as</span>
function magic() { return &quot;Hello&quot; };</pre>

<h5>Function Constructor</h5>

<p>Besides using <code>function</code> keyword<code></code>, you can also use the <code>Function</code> constructor (with <code>new</code> operator) to define a <code>Function</code> object. This is not easily understood and, hence, not recommended.</p>

<pre class="example">
var magic = new Function(&quot;arg1&quot;, &quot;arg2&quot;, &quot;return arg1 + arg2&quot;);
<span class="comment">// Same as</span>
<span class="comment">//   function magic(arg1, arg2) { return arg1 + arg2; }</span>
<span class="comment">// Also same as</span>
<span class="comment">//   var magic = function (arg1, arg2) { return arg1 + arg2; }</span>
 
console.log(magic(55, 66));
console.log('type: ' + typeof magic);  <span class="comment"> // type: function</span>
console.log(magic instanceof Function);<span class="comment"> // true</span>
console.log(magic instanceof Object);  <span class="comment"> // true</span></pre>

<p>The syntax for <code>Function</code> constructor is:</p>
<pre class="syntax">
var <em>functionName</em> = new Function(&quot;<em>argument1</em>&quot;, &quot;<em>argument2</em>&quot;, ..., &quot;<em>functionBody</em>&quot;);</pre>

<h3>More on Objects</h3>

<h4>Prototype-based vs. Class-based</h4>

<p>JavaScript's OO is <em>prototype-based</em>, instead of <em>class-based</em> like Java/C++/C#.</p>

<p>A <em>class-based</em> OO language (such as Java/C++/C#) is founded on concepts of <em>class</em> and <em>instance</em>. A <em>class</em> is a blue-print or template of things of the same kind. An <em>instance</em> is a particular realization of a class. For example, &quot;<code>Student</code>&quot; is a class; and &quot;<code>Tan Ah Teck</code>&quot; and &quot;<code>Paul Lee</code>&quot; are instances of the &quot;<code>Student</code>&quot; class. In a class-based OO language, you must first write a class definition, before you can create instances based on the class definition. The instances created have exactly the same properties and methods as the class - no more, and no less.</p>

<p>On the other hand, a <em>prototype-based</em> OO language (such as JavaScript) simply has objects (or instances). A new object can be constructed based on an existing object as prototype.  There is no class definition, and hence, they are also called  <em>class-less</em> OO languages.</p>

<p>In JavaScript:</p>
<ul>
<li>Every JavaScript object has a <em>prototype</em>. The prototype is also an object. A JavaScript object is created from a prototype object and gets its initial properties from the prototype.</li>

<li>Every JavaScript object has an internal property called <code>__proto__</code>, which holds its prototype object. When you define a new object via &quot;Object Initializer&quot; (or <code>new Object()</code> constructor), its <code>__proto__</code> is set to a built-in object called <code>Object.prototype</code>. In other words, the new object uses <code>Object.prototype</code> as its prototype, and gets its initial properties from <code>Object.prototype</code>. The <code>__proto__</code> property is not enumerable, i.e, it would not shown up in the <code>for..in</code> loop.
<br>For example,
<pre class="example">
<span class="comment">// Define an object via Object Initializer</span>
var myCircle = {
   radius: 1.1,
   getArea: function() { return this.radius * this.radius * Math.PI; }
}
 
console.log(myCircle.radius);    <span class="comment"> // 1.1</span>
console.log(myCircle.getArea()); <span class="comment"> // 3.8013271108436504</span>
 
<span class="comment">// Check prototype</span>
console.log(<span class="new">myCircle.__proto__ === Object.prototype</span>); <span class="comment"> // true</span>
console.log(<span class="new">Object.prototype</span>);
  <span class="comment"> // Object.prototype holds an object called <span class="new">Object</span>,</span>
  <span class="comment"> //   which is served as prototype for other objects.</span>
  <span class="comment"> // <span class="new">Object</span> is the only object in JavaScript without a prototype,</span>
  <span class="comment"> //   with its __proto__ sets to null.</span>
console.log(<span class="new">Object.prototype.__proto__</span>); <span class="comment"> // null</span>
  <span class="comment"> // Object is always sit on top of the so-called prototype chain.</span>
  <span class="comment"> // i.e.,  myCircle -&gt; Object.prototype -&gt; null</span>
 
<span class="comment">// The Object.prototype contains shared functions such as toString(),
//    valueOf() and hasOwnProperty().</span>
console.log(Object.prototype.toString());  <span class="comment">// [object Object]</span>
console.log(Object.prototype.valueOf());
console.log(Object.prototype.hasOwnProperty('toString'));  <span class="comment">// true</span>
 
<span class="comment">// The newly created objects inherits all the properties from its prototype.</span>
<span class="comment">// For example,</span>
console.log(myCircle.toString()); <span class="comment"> // invoke Object.prototype.toString()</span>
console.log(myCircle.hasOwnProperty('toString'));  <span class="comment">// false (inherited, NOT own property)</span>
console.log(myCircle.hasOwnProperty('radius'));    <span class="comment">// true</span>
 
<span class="comment">// Iterating thru all the properties</span>
for (var key in myCircle) {
   console.log(&quot;key is &quot; + key + &quot;, value is &quot; + myCircle[key]);
}
  <span class="comment"> // key is radius, value is 1.1</span>
  <span class="comment"> // key is getArea, value is function () { return this.radius * this.radius * Math.PI; }</span>
  <span class="comment"> // Note that __proto__ property does not show up in for...in, i.e., it is not enumerable</span>
 
<span class="comment">// Define another object via new Object() constructor</span>
var anotherCircle = new Object();
anotherCircle.radius = 2.2;
console.log(anotherCircle.__proto__ === Object.prototype); <span class="comment"> // true</span></pre></li>

<li>Any object can be the prototype of new objects. For example, <code>Object</code> is the prototype of <code>Person</code>; <code>Person</code> is the prototype for <code>Student</code>; <code>Student</code> is the prototype for <code>UndergraduateStudent</code>.  These objects form a so-called <em>prototype chain</em>, i.e., <code>UndergraduateStudent -&gt; Student -&gt; Person -&gt; Object -&gt; null</code>. Take note that <code>Object</code> is always on top of the <em>prototype chain</em> for every JavaScript object.</li>

<li>You can add or remove properties for an object at runtime, which is not permitted in conventional OO languages.</li>
</ul>

<h4>Defining Your Own Custom Objects via a Constructor</h4>

<p>In JavaScript, you can create your own custom objects by defining a constructor. A constructor is simply a function, which can be invoked via the <code>new</code> operator to create and initialize new objects. Recall that JavaScript is prototype-based and class-less. A new object is created from a prototype object, and gets its initial properties from this prototype object. The constructor function provides the prototype to create and initialize new instances (to be explained later).</p>

<p>By convention, a constructor name begins with an uppercase letter.</p>

<h5>Keyword <code>this</code></h5>

<p>&quot;<code>this</code>&quot; refers to the current object. <code>this.<em>aPropertyName</em></code> refers to the property of this object.</p>

<h5>Example</h5>

<p>Let us define a constructor for our custom <code>Circle</code> objects, with properties <code>radius</code>, <code>created</code>, <code>getArea()</code> and <code>toString()</code>.</p>

<pre class="example">
<span class="comment">// Define a constructor for Circle objects, which takes an argument radius.</span>
<span class="comment">// The Circle objects have properties radius and dateCreated, getArea() and toString().</span>
function Circle(radius) {
  this.radius = radius || 1;     <span class="comment"> // Default is 1, if radius evaluates to false (e.g., undefined)</span>
  this.dateCreated = new Date(); <span class="comment"> // Assign an object</span>
  this.getArea = function() {    <span class="comment"> // Assign a function object via an inline function</span>
     return this.radius * this.radius * Math.PI;
  };
  this.toString = toString;<span class="comment"> // Assign a function object via a named function</span>
}
 
<span class="comment">// Define the function toString()</span>
function toString() {
  return &quot;Circle {radius: &quot; + this.radius
        + &quot;, dateCreated: &quot; + this.dateCreated + &quot;}&quot;;
}
 
<span class="comment">// Creating Circle objects via new and constructor</span>
var circle1 = new Circle(1.5);
console.log(circle1);     <span class="comment"> // Circle {radius: 1.5, dateCreated: ...}</span>
var circle2 = new Circle();
console.log(circle2);     <span class="comment"> // Circle {radius: 1, dateCreated: ...}</span>
var circle3 = new Circle; <span class="comment"> // parentheses optional if there is no argument</span>
console.log(circle3);     <span class="comment"> // Circle {radius: 1, dateCreated: ...}</span>
 
<span class="comment">// Invoke methods using dot operator</span>
console.log(circle1.getArea()); <span class="comment"> // 7.0685834705770345</span>
console.log(circle2.getArea()); <span class="comment"> // 3.141592653589793</span>
 
<span class="comment">// Check type</span>
console.log(typeof circle1);           <span class="comment"> // object</span>
console.log(circle1 instanceof Object);<span class="comment"> // true</span>
console.log(circle1 instanceof Circle);<span class="comment"> // true</span>
console.log(circle1 instanceof Array); <span class="comment"> // false</span>
 
<span class="comment">// Every constructor function object has a special property called .prototype</span>
<span class="comment">//   which holds an object to be used as a prototyping object.</span>
console.log(Circle.prototype);         <span class="comment"> // Circle {}</span>
 
<span class="comment">// Check __proto__ internal property</span>
console.log(circle1.__proto__ === Circle.prototype);         <span class="comment"> // true</span>
console.log(Circle.prototype.__proto__ === Object.prototype);<span class="comment"> // true</span>
console.log(Object.prototype.__proto__);                     <span class="comment"> // null</span>
  <span class="comment"> // The prototype chain is:</span>
  <span class="comment"> // circle1 -&gt; Circle.prototype -&gt; Object.prototype -&gt; null</span></pre>

<h5>How it Works?</h5>

<ol>
<li>Properties (including methods) are declared inside the constructor via <code>this.<em>propertyName</em></code>, which can then be initialized.</li>

<li>Methods can be declared inside the constructor via <code>this.<em>methodName</em></code>. There are a few ways to provide the method's definition:

<ol>
<li>Define an ordinary <code>function</code>, and assign the <code><em>functionName</em></code> (without parentheses, which is a <code>function</code> type) to <code>this.<em>methodName</em></code>, as in the <code>toString()</code>.</li>

<li>Assign <code>this.<em>methodName</em></code> to an <em>inline function</em>, as in the <code>getArea()</code>.</li>

<li>Invoke the <code>Function</code> constructor with <code>new</code> operator (rarely-used):
<pre class="plain">this.getArea = new Function(&quot;return this.radius * this.radius * Math.PI&quot;);</pre></li>
</ol></li>

<li><code> </code>To invoke a method, use <code><em>anObjectName</em>.<em>aMethodName</em>(<em>arguments</em>)</code>.</li>

<li>The <code>.toString()</code> is a special method, which returns a string description of this object. The <code>.toString()</code> will be implicitly invoked if an object is passed into the <code>document.write()</code>, <code>document.writeln()</code> or <code>'+'</code> operator (like Java).</li>
</ol>

<h4><code>__proto__</code> and <code>.prototype</code></h4>

<h5>Revisit the <code>new</code> Operator</h5>

<p>In JavaScript, the <code>new <em>constructor</em>(<em>args</em>)</code> call does the followings:</p>
<ol>
<li>Create a new generic object using built-in root <code>Object</code> as prototype.</li>
<li>Assign this newly created object to <code>this</code> variable.</li>
<li>Run the constructor function, which typically adds properties to <code>this</code>.</li>
<li>Set the internal property <code>__proto__</code> to <code><em>constructor</em>.prototype</code> (in the above example, <code>Circle.prototype</code>). The <code>__proto__</code> property is not enumerable (i.e, it would not shown up in the <code>for..in</code> loop). It is used to maintain the so called &quot;prototype chain&quot; of the objects.</li>
<li>Return the newly created object.</li>
</ol>

<p>Take note that you can invoke the constructor function WITHOUT the <code>new</code> operator, e.g., <code>Circle(1.5)</code>. In this case, the constructor will be run as per ordinary function. There will not be any association of <code>this</code> and <code>__proto__</code> properties; and the return value will depend on the function codes.</p>

<p>Try tracing the object created in the above example via Chrome's Developer Tools, which could display the <code>__proto__</code> internal property.</p>

<h5>Another Example</h5>
<pre class="example">
<span class="comment">// Define a constructor for Person objects</span>
function Person(name, age) {
   this.name = name || &quot;&quot;;
   this.age  = age  || &quot;&quot;;
   this.toString = function() { return &quot;Person {name: &quot; + this.name + &quot;, age: &quot; + this.age + &quot;}&quot;; };
}
 
var p1 = new Person(&quot;Peter&quot;, 18);
console.log(p1);           <span class="comment"> // Person {name: &quot;Peter&quot;, age: 18}</span>
console.log(p1.toString());<span class="comment"> // Person {name: Peter, age: 18}</span>
 
<span class="comment">// Check prototype</span>
console.log(p1.__proto__ === Person.prototype);<span class="comment"> // true</span>
console.log(Person.prototype); <span class="comment"> // Person {}</span>
console.log(Person.prototype.__proto__ === Object.prototype); <span class="comment"> // true</span>
console.log(Object.prototype); <span class="comment"> // Object {}</span>
  <span class="comment"> // The prototype chain is:
   //    Person -&gt; Object -&gt; null</span></pre>

<h5>Constructor's <code>.prototype</code> Property</h5>

<p>All the JavaScript constructor function objects (in fact, all function objects) have a special property called <code>.prototype</code>. By default, it holds an object that can be used as a prototype for creating new objects.</p>

<p>In the <code>Circle</code> example, the <code>Circle</code> constructor function has a <code>Circle.prototype</code>, which holds a <code>Circle</code> object to be used as a prototyping object. When a new <code>Circle</code> object is constructed via the <code>new</code> operator, the newly constructed object's <code>__proto__</code> property is set to <code>Circle.prototype</code>.</p>

<h5>Adding Shared properties to Constructor's <code>.prototype</code> Property</h5>

<p>The constructor's<code>.prototype</code> is used to implement <em>shared properties</em> (typically shared methods) for all the objects it prototyped. In JavaScript, you can add properties dynamically during runtime into <code>.prototype</code>. The added properties/methods will be available to all the objects (new as well as existing objects). For example,</p>

<pre class="example">
<span class="comment">// Define a constructor for Circle objects</span>
<span class="new">function Circle(radius)</span> {
   this.radius = radius || 1.0;
   this.getArea = function() { return this.radius * this.radius * Math.PI; };
}
 
var circle1 = new Circle;
 
<span class="comment">// Add more shared properties to constructor.prototype</span>
<span class="new">Circle.prototype</span>.getCircumference = function() { return 2 * this.radius * Math.PI; };
<span class="new">Circle.prototype</span>.color = &quot;green&quot;;
 
<span class="comment">// The new properties are available to all instances,</span>
<span class="comment">// including existing ones</span>
console.log(circle1.getCircumference());
console.log(circle1.color);
 
var circle2 = new Circle(1.5);
console.log(circle2.getArea());
console.log(circle2.getCircumference());
console.log(circle2.color);

<span class="comment">// Check prototype</span>
console.log(circle1.__proto__ === Circle.prototype);  <span class="comment">// true</span></pre>

<p>When you reference a property, JavaScript first checks if the property exists locally (or own property); otherwise, it checks the prototype chain through the <code>__proto__</code> property. Recall that the <code>new <em>constructor</em>()</code> call sets the <code>__proto__</code> to <code><em>constructor</em>.prototype</code>. Hence, properties added into <code><em>constructor</em>.prototype</code> are available to (and shared by) all the objects prototyped by this constructor.</p>

<p>In practice, we defines methods (and static variables) in <code><em>constructor</em>.prototype</code> to be shared by all objects; while each object maintains its own properties (instance variables).</p> 

<h5>Looking up the Prototype Chain</h5>

<p>Objects in JavaScipt form prototype chains. In the above example, a prototype chain is <code>circle1 -&gt; Circle.prototype -&gt; Object.prototype -&gt; null</code>.</p>

<p>When you reference an object property, JavaScript follow these steps to locate the property:</p>
<ol>
<li>Check if the property exists locally (i.e., own property).</li>
<li>Otherwise, check the <code>__proto__</code> property. This continues recursively up the prototype chain. The process is called &quot;lookup in the prototype chain&quot;.</li>
</ol>
    
<p>Hence, in the above example, all the properties in <code>Circle.prototype</code> and <code>Object.prototype</code> are inherited by <code>circle1</code>.

<h5><code>instanceof</code> Operator</h5>

<p>Every object has a <code>__proto__</code> object property (except <code>Object</code>); every constructor function has a <code>.prototype</code> property. So objects can be related by 'prototype inheritance' to other objects. You can test for inheritance by comparing an object's <code>__proto__</code> to the constructor's <code>.prototype</code>. JavaScript provides a shortcut: the <code>instanceof</code> operator tests an object against a function and returns <code>true</code> if the object inherits from the function prototype.  For example,</p>

<p>[TODO]</p>


<h5><code>Object.create()</code></h5>

<p><code>Object.create()</code> lets you create a new object based on the given prototype object. It simply sets the <code>__proto__</code> to the given prototype object, so that all properties of the prototype are available to the new object. Using <code>Object.create()</code>, You do NOT need to define a constructor function and run <code>new constructor()</code> to create new objects.</p>

<pre class="example">
var student1 = {
   name: 'Peter',
   getName: function() { return this.name; }
}
 
console.log(student1);           <span class="comment"> // Object {name: &quot;Peter&quot;}</span>
console.log(student1.getName()); <span class="comment"> // Peter</span>
console.log(student1.hasOwnProperty('name')); <span class="comment"> // true</span>
 
<span class="comment">// Use Object.create() to create a new object using student1 as the prototype object</span>
<span class="comment">// i.e., set __proto__ to student1</span>
var student2 = Object.create(student1);
 
console.log(student2);           <span class="comment"> // Object {}  (No own property)</span>
console.log(student2.__proto__); <span class="comment"> // Object {name: &quot;Peter&quot;} (set prototype chain)</span>
console.log(student2.__proto__ === student1); <span class="comment"> // true (same reference)</span>
console.log(student2 === student1);           <span class="comment"> // false (different reference)</span>
console.log(student2.getName()); <span class="comment"> // Peter (inherited thru prototype chain)</span>
console.log(student2.hasOwnProperty('name')); <span class="comment"> // false</span>
 
student2.name = 'Paul';
console.log(student2);           <span class="comment"> // Object {name: &quot;Paul&quot;}  (added own property)</span>
console.log(student2.__proto__); <span class="comment"> // Object {name: &quot;Peter&quot;} (no change)</span>
console.log(student2.getName()); <span class="comment"> // Paul</span>
console.log(student2.hasOwnProperty('name')); <span class="comment"> // true</span></pre>

<h4>Inheritance via Prototype Chain</h4>

<p>You can implement inheritance in JavaScript via the prototype chain. For example,</p>

<pre class="example">
<span class="comment">// Constructor for Person objects</span>
function Person(name, age) {
   this.name = name || &quot;&quot;;
   this.age  = age || &quot;&quot;;
}
      <span class="comment">// By default, Person.prototype = Person
      // Person.prototype.__proto__ = Object.prototype
      // The prototype chain is: Person -> Object -> null</span>
 
<span class="comment">// Constructor for Student objects, which inherit from Person</span>
function Student(name, age, school) {
   Person.call(this, name, age); <span class="comment"> // Call Person function with this and arguments</span>
   this.school = school || &quot;&quot;;
}
Student.prototype = Object.create(Person.prototype)
     <span class="comment"> // Set the prototype chain to a Person object</span>
     <span class="comment"> // The prototype chain is: Student -&gt; Person -&gt; Object -&gt; null</span>
 
<span class="comment">// Constructor for UndergraduateStudent objects, which inherit from Student</span>
function UndergraduateStudent(name, age, school, year) {
   Student.call(this, name, age, school); <span class="comment"> // Call Student function with this and arguments</span>
   this.year = year || &quot;&quot;;
}
UndergraduateStudent.prototype = Object.create(Student.prototype)
     <span class="comment"> // Set the prototype chain to a Student object</span>
     <span class="comment"> // The prototype chain is: UndergraduateStudent -&gt; Student -&gt; Person -&gt; Object -&gt; null</span>
 
var peter = new UndergraduateStudent('peter', 21, 'EEE', 1);
console.log(peter);
     <span class="comment"> // UndergraduateStudent {name: &quot;peter&quot;, age: 21, school: &quot;EEE&quot;, year: 1}</span>
console.log(peter instanceof UndergraduateStudent); <span class="comment"> // true</span>
console.log(peter instanceof Student);              <span class="comment"> // true</span>
console.log(peter instanceof Person);               <span class="comment"> // true</span>
console.log(peter instanceof Object);               <span class="comment"> // true</span>
console.log(peter instanceof Date);                 <span class="comment"> // false</span>
 
<span class="comment">// Add property to Person's prototype</span>
Person.prototype.incAge = function() { return ++this.age; };
 
console.log(peter); <span class="comment"> // UndergraduateStudent {name: &quot;peter&quot;, age: 21, school: &quot;EEE&quot;, year: 1}</span>
console.log(peter.incAge());                <span class="comment"> // 22 (inherited from Person)</span>
console.log('incAge' in peter);             <span class="comment"> // true</span>
console.log(peter.hasOwnProperty('incAge'));<span class="comment"> // false (inherited, NOT own property)</span></pre>

<h5>How It Works</h5>
<p>[TODO]</p>

<h4>Getter and Setter</h4>

<p>In languages like Java, you can declare a variable to be <code>private</code> and define <code>public</code> getter/setter to access the <code>private</code> variable. JavaScript does not really support <code>private</code> access?! But you can also define ordinary methods <code>getXxx()</code> or <code>setXxx()</code> as getter/setter like Java.</p>

<p>Moreover, in JavaScript, you can define getter/setter as properties instead of methods in one of the following two ways:</p>
<ol>
<li>via built-in functions <code>Object.defineProperties()</code> or <code>Object.defineProperty()</code>;</li>
<li>inside the &quot;object initializer&quot; via keywords <code>get</code> and <code>set</code>.</li>
</ol>

<h5>Example 1: Define Getters/Setters via <code>Object.defineProperties()</code> or <code>Object.defineProperty()</code></h5>
<pre class="example">
<span class="comment">// Define constructor for Circle objects</span>
function Circle(radius) {
   this._radius = radius || 1;
}
 
<span class="comment">// Define getter/setter via Object.defineProperties() in constructor.prototype</span>
<span class="new">Object.defineProperties(Circle.prototype, {
  <span class="comment"> // Getter/Setter for radius</span>
   'radius': {
      get: function() { return this._radius; },
      set: function(radius) { this._radius = radius; }
   },
  <span class="comment"> // Getter for area</span>
   'area': {
      get: function() { return this._radius * this._radius * Math.PI; }
   },
  <span class="comment"> // Getter for circumference</span>
   'circumference': {
      get: function() { return 2 * this._radius * Math.PI; }
   }
});</span>
 
<span class="comment">// Test</span>
var myCircle = new Circle(1.1);  <span class="comment"> // Construct an Circle object</span>
<span class="comment"> // Using getter/setter like properties, rather than methods</span>
console.log(<span class="new">myCircle.radius</span>); <span class="comment"> // 1.1 (Test getter)</span>
<span class="new">myCircle.radius = 2.2</span>;        <span class="comment"> // (Test setter)</span>
console.log(myCircle.radius); <span class="comment"> // 2.2</span>
console.log(<span class="new">myCircle.area</span>);   <span class="comment"> // 15.205308443374602</span>
console.log(<span class="new">myCircle.circumference</span>); <span class="comment"> // 13.823007675795091</span>
console.log(myCircle);</pre>

<p>Notes:</p>
<ol>
<li>The <code>Objet.defineProperties()</code> allows you to define multiple properties; while <code>Objet.defineProperty()</code> for a single property.</li>
<li>You invoke the getters/setters like properties with assignment operator, instead of via function call.</li>
</ol>

<h5>Example 2: Define Getter/Setter inside the Object Initializer</h5>

<pre class="example">
<span class="comment">// Define an object with getters and setters</span>
var myCircle = {
   _radius: 1.1,
   <span class="new">get radius() { return this._radius; },
   set radius(radius) { this._radius = radius; },
   get area() { return this._radius * this._radius * Math.PI; },
   get circumference() { return 2 * this._radius * Math.PI; }</span>
}
 
<span class="comment">// Test</span>
console.log(<span class="new">myCircle.radius</span>); <span class="comment"> // 1.1 (Test getter)</span>
<span class="new">myCircle.radius = 2.2</span>;        <span class="comment"> // (Test setter)</span>
console.log(myCircle.radius); <span class="comment"> // 2.2</span>
console.log(<span class="new">myCircle.area</span>);   <span class="comment"> // 15.205308443374602</span>
console.log(<span class="new">myCircle.circumference</span>); <span class="comment"> // 13.823007675795091</span></pre>

<p>Notes:</p>
<ol>
<li>The getter/setter are defined inside Object Initializer via keywords <code>get</code> and <code>set</code> with a rather strange syntax, as shown in the example.</li>
</ol>

<h4><code>Object</code>'s Properties</h4>

<h5><code>Object.constructor()</code></h5>
<p>All JavaScript objects inherited a special property called <code>.constructor</code>, which contains a reference to the function that created the object. For example,</p>

<pre class="example">
<span class="comment">// Construct an Array object</span>
var months = ['jan', 'feb', 'mar'];
console.log(months<span class="new">.constructor</span>); <span class="comment"> // Array()</span>
console.log(months);             <span class="comment"> // [&quot;jan&quot;, &quot;feb&quot;, &quot;mar&quot;]</span>
 
<span class="comment">// Create another Array object by invoking the constructor of the first object.</span>
var days = months<span class="new">.constructor</span>('mon', 'tue', 'wed')
console.log(days);               <span class="comment"> // [&quot;mon&quot;, &quot;tue&quot;, &quot;wed&quot;]</span></pre>

<p>[TODO] more Object's properties</p>

<h3>Document Object Model (DOM) API for JavaScript</h3>

<p>Document Object Model (DOM), is a standard API that allows programmers to   access and manipulate the contents of an HTML/XHTML/XML document dynamically inside their program. It models an HTML/XHTML/XML document as an object-oriented, tree-like  structure, known as a DOM-tree, consisting of nodes resembling the  tags (elements) and contents. DOM also provides an interface for event handling, allowing you to  respond to user's or browser's action.</p>

<p> DOM API is implemented in many languages such as Java, JavaScript, Perl, and ActiveX. DOM API specification is maintained by W3C. DOM has various levels:</p>

<ul>
<li>DOM Level 0 (DOM0) (Pre-W3C): obsolete</li>
<li>DOM Level 1 (DOM1) (W3C Oct 1998): obsolete</li>
<li>DOM Level 2 (DOM2) (W3C Nov 2000) and DOM Level 2 HTML (HTML DOM2) (W3C Jan 2003)</li>
<li>DOM Level 3 (DOM3) (W3C Apr 2004): yet to be fully supported by browsers.</li>
</ul>

<p>jQuery is much better in selecting and manipulating DOM element. You should use jQuery in production. I keep these sections here for completeness.</p>

<h4>Finding and Selecting Elements</h4>

<p>In JavaScript, we often use DOM API to select elements within the current document, so as to access or manipulate their contents. The most commonly-used functions are:</p>

<table class="table-zebra" style="width:100%">
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>

<tr>
<td>
<code>document.getElementById(<em>anId</em>)</code></td>
<td>Returns the element with the given unique <code>id</code>.</td>
<td><pre>
&lt;input type=&quot;text&quot; id=&quot;foo&quot;&gt;
var elm = document.getElementById(&quot;foo&quot;);
var input = elm.value;</pre></td>
</tr>

<tr>
<td><code>document.getElementsByTagName(<em>aTagName</em>)</code></td>
<td>Returns an array of elements with the given tag name.</td>
<td><pre>
&lt;input type=&quot;text&quot;&gt;
var elms = document.getElementByTagName(&quot;input&quot;);
var input = elms[0].value;</pre></td>
</tr>

<tr>
<td><code>document.getElementsByClassName(<em>aClassName</em>)</code></td>
<td>Returns an array of elements with the given <code>class</code> attribute name.</td>
<td><pre>
&lt;input type=&quot;text&quot; class=&quot;bar&quot;&gt;
var elms = document.getElementByClassName(&quot;bar&quot;);
var input = elms[0].value;</pre></td>
</tr>

<tr>
<td><code>document.getElementsByName(<em>aName</em>)</code></td>
<td>Returns an array of elements with the given <code>name</code> attribute.</td>
<td><pre>
&lt;input type=&quot;checkbox&quot; name=&quot;gender&quot; value=&quot;m&quot;&gt;Male
&lt;input type=&quot;checkbox&quot; name=&quot;gender&quot; value=&quot;f&quot;&gt;Female
var x = document.getElementsByName("gender");
for (var i = 0; i &lt; x.length; ++i) {
   if (x[i].checked) {
      value = x[i].value;
      break;
   }
}</pre></td>
</tr>

</table>

<p>You can use wildcard <code>*</code> in <code>document.getElementsByTagName(&quot;*&quot;)</code> to select all the elements, e.g.,</p>

<pre class="example">
var elms = document.getElementsByTagName(&quot;*&quot;);
for (var i = 0; i &lt; elms.length; i++) {
   console.log(elms[i].value);
   .......
}</pre>

<p>The above functions select element(s) based on the unique <code>id</code>, <code>name</code> attribue and tag-name. HTML 5 further defines two function that can select elements based on <code>class</code> attribute (which is used extensively by CSS in the class-selector):</p>

<table class="table-zebra" style="width:100%">
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>

<tr>
<td><code>document.querySelector(<em>aClassName</em>)</code></td>
<td>Returns the first element with the given <code>class</code> attribute.</td>
<td><pre>[TODO]</pre></td>
</tr>

<tr>
<td><code>document.querySelectorAll(<em>aClassName</em>)</code></td>
<td>Returns an array of elements with the given <code>class</code> attribute.</td>
<td><pre>[TODO]</pre></td>
</tr>
</table>

<p>Beside the above selection functions, there are many other selection functions available. However, I strongly recommend that you stick to the above functions. I listed below the other function below for completeness.</p>

<ol>
<li><code>document.images</code> returns an array of all <code>&lt;img&gt;</code> elements, same as <code>document.getElementsByTagName(&quot;img&quot;)</code>.</li>
<li><code>document.forms</code>: return an array of all &lt;form&gt; elements.</li>
<li><code>document.links</code> and <code>document.anchors</code>: return all the hyperlinks <code>&lt;a href=...&gt;</code> and anchors <code>&lt;a name=...&gt;</code> elements. [To confirm!]</li>
</ol>




<h4>Manipulating Element's Content through the <code>innerHTML</code> Property</h4>
<p>You can access and modify the content of an element via the &quot;<code>innerHTML</code>&quot; property, which contains all the texts (includes nested tags) within this element.</p>
<p>For example,</p>
<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello, &lt;em&gt;Paul&lt;/em&gt;&lt;/p&gt;
&lt;script&gt;
  var elm = document.getElementById(&quot;magic&quot;);
<span class="comment">  // Read content</span>
  alert(elm.innerHTML);    <span class="comment">// Hello, &lt;em&gt;Paul&lt;/em&gt;</span><span class="comment">
  // Change content</span>
  elm.innerHTML = &quot;Good day, &lt;strong&gt;Peter&lt;/strong&gt;&quot;;
  alert(elm.innerHTML);    <span class="comment">// Good day, &lt;strong&gt;Peter&lt;/strong&gt;</span>
&lt;/script&gt;</pre>

<p>&quot;<code>innerHTML</code>&quot; is the <em>most convenient way</em> to access and manipulate an element's content. However, it is not a W3C standard, but it is supported by most of the browsers.</p>

<h4>DOM Tree &amp; Nodes</h4>
<p>W3C recommends that you access and manipulate HTML elements via the DOM tree and nodes. However, it is really an overkill for writing simple JavaScripts. I present them here again for completeness.</p>

<p>When a browser loads an HTML page, it builds DOM models a web page in a hierarchical <em>tree</em>-like structure composing of <em>nodes</em>,  resembling its HTML structure.</p>

<p>An example of an HTML document with the corresponding DOM-tree is given follow. Take note that the text content of an element is stored in a separate <em>Text</em> node.</p>
<pre class="example">
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;DOM Tree&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h2 onmouseover=&quot;this.style.color='red'&quot;
      onmouseout=&quot;this.style.color=''&quot;&gt;Testing&lt;/h2&gt;
  &lt;p&gt;welcome to &lt;i&gt;JavaScript&lt;/i&gt;...&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<img class="image-float-right" src="images/JS_DOMExample.png" alt="image"/>

<p> Load the web page onto Firefox, and use the firebug to inspect the DOM tree.</p>
<p>A DOM-tree comprises the following types of nodes:</p>
<ol>
<li><em>Document Node</em>: the root node representing the entire HMTL document.</li>
<li><em>Element node</em>: represents an HTML element (or tag). An element node may have child nodes, which can be either element or text node. Element node may also have attributes.</li>
<li><em>Text Node</em>: contains the text content of an element.</li>
<li>Others: such as comment, attribute.</li>
</ol>

<p> A DOM node has these properties:</p>

<ul>
<li><code>nodeName</code>: contain the name of the node, which is read-only. The <code>nodeName</code> for an Element node is the tag-name; <code>nodeName</code> for the Document node is <code>#document</code>; <code>nodeName</code> for Text nodes is <code>#text</code>.</li>
<li> <code>nodeValue</code>: contain the value of the node. <code>nodeValue</code> for Text node is the text contained; <code>nodeValue</code> for Element node is undefined.</li>
<li><code>nodeType</code>: an integer indicating the type of the node, e.g., Element (1), Attribute (2), Text (3), Comment (8), Document (9).</li>
<li><code>parentNode</code>: reference to parent node. There is only one parent node in a tree structure.</li>
<li><code>childNodes</code>: array (or  node-list) of child nodes.</li>
<li><code>firstChild</code>, <code>lastChild</code>: reference to the first and last child node.</li>
<li><code>prevSibling</code>, <code>nextSibling</code>: reference to the previous and next sibling in the same level.</li>
</ul>

<p>Take note of the difference between singular and plural terms. For example, <code>parentNode</code> refer to <em>the</em> parent node (each node except root has one and only one parent node), <code>childNodes</code> holds an array of all the children nodes.</p>

<p>The root node of the DOM tree is called <code>document</code>. The root node <code>document</code> has only one child, called <code>document.documentElement</code>, representing the <code>&lt;html&gt;</code> tag, and it acts as the parent for two child nodes representing <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> tags, which in turn will have other child nodes. You can also use a special property called <code>document.body</code> to access the <code>&lt;body&gt;</code> tag directly.</p>

<p>For example, you can use the following node property to access the Text node <code>&quot;Welcome to &quot;</code>  in the above example:</p>
<pre class="example">document.documentElement.lastChild.childNodes[1].firstChild.nodeValue; <span class="comment">// &quot;Welcome to &quot;</span>
document.body.lastChild.firstChild.nodeValue;                          <span class="comment">// same as above</span></pre>

<h5>Example</h5>
<p>The following JavaScript lists all the nodes in the <code>&lt;body&gt;</code> section, in a depth-first search manner, via a recursive function.</p>

<pre class="example">
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;DOM Tree&lt;/title&gt;
&lt;script&gt;
  <span class="new">function printNode(node) {
    document.writeln(&quot;Node name=&quot; + node.nodeName + &quot;, value=&quot; + node.nodeValue + &quot;, type=&quot; + node.nodeType + &quot;&lt;br&gt;&quot;);
    if (node.hasChildNodes()) {
      var childs = node.childNodes;
      for (var i = 0; i &lt; childs.length; i++) {
        printNode(childs[i]);
      }
    }
  }</span>
&lt;/script&gt;
&lt;/head&gt;
&lt;body <span class="new">onload=&quot;printNode(document.body)&quot;</span>&gt;&lt;h2 onmouseover=&quot;this.style.color='red'&quot;
  onmouseout=&quot;this.style.color=''&quot;&gt;Testing&lt;/h2&gt;&lt;p&gt;welcome to &lt;i&gt;JavaScript&lt;/i&gt;...&lt;/p&gt;&lt;/body&gt;
&lt;/html&gt;</pre>

<pre class="output">Node name=BODY, value=null, type=1
Node name=H2, value=null, type=1
Node name=#text, value=Testing, type=3
Node name=P, value=null, type=1
Node name=#text, value=welcome to , type=3
Node name=I, value=null, type=1
Node name=#text, value=JavaScript, type=3
Node name=#text, value=..., type=3</pre>


<p>Accessing the HTML element via Node interface may not be too useful nor practical for JavaScript applications, as you need to know the actual topological structure of the DOM-tree. Furthermore, some browsers (e.g., firefox) may create extra Text nodes to contain the white spaces between tags.</p>

<h4>Text Node</h4>
<p>DOM models the texts enclosed by HTML tags as a separate text node. It cannot have child node. To retrieve the text content, you could the property <code>nodeValue</code>. For example,</p>

<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
......
console.log(<span class="new">document.getElementById(&quot;magic&quot;).firstChild.nodeValue</span>);
<span class="new">document.getElementById(&quot;magic&quot;).firstChild.nodeValue</span> = &quot;Hi&quot;;  <span class="comment">// text change to &quot;Hi&quot;</span></pre>

<h4>Attribute Properties</h4>
<p>To access an attribute of an Element node called <code><em>elementName</em></code>, you could either use:</p>
<ul>
<li>property <code><em>elementName</em>.<em>attributeName</em></code>, where <em><code>attributeName</code></em> is the name of the attribute, or</li>
<li>methods <code><em>elementName</em>.getAttribute(<em>name</em>)</code> and <code><em>elementName</em>.setAttribute(<em>name</em>, <em>value</em>)</code>.</li>
</ul>

<p>For example,</p>
<pre class="example">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;Test Attributes&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p id=&quot;magic1&quot; align=&quot;left&quot;&gt;Hello&lt;/p&gt;
  &lt;p id=&quot;magic2&quot; align=&quot;center&quot;&gt;Hello, again.&lt;/p&gt;
  
  &lt;script type=text/javascript&gt;
    var <span class="new">node = document.getElementById(&quot;magic1&quot;)</span>;
    document.writeln(<span class="new">node.align</span>);   <span class="comment">// Get attribute &quot;align&quot;</span>
    <span class="new">node.align</span> = &quot;center&quot;;          <span class="comment">// Set attribute &quot;align&quot; to a new value</span>
  
    <span class="new">node = document.getElementById(&quot;magic2&quot;)</span>;
    document.writeln(<span class="new">node.getAttribute(&quot;align&quot;)</span>);  <span class="comment">// Read attribute &quot;align&quot;</span>
    <span class="new">node.setAttribute(&quot;align&quot;, &quot;right&quot;)</span>;           <span class="comment">// Write attribute &quot;align&quot;</span>
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<h4>Attribute <code>style</code> (for CSS)</h4>
<p>Element has a property called style, which models CSS style with CSS properties such as <code>color</code> and <code>textAlign</code>. For example,</p>
<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
......
document.getElementById(&quot;magic1&quot;).style.color=&quot;green&quot;;
document.getElementById(&quot;magic1&quot;).style.textAlign=&quot;right&quot;;</pre>

<h4>Manipulating Nodes</h4>

<p>A Node object has these functions:</p>
<ul>
<li><code><em>aNode</em>.hasChildNodes()</code>: returns <code>true</code> if this node has at least one child node.</li>

<li>Manipulating child node:
<ul>
<li><code><em>aParentNode</em>.insertBefore(<em>newChildNode</em>, <em>existingChildNode</em>)</code>: insert a node before an existing child node.</li>

<li><code><em>aParentNode</em>.replaceChild(<em>newChildNode</em>, <em>existingChildNode</em>)</code>: replace an existing child node.</li>
<li><code><em>aParentNode</em>.removeChild(<em>childNodeToRemove</em>)</code>: remove the specified child node.</li>
<li><code><em>aParentNode</em>.appendChild(<em>nodeToAppend</em>)</code>: append the given node as the last child.</li>

</ul>
</li>

  <li><code><em>aNode</em>.</code><code>cloneNode()</code>: </li>
</ul>

<h5>Creating a New Element (<code>createElement()</code>) and Text Node (<code>createTextNode()</code>), Appending a Node (<code>appendChild()</code>)</h5>

<p>To create new text node, you can use <code>document.createTextNode(<em>text</em>)</code> to create a standalone text-node, followed by an <em><code>anElementNode</code></em><code>.appendChid(<em>aTextNode</em>)</code> to append the text node to an element.</p>
<p>Similarly, you can use <code>document.createElement(<em>tagName</em>)</code> to create a stand-alone element, followed by an <code><em>anElementNode</em>.appendChild(<em>elementToAppend</em>)</code> to append the created element into an existing element. </p>
<p>For example, we shall create a new text node, as a child of a new <code>&lt;p&gt;</code> element. We shall then append the new <code>&lt;p&gt;</code> element as the last child of <code>&lt;body&gt;</code>.</p>

<pre class="example">
&lt;body&gt;
&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
&lt;script&gt;
  alert(document.getElementById(&quot;magic&quot;).innerHTML);
  var newElm = document.createElement(&quot;p&quot;);
  newElm.appendChild(document.createTextNode(&quot;Hello, again&quot;));
  document.body.appendChild(newElm);
&lt;/script&gt;
&lt;/body&gt;</pre>

<h5>Inserting a new Node (<code>insertBefore()</code>)</h5>

<pre class="example">
&lt;body&gt;
&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
&lt;script&gt;
  var magicElm = document.getElementById(&quot;magic&quot;);
  alert(magicElm.innerHTML);
  var newElm = document.createElement(&quot;p&quot;);
  newElm.appendChild(document.createTextNode(&quot;Hello, again&quot;));
  <strong>document.body.insertBefore(newElm, magicElm);</strong>
&lt;/script&gt;
&lt;/body&gt;</pre>

<h5>Replacing a Node (<code>replaceChild()</code>)</h5>

<p>Change the last line to <code>document.body.replaceChild(newElm, magicElm)</code>.</p>

<h5>Deleting a Node (<code>removeChild()</code>)</h5>

<p>You can remove a child node from a parent node via <code><em>aParentNode</em>.removeChild(<em>aChildNode</em>)</code>.</p>
<p>For example, let remove the last <code>&lt;p&gt;</code> from <code>&lt;body&gt;</code>.</p>

<pre class="example">
&lt;body&gt;
&lt;p&gt;Hello 1&lt;/p&gt;
&lt;p&gt;Hello 2&lt;/p&gt;
&lt;p id=&quot;magic&quot;&gt;Hello 3&lt;/p&gt;
&lt;script&gt;
  var elm = document.getElementById(&quot;magic&quot;);
  alert(elm.innerHTML);
  document.body.removeChild(elm);
&lt;/script&gt;
&lt;/body&gt;</pre>



<h4>The <code>document</code> object</h4>

<p>The <code>document</code> object is the root node of the DOM-tree. It can be used to access all the elements in an HTML page.</p>
<p>It contains these properties:</p>
<ul>
<li><code>documentElement</code>, <code>body</code>, <code>title</code>: references the <code>&lt;html&gt;</code>, <code>&lt;body&gt;</code> and <code>&lt;title&gt;</code> tags respectively.</li>
<li><code>lastModified</code>, <code>referrer</code>, <code>cookie</code>, <code>domain</code>: information retrieved from the HTTP response header.</li>
<li><code>form[]</code>, <code>applets[]</code>, <code>images[]</code>, <code>embeds[]</code>, <code>links[]</code>, <code>anchors[]</code>: Arrays containing the respective HTML elements (backward compatible with DOM0).</li>
</ul>

<p>The <code>document</code> object has the following methods:</p>
<ul>
<li><code>write(<em>string</em>)</code>, <code>writeln(<em>string</em>)</code>: Write the specified string to the current document. <code>writeln()</code> (write-line) writes a newline after the string, while <code>write()</code> does not. Take note that browser ignores newlines in an HTML document, you need to write a <code>&lt;br&gt;</code> or <code>&lt;p&gt;...&lt;/p&gt;</code> tag for the browser to display a line break.</li>
<li><code>clear()</code>: Clear the document.</li>
<li><code>open()</code>, <code>close()</code>: Open/close the document stream.</li>
<li><code>getElementById()</code>, <code>getElementsByName()</code>, <code>getElementsByTagName()</code>: Select HTML element(s) by id, name, or tag-name, respectively.</li>
</ul>

<h3>Event Handling in HTML DOM</h3>

<p>JavaScripts are often event-driven. That is, a piece of codes (called event handler) fire in response to a certain user's or browser's action, such as clicking a button, enter some texts, or loaded a page.</p>

<p>DOM API provides methods for capturing events so you can perform your own actions in response to them. It also provides an <code>Event</code> object which contains information specific to a given event that can be used by your event handler.</p>

<p>jQuery is much simpler and better in event handling. I suggest that you use jQuery in production. I keep these sections here for completeness.</p>

<h4>Attach Event Handler to an HTML tag</h4>

<p>You can attach <em>event handler</em> (e.g., <code>onclick</code>, <code>onmouseover</code>) to a specific HTML tag as the tag's attribute, as follows:</p>

<pre class="syntax">&lt;<em>tagName</em> <em></em><em>eventHandler</em>=&quot;<em>JavaScript statement(s)</em>&quot; <em>otherAttributes</em> &gt;<em>contents</em>&lt;/<em>tagName</em>&gt;</pre>

<p>The event handler can be a single JavaScript statement, a series of JavaScript statements (separated by semicolon), or most often, a function call. For example,</p>

<pre class="example"><span class="comment">&lt;!-- Event handler calls built-in functions --&gt;</span>
&lt;body <span class="new">onload=&quot;alert('welcome')&quot; onunload=&quot;alert('bye')&quot;</span>&gt;
   
<span class="comment">&lt;!-- Event handler calls a user-defined function --&gt;</span>
&lt;script&gt;
  function myHandler(event) {
    alert(event);
  }
&lt;/script&gt;
&lt;input type=&quot;button&quot; value=&quot;click me&quot; <span class="new">onclick=&quot;myHandler()</span>&quot;&gt;
   
<span class="comment">&lt;!-- Event handler composes of JavaScript statement(s) --&gt;</span>
&lt;h1 <span class="new">onmouseover=&quot;this.style.color='red'; this.style.backgroundColor='black'&quot;
    onmouseout=&quot;this.style.color=''; this.style.backgroundColor=''&quot;</span>>&gt;Hello&lt;/h1&gt;</pre>

<p>You can also define an event handler in script by assigning a <code>Function</code> object (without parentheses) to an event handler. For example,</p>

<pre class="example">
<span class="comment">&lt;!-- Event handler assigned via DOM object instead of inside HTML tag --&gt;</span>
&lt;p id=&quot;magic&quot;&gt;Welcome&lt;/p&gt;
&lt;script&gt;
  <span class="new">document.getElementById(&quot;magic&quot;).onclick = myHandler;</span>  <span class="comment">// function name without the parentheses</span>
&lt;/script&gt;</pre>

<h4>Built-in Events and Event Handlers</h4>

<p>JavaScript supports many types of events, as tabulated below. Certain events such as click are applicable to all the HTML elements; certain event such as load and unload are applicable to a selected group of tags.</p>

<table class="table-zebra" style="width:100%">
  <tr>
    <th>Event Name</th>
    <th>Event Handler</th>
    <th>Description</th>
    <th>HTML Element</th>
  </tr>
  <tr>
    <td class="code">click</td>
    <td class="code">onclick</td>
    <td>User clicks on the component.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">submit</td>
    <td class="code">onsubmit</td>
    <td>User clicks the &quot;submit&quot; button.</td>
    <td class="code">&lt;form&gt;, &lt;input type=&quot;submit&quot;&gt;</td>
  </tr>
  <tr>
    <td class="code">reset</td>
    <td class="code">onreset</td>
    <td>User clicks the &quot;reset&quot; button.</td>
    <td class="code">&lt;form&gt;, &lt;input type=&quot;reset&quot;&gt;</td>
  </tr>
  <tr>
    <td class="code">select</td>
    <td class="code">onselect</td>
    <td>User selects text in a text box or text area.</td>
    <td class="code">&lt;textarea&gt;, &lt;input type=&quot;text&quot;&gt;</td>
  </tr>
  <tr>
    <td class="code">keypress</td>
    <td class="code">onkeypress</td>
    <td>User holds down a key.</td>
    <td class="code">document, image, link, textarea</td>
  </tr>
  <tr>
    <td class="code">keydown<br>
      keyup</td>
    <td class="code">onkeydown<br>
        onkeyup</td>
    <td>User presses/releases a key.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">mousedown<br>
      mouseup</td>
    <td class="code">onmousedown<br>
      onmouseup</td>
    <td>User presses/releases a mouse button.</td>
    <td class="code">button, document, link</td>
  </tr>
  <tr>
    <td class="code">mouseover<br>
      mouseout</td>
    <td class="code">onmouseover<br>
      onmouseout</td>
    <td>User moves the mouse pointer at/away from a link or hot spot.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">mousemove</td>
    <td class="code">onmousemove</td>
    <td>User moves the mouse pointer</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">load</td>
    <td class="code">onload</td>
    <td>When the page is loaded into the window.</td>
    <td class="code">&lt;body&gt;, &lt;frameset&gt;, &lt;img&gt;</td>
  </tr>
  <tr>
    <td class="code">unload</td>
    <td class="code">onunload</td>
    <td>When another page is about to be loaded.</td>
    <td class="code">&lt;body&gt;, &lt;frameset&gt;</td>
  </tr>
  <tr>
    <td class="code">blur</td>
    <td class="code">onblur</td>
    <td>When a particular form element losses focus.<br>E.g., after the element is selected, and the user clicks somewhere or hit the tag key.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">change</td>
    <td class="code">onchange</td>
    <td>Same as <code>onblur</code>, but the elements must be changed.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">focus</td>
    <td class="code">onfocus</td>
    <td>Same as <code>onblur</code>, but the element gains focus.</td>
    <td class="code">&nbsp;</td>
  </tr>
  <tr>
    <td class="code">drapdrop</td>
    <td class="code">ondrapdrop</td>
    <td>User drags and drops something (e.g., a file) onto the navigator window.</td>
    <td class="code">window</td>
  </tr>
  <tr>
    <td class="code">move<br>
      resize</td>
    <td class="code">onmove<br>onresize</td>
    <td>User moves/resizes the window</td>
    <td class="code">window, frame</td>
  </tr>
  <tr>
    <td class="code">abort</td>
    <td class="code">onabort</td>
    <td>Users stops or aborts an image from loading.</td>
    <td class="code">&lt;img&gt;</td>
  </tr>
  <tr>
    <td class="code">error</td>
    <td class="code">onerror</td>
    <td>When a JavaScript or image error occurs while loading a document or an image.</td>
    <td class="code">&lt;img&gt;</td>
  </tr>
</table>

<p>[To Check]</p>

<h4>The <code>Event</code> object</h4>

<p>The event handlers are passed one argument, an <code>Event</code> object, which described the event and its current states. You can use it to determine where an event originated from and where it currently is in the event flow.</p>

<p>The following properties are available to all the <code>Event</code> object:</p>
<ul>
<li><code>type</code>: A string indicating the type of event, e.g., &quot;click&quot;, &quot;mouseover&quot;.</li>
<li><code>eventPhase</code>: integer 1 for captured, 2 for at the target, and 3 for bubbling phase.</li>
</ul>

<h5>Mouse-Related Events</h5>
<p>Including <code>click</code>, <code>mouseup</code>, <code>mousedown</code>, <code>mouseover</code>, <code>mouseout</code>, <code>mousemove</code>. For mouse-related events, the <code>Event</code> object provides these additional properties:</p>
<ul>
<li><code>button</code>: integer 1 for left button, 2 for middle, and 3 for right</li>
<li><code>clientX</code>, <code>clientY</code>: mouse location relative to the client area.</li>
<li><code>screenX</code>, <code>screenY</code>: mouse location relative to the screen.</li>
<li><code>altKey</code>, <code>ctrlKey</code>, <code>metaKey</code>, <code>shiftKey</code>: boolean  value indicating where these key was pressed when the mouse event is fired.</li>
</ul>

<h5>Key-Related Events</h5>
<p>Including <code>keyup</code>, <code>keydown</code> and <code>keypress</code>. For key-related events, the <code>Event</code> object provides these additional properties:</p>
<ul>
<li><code>keyCode</code>: ASCII code of the key pressed.</li>
<li><code>altKey</code>, <code>ctrlKey</code>, <code>metaKey</code>, <code>shiftKey</code>: boolean  flag indicating whether these key was also pressed.</li>
<li><code>clientX</code>, <code>clientY</code>: mouse location relative to the client area.</li>
<li><code>screenX</code>, <code>screenY</code>: mouse location relative to the screen.</li>
</ul>

<h4>Adding Event Listener</h4>

<p>You can also add/remove event listener to tags, using the following methods:</p>
<pre class="syntax"><em>element</em>.addEventListener(<em>eventType</em>, <em>functionName</em>, <em>useCapture</em>);<em>
element</em>.removeEventListener(<em>eventType</em>, <em>functionName</em>, <em>useCapture</em>);</pre>

<p>where <em><code>eventType</code></em> is pre-defined event name such as <code>mouseover</code>, <code>mouseout</code>, <code>click</code>, etc; <em><code>functionName</code></em> is the event handler; <em><code>useCapture</code></em> is a boolean flag which specifies at which phase of the event flow (capture or bubble) the event handler will be called.</p>

<p>For example,</p>
<pre class="example">&lt;p id=&quot;magic&quot;&gt;Hello&lt;/p&gt;
......
&lt;script&gt;
  <span class="new">var element = document.getElementById(&quot;magic&quot;);
  element.addEventListener('mouseover', function() { this.style.color='green'; }, false);
  element.addEventListener('mouseout', function() { this.style.color=''; }, false);</span>
&lt;/script&gt;</pre>

<p>Event listeners can be added to any node, even text nodes (which you could not assign event handlers to as they have no attributes).</p>

<p>There are two phases of event flow: a capture phase followed by a bubbling phase.</p>
<ol>
<li>Event Capture phase: The event first flows down from the document root to the target element that trigger the event.</li>
<li>Event Bubbling phase: the event then bubbles up from the target element to its parent node, all the way back to the document root.</li>
</ol>

<p>For each event type, you could define an event handler for the capture phase (triggered as event flows down from the root to the target element), and another event handler for the bubbling phase (triggered when the event bubble up from the target element to the root).</p>

<p>Example: [TODO]</p>

<h3>JavaScript Built-in Browser Objects: <code>navigator</code>, <code>window</code>, <code>screen</code>, <code>history</code>, <code>location</code></h3>

<h4>The <code>navigator</code> object</h4>

<p>The built-in <code>navigator</code> object represents the browser. It contains the following properties related to the browser:</p>
<ul>
  <li><code>platform</code>: Operating system.</li>
  <li><code>appName</code>, <code>appCodeName</code>, <code>appVersion</code>, <code>appUserAgent</code>: Identified the browser.</li>
  <li><code>language</code>, <code>plugin</code>, <code>mimeTypes</code>: options or features supported by the browser.</li>
  <li>others.</li>
</ul>
<p>[TO CHCEK]</p>

<h4>The <code>window</code> object</h4>
<p>The <code>window</code> object represents an open window in a browser. It is the <em>top-level object</em> in the JavaScript hierarchy. All top-level properties and methods such as <code>alert()</code>, <code>prompt()</code>, <code>parseInt()</code> belongs to the <code>window</code> object. The <code>window</code> object is also the default object. That is, <code>alert()</code> is the same as <code>window.alert()</code>. A <code>window</code> object is created automatically with every  <code>&lt;body&gt;</code> or <code>&lt;frameset&gt;</code> tag.</p>

<p>[TODO]</p>

<h3 id="regex">Regular Expression (Regex)</h3>

<p>A <em>Regular Expression</em> (or <em>Regex</em>, <em>Regexp</em> in short) is a <em>pattern</em> that accepts a set of strings that matches the pattern, and rejects the rests. Regex is extremely and amazingly powerful in searching and manipulating text documents.</p>

<p> For Regex Basics, read &quot;<a href="../howto/Regexe.html#Regexe_Syntax">Regular Expression</a>&quot;.</p>

<p>For examples,</p>

<ul>
<li><code>/^[0-9]+$/</code> (or <code>/^\d+$/</code>) matches strings with 1 or more digits (<code>/.../</code> delimits the regex, <code>^</code> matches the begin position, <code>$</code> matches the end position, <code>[0-9]</code> matches a character in the range of <code>'0'</code> to <code>'9'</code>, <code>+</code> for zero or more repetition, <code>\d</code> matches a digit).</li>
<li><code>/^[0-9]{5,8}$/</code> matches string with 5 to 8 digits (<code>{5,8}</code> for 5 to 8 repetition).</li>
<li><code>/^[a-zA-Z]+$/</code> matches strings with 1 or more letters (<code>[a-zA-Z]</code> matches a character in the range of lowercase <code>'a'</code> to <code>'z'</code> or uppercase <code>'A'</code> to <code>'Z'</code>).</li>
<li><code>/^[0-9a-zA-Z_]+$/</code> (or <code>/^\w+$/</code>) matches strings with 1 or more digits, letters or underscore (<code>\w</code> matches a word character).</li>
</ul>

<h4>Creating a <code>RegExp</code> Object in JavaScript</h4>

<p>JavaScript has a built-in <code>RegExp</code> class. There are two ways to create a <code>RegExp</code> object:</p>
<ol>
<li>The commonly-used method is to use a <em>regex literal</em> enclosed by two forward slashes <code>/.../</code>, for example,
<pre class="example">
var identifierRegex = <span class="new">/[a-zA-Z_][a-zA-Z_]*/</span>;
var integerRegex    = <span class="new">/[1-9][0-9]*|0/</span>;
var imageFileRegex  = <span class="new">/\w+\.(jpg|gif|png)/i</span>;
 
console.log(identifierRegex);        <span class="comment"> // /[a-zA-Z_][a-zA-Z_]*/</span>
console.log(typeof identifierRegex); <span class="comment"> // object</span>
console.log(identifierRegex.constructor);      <span class="comment"> // RegExp()</span>
console.log(identifierRegex instanceof RegExp);<span class="comment"> // true</span></pre></li>

<li>Call the constructor of the built-in <code>RegExp</code> object (less frequently-used), for example,
<pre class="example">
var pattern = <span class="new">new RegExp(&quot;[1-9][0-9]*|0&quot;)</span>;
console.log(pattern);        <span class="comment"> // /[1-9][0-9]*|0/</span>
var anotherPattern = <span class="new">new RegExp(&quot;\w+\.(jpg|gif|png)&quot;, &quot;gi&quot;)</span>; <span class="comment"> // pattern, modifier</span>
console.log(anotherPattern); <span class="comment"> // /w+.(jpg|gif|png)/gi</span></pre></li>
</ol>

<h5>Modifiers</h5>
<p>You can use modifier:
<ul>
<li><span class="lead-code">g</span>: to perform a global search (return all matches instead of the first match by default),</li>
<li><span class="lead-code">i</span>: for case-insensitive matching.</li>
<li>others: many more</li>
</ul>

<p>You can combine the modifiers, e.g. &quot;<code>gi</code>&quot;.</p>
<h5>Parentheses Back References <code>$1</code> to <code>$99</code></h5>

<p>You can use <code>$1</code> to <code>$99</code> to refer to the parentheses back references, or <code>RegExp.$1</code> to <code>RegExp.$99</code> object properties.</p>

<p>Example 1: Swap first and second words</p>
<pre class="example">
var pattern = /(\S+)\s+(\S+)/;
var input = 'Hello  world';
<span class="comment">// Swap the first and second words</span>
input = input.replace(pattern, '$2 $1');
console.log(input); <span class="comment"> // world Hello</span></pre>

<p>Example 2: Remove HTML markup tags in greedy and non-greedy manners</p>
<pre class="example">
<span class="comment">// Without greediness</span>
var patternNonGreedy = /&lt;code&gt;.*<span class="new">?</span>&lt;\/code&gt;/g; <span class="comment"> // ? (after *) curb greediness</span>
var input = &quot;&lt;code&gt;first&lt;/code&gt; and &lt;code&gt;second&lt;/code&gt;&quot;;
console.log(input.match(patternNonGreedy));
     <span class="comment"> // [&quot;&lt;code&gt;first&lt;/code&gt;&quot;, &quot;&lt;code&gt;second&lt;/code&gt;&quot;]</span>
     <span class="comment"> // 2 matches</span>
 
<span class="comment">// With greediness (default)</span>
var patternGreedy = /&lt;code&gt;.*&lt;\/code&gt;/g;
console.log(input.match(patternGreedy));
     <span class="comment"> // [&quot;&lt;code&gt;first&lt;/code&gt; and &lt;code&gt;second&lt;/code&gt;&quot;]</span>
     <span class="comment"> // 1 match</span></pre>

<h4>JavaScript's Regex Methods</h4>

<p>Regex are meant for searching and manipulating text string. Hence, both the <code>String</code> and <code>RegExp</code> objects have methods that operate on regex and string.</p>

<ul>
<li><span class="lead-code"><em>aRegExpObj</em>.test(<em>aStr</em>)</span>: Tests this regex against the given string. Returns boolean <code>true</code> or <code>false</code>.</li>
  
<li><span class="lead-code"><em>aStr</em>.search(<em>aRegex</em>)</span>: Search this string for the given regex pattern. Returns the beginning position of the matched substring or -1 if there is no match.</li>

<li><span class="lead-code"><em>aStr</em>.match(<em>aRegex</em>)</span>: See example for with and without <code>g</code> flag.</li>

<li><span class="lead-code"><em>aRegExpObj</em>.exec(<em>aStr</em>)</span>: See example for with and without <code>g</code> flag.
<pre class="example">
var msg = &quot;Hello World and hello world again&quot;;
var pattern1 = /h(..)l/;   <span class="comment"> // default case sensitive, first match</span>
var pattern2 = /no-match/;
 
<span class="comment">// Use RegExp.test() to check if the string contains the pattern</span>
console.log(pattern1.test(msg)); <span class="comment"> // true</span>
console.log(pattern2.test(msg)); <span class="comment"> // false</span>
 
<span class="comment">// Use RegExp.test() to check if the string contains the pattern</span>
console.log(msg.search(pattern1)); <span class="comment"> // 16</span>
console.log(msg.search(pattern2)); <span class="comment"> // -1</span>
 
<span class="comment">// Use String.match() or RegExp.exec() to find the matched string, back references, and matching index</span>
console.log(msg.match(pattern1)); <span class="comment"> // [&quot;hell&quot;, &quot;el&quot;, index: 16, input: &quot;Hello World and hello world again&quot;]</span>
console.log(pattern1.exec(msg));  <span class="comment"> // [&quot;hell&quot;, &quot;el&quot;, index: 16, input: &quot;Hello World and hello world again&quot;]</span>
console.log(msg.match(pattern2)); <span class="comment"> // null</span>
console.log(pattern2.exec(msg));  <span class="comment"> // null</span>
 
<span class="comment">/*
 * With g (global) option
 */</span>
var pattern3 = /h(..)l/gi;
 
<span class="comment">// String.match() with g flag returns an array of matches</span>
console.log(msg.match(pattern3)); <span class="comment"> // [&quot;Hell&quot;, &quot;hell&quot;]</span>
 
<span class="comment">// RegExp.exec() with g flag can be issued repeatedly.
// Search resumes after the last-found position (maintained in property RegExp.lastIndex).</span>
console.log(pattern3.lastIndex); <span class="comment"> // 0 (start matching from this string index)</span>
console.log(pattern3.exec(msg)); <span class="comment"> // [&quot;Hell&quot;, &quot;el&quot;, index: 0, input: &quot;Hello World and hello world again&quot;]</span>
console.log(pattern3.lastIndex); <span class="comment"> // 4 (continue after the first match)</span>
console.log(pattern3.exec(msg)); <span class="comment"> // [&quot;hell&quot;, &quot;el&quot;, index: 16, input: &quot;Hello World and hello world again&quot;]</span>
console.log(pattern3.lastIndex); <span class="comment"> // 20</span>
console.log(pattern3.exec(msg)); <span class="comment"> // null</span></pre></li>
</ul>

<ul>
<li><span class="lead-code"><em>aStr</em>.replace(<em>aRegex</em>, <em>replacement</em>)</span>: Search the string for the given regex pattern. If found, replaces the matched substring with the <code><em>replacement</em></code> string.
<pre class="example">
var msg1 = &quot;This is a string&quot;;
var pattern1 = /is/;     <span class="comment"> // First match only</span>
console.log(msg1.replace(pattern1, &quot;was&quot;));<span class="comment"> // Thwas is a string</span>
console.log(msg1); <span class="comment"> // This is a string (no change, but produce a new string)</span>
 
var msg2 = &quot;This is a string&quot;;
var pattern2 = /is/g;    <span class="comment"> // All matches (global)</span>
console.log(msg2.replace(pattern2, &quot;was&quot;));<span class="comment"> // Thwas was a string</span></pre></li>

<li><span class="lead-code"><em>aStr</em>.split(<em>aRegex</em>)</span>: Split this string using the delimiter pattern defined in the given regex. Returns an array of strings containing the splitting parts.
<pre class="example">
var msg = &quot;This is a string&quot;;
console.log(msg.split(/is/));<span class="comment"> // [&quot;Th&quot;, &quot; &quot;, &quot; a string&quot;]</span>
console.log(msg); <span class="comment"> // This is a string (no change)</span></pre></li>

<li><span class="lead-code"><em>aRegExpObj</em>.compile()</span>: Compile this regex to improve the running efficiency.</li>
</ul>



<h3>JSON and JSONP</h3>

<h4>JSON (JavaScript Object Notation)</h4>

<p>JSON (@ <a href="http://json.org/">http://json.org/</a>) is a lightweight, text-based, human-readable format for data-interchange. JSON is a data format, just like XML, but smaller and lighter in size than XML and, hence, is an alternative to XML. JSON format is based on JavaScript Object (and Array) syntaxes, hence, called JavaScript Object Notation.</p>

<p>JSON supports these data types:</p>
<ul>
<li>Number, String and Boolean (true or false).</li>
<li>Array: an ordered, comma-separated sequence of values enclosed in square bracket <code>[]</code>.</li>
<li>Object: an unordered, comma-separated <code>key:value</code> pairs enclosed in curly bracket <code>{}</code>.</li>
<li>null: for unallocated object.</li>
</ul>

<p>For example, below is a properly JSON-formatted text:</p>

<pre class="example">
{ "members": [
    {"name":"Paul", "age":50, "isMarried":true},
    {"name":"John", "age":40, "isMarried":false},
    {"name":"Mary", "age":30, "isMarried":true}
]}</pre>

<p>The data contains one <code>key:value</code> pair, with <code>key</code> of <code>members</code> and <code>value</code> of an array of three objects.  Each object has three properties: <code>name</code> (string), <code>age</code> (number) and <code>isMarried</code> (boolean).</p>

<p>Notes:</p>
<ul>
<li>JSON's <code>key</code> fields must be double-quoted as shown; while in JavaScript, the quotes are optional if the <code>key</code> is a valid identifier.</li>
<li>JSON's file type is <code>&quot;.json&quot;.</code>
<li>JSON's MIME type is <code>application/json</code>.</li>
</ul>

<h5><code>JSON.parse()</code></h5>

<p>You can parse a JSON-formatted string to a JavaScript object via built-in function <code>JSON.parse()</code>. For example,</p>

<pre class="example">
var jsonStr = '{ &quot;members&quot;: ['
      + '{&quot;name&quot;:&quot;Paul&quot;,  &quot;age&quot;:50, &quot;isMarried&quot;:true},'
      + '{&quot;name&quot;:&quot;Anna&quot;,  &quot;age&quot;:40, &quot;isMarried&quot;:false},'
      + '{&quot;name&quot;:&quot;Peter&quot;, &quot;age&quot;:30, &quot;isMarried&quot;:true}'
      + ']}';
 
<span class="new">var obj = JSON.parse(jsonStr);</span>
console.log(obj); <span class="comment"> // Object {members: Array[3]}</span>
console.log(obj.members[0].name); <span class="comment"> // Paul</span></pre>

<h5><code>JSON.stringify()</code></h5>
<p>Counterpart of JSON.parse(). Convert a JavaScript object to a JSON formatted string. For example,</p>

<pre class="example">
var obj = {
   students: [
      {name:&quot;Paul&quot;,  &quot;age&quot;:50, &quot;isMarried&quot;:true},
      {name:&quot;Anna&quot;,  &quot;age&quot;:40, &quot;isMarried&quot;:false},
      {name:&quot;Peter&quot;, &quot;age&quot;:30, &quot;isMarried&quot;:true}
   ]};
 
<span class="new">var jsonStr = JSON.stringify(obj);</span>
console.log(jsonStr);
  <span class="comment"> // {&quot;students&quot;:[</span>
  <span class="comment"> //    {&quot;name&quot;:&quot;Paul&quot;,&quot;age&quot;:50,&quot;isMarried&quot;:true},</span>
  <span class="comment"> //    {&quot;name&quot;:&quot;Anna&quot;,&quot;age&quot;:40,&quot;isMarried&quot;:false},</span>
  <span class="comment"> //    {&quot;name&quot;:&quot;Peter&quot;,&quot;age&quot;:30,&quot;isMarried&quot;:true}</span>
  <span class="comment"> // ]}</span></pre>

<h5>Ajax and JSON for RESTful Web Services</h5>

<p>[TODO]</p>

<h5>PHP's <code>json_encode()</code> and <code>json_decode()</code></h5>

<p>PHP provides functions <code>json_encode()</code> and <code>ison_decode()</code> to convert a JSON-formatted string to an associative array of key-value pairs.</p>

<h4>JSONP</h4>

<p>JSONP (JSON with Padding) is a communication techniques used in JavaScript to request data from a server in a different domain, which is prohibited by modern browsers implementing SOP (Same-Origin Policy).</p>

<h5>Same-Origin Policy (SOP) and Cross-Site Request Forgery (CSRF) Attacks</h5>

<p>All modern browsers implement the SOP, which restricts a script (or web font) loaded from one server to access another server. Two pages has the same origin if they have the same  protocol (e.g., HTTP, HTTPS, FILE, FTP are different protocols), host and port.</p>

<p>SOP is used as a means to prevent so-called Cross-site Request Forgery (CSRF) attacks. Suppose that you are logged on to Facebook (successfully authenticated) and visit a malicious website in another domain on another browser tab. Without the SOP, JavaScript from the malicious website can do anything to your Facebook account that you are allowed to do, because your current browser session has been authenticated on another browser tab. With the SOP, only scripts coming from Facebook can work on your Facebook account.</p>

<pre class="example">
<span class="comment">// Use Ajax to load a page from a different domain into current page, supposing your origin is http://localhost.</span>
$('#magic').load("http://www.google.com");
   <span class="error">// Error: XMLHttpRequest cannot load http://www.google.com/. 
   // No 'Access-Control-Allow-Origin' header is present on the requested resource. 
   // Origin 'http://localhost' is therefore not allowed access.</span></pre>

<p>In other words, SOP disallows one script to perform HTTP GET/POST request to another domain to prevent Cross-site Request Forgery (CSRF) attacks.</p>

<p>Exceptions to SOP are:</p>
<ul>
<li>Loading JavaScript via <code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;</code> tag.</li>
<li>Loading CSS via <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt;</code> tag.</li>
<li>Loading image via <code>&lt;img src=&quot;...&quot;&gt;</code> tag.</li>
<li>Others, such as <code>&lt;a&gt;</code>, <code>&lt;video&gt;</code>, <code>&lt;audio&gt;</code>, <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code>, <code>&lt;applet&gt;</code>, <code>&lt;frame&gt;</code> and <code>&lt;iframe&gt;</code>.</li>
</ul>

<h5>JSONP</h5>

<p>You can send a cross-site request to a JSONP-enabled website via the <code>&lt;script&gt;</code> tag as follows:</p>

<pre class="example">
&lt;script src=&quot;http://www.anotherdomain.com/hello.json?callback=mycallback&quot;&gt;&lt;/script&gt;</pre>

<p>With JSON, the server returns a JSON string (e.g., {&quot;foo&quot;: &quot;bar&quot;} ), which will be evaluated and produce nothing.</p>

<p>Under JSONP, the server is supposed to wrap the JSON object under the <code>callback</code> function provided in the request parameter. That is,</p>

<pre class="example">
mycallback({&quot;foo&quot;: &quot;bar&quot;});</pre>

<p>You can then write your callback function to perform your operations, e.g.,</p>

<pre class="example">
function mycallback(data) {
   <span class="comment">// process the data object</span>
   console.log(data.foo);
}</pre>

<p>Hence, when the script is loaded, it'll be evaluated, and your function will be executed - as a cross-domain request!</p>

<p>With JSONP, it is entirely up to your server to decide whether to support cross-domain request by padding the JSON response.</p>


<h4>Cross-Origin Resource Sharing (CORS)</h4>

<p>CORS is the latest W3C standard for cross-domain request, carried out via special HTTP headers.</p>

<ol>
<li>The browser sends the request with an <code>Origin</code> HTTP header, e.g.,
<pre class="example">
Origin: http://www.anotherdomain.com
</pre></li>

<li>The cross-domain server may response with:
<ol>
<li>An Access-Control-Allow-Origin (ACAO) response header indicating which origin sites are allowed. For example,
<pre class="example">
Access-Control-Allow-Origin: http://www.originaldomain.com</pre></li>

<li>An Access-Control-Allow-Origin (ACAO) header with a wildcard that allows all domains:
<pre class="example">
Access-Control-Allow-Origin: *</pre></li>

<li>An error page if the server does not allow the cross-origin request.</li>
</ol></li>
</ol>

<p>With CORS, it is entirely up to your server to decide whether to support cross-domain request (similar to JSONP).</p>

<h3>Miscellaneous</h3>

<h4>Task Scheduling via Timeout</h4>
<p>Two methods, <code>setTimeout(<em>codes</em>, <em>milliseconds</em>)</code> and <code>clearTimeout(<em>timeoutName</em>)</code> are provided to schedule a piece of codes to be executed after a specified milliseconds.</p>

<pre class="example">var task = setTimeout(&quot;alert('Hello')&quot;, 10000);</pre>

<p>The variable task permits you to cancel the scheduled time event before timeout if desires:</p>
<pre class="example">cancelTimeout(task);</pre>

<h4>Bitwise Operators</h4>
<p>JavaScript provides the following bitwise operators are provided for integers (same syntax as Java):</p>

<table class="table-zebra" style="width:80%">
<tr>
<th>Operator</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>
<tr>
<td class="text-center code big">&lt;&lt;</td>
<td>Left bit-shift (padded with 0s)</td>
<td><code><em>bitPattern</em> &lt;&lt; <em>number</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&gt;&gt;</td>
<td>Signed right bit-shift (padded sign-bit)</td>
<td><code><em>bitPattern</em> &gt;&gt; <em>number</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&gt;&gt;&gt;</td>
<td>Unsigned right bit-shift (padded with 0s)</td>
<td><code><em>bitPattern</em> &gt;&gt;&gt; <em>number</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">&amp;</td>
<td>Bitwise AND</td>
<td><code><em>bitPattern1</em> &amp; <em>bitPattern2</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">|</td>
<td>Bitwise OR</td>
<td><code><em>bitPattern1</em> | <em>bitPattern2</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">~</td>
<td>Bitwise NOT (1's compliment)</td>
<td><code>~<em>bitPattern</em></code></td>
<td>&nbsp;</td>
</tr>

<tr>
<td class="text-center code big">^</td>
<td>Bitwise XOR</td>
<td><code><em>bitPattern1</em> ^ <em>bitPattern2</em></code></td>
<td>&nbsp;</td>
</tr>
</table>

<p>Similarly, the following bitwise operation cum assignment operators are provided: <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code>, <code>&gt;&gt;&gt;=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code>.</p>

<h4>Operator Precedence</h4>

<table class="table-zebra" style="width:60%">
<tr>
<th>Operator Name</th>
<th>Operator</th>
</tr>

<tr>
<td>Parentheses, Array index, Dot</td>
<td class="code">() [] .</td>
</tr>

<tr>
<td>Negation, Increment/Decrement</td>
<td class="code">! ~ - ++ --</td>
</tr>

<tr>
<td>Multiply, Divide, Modulus</td>
<td class="code">* / %</td>
</tr>

<tr>
<td>Addition, Subtraction</td>
<td class="code">+ -</td>
</tr>

<tr>
<td>Bitwise Shift</td>
<td class="code">&lt;&lt; &gt;&gt; &gt;&gt;&gt;</td>
</tr>

<tr>
<td>Relational</td>
<td class="code">&lt; &lt;= &gt; &gt;=</td>
</tr>

<tr>
<td>Equality</td>
<td class="code">== !=</td>
</tr>

<tr>
<td>Bitwise AND</td>
<td class="code">&amp;</td>
</tr>

<tr>
<td>Bitwise XOR</td>
<td class="code">^</td>
</tr>

<tr>
<td>Bitwise OR</td>
<td class="code">|</td>
</tr>

<tr>
<td>Logical AND</td>
<td class="code">&amp;&amp;</td>
</tr>

<tr>
<td>Logical OR</td>
<td class="code">||</td>
</tr>

<tr>
<td>Ternary (Shorthand if-else)</td>
<td class="code">? :</td>
</tr>

<tr>
<td>Assignment</td>
<td class="code">= += -= *= /= %=</td>
</tr>

<tr>
<td>Comma (separate parameters)</td>
<td class="code">,</td>
</tr>

</table>

<h4>Exception Handling: <code>try-catch-finally</code> and <code>throw</code></h4>

<h5><code>throw</code></h5>

<p>Use <code>throw</code> to throw an exception as follows:</p>

<pre class="syntax">
throw <em>expression</em></pre>

<p>In JavaScript, throw can throw any types: primitive (string, number, boolean) or object.</p>

<h5><code>try-catch-finally</code></h5>

<p>The syntax is:</p>

<pre class="syntax">
try {
   <em>try-block</em>;
} catch (e) {
   <em>catch-block</em>;
} finally {  <span class="comment">// optional</span>
   <em>finally-block</em>;
}</pre>

<p>Execution begins at the try-block. If none of the statements in the try-block throws an exception, the catch-block is skipped.</p>

<p>However, if one of the statement in the try-block throw an exception, the rest of the statements in the try-block is skipped, and execution branches to the catch-block to process the exception. In JavaScript, there is only one catch-block, which catches all the exceptions.</p>

<p>The optional finally-block is always executed, after try or catch, for performing house keeping task, such as closing the files. The program will continue into the next statement, if it is not terminated.</p>

<p>The try-catch-finally construct has the following benefits:</p>
<ol>
<li>Separating of exception handling logic from the main logic. You do not need to use many if-else in the main logic to check for exception.</li>
<li>Allow graceful termination of the program, handled by the catch-block.</li>
<li>....</li>
</ol>

<p>Example [TODO]</p>

<h4>Execute JavaScript Statement from Browser's Address Bar</h4>

<p>You can issue You can execute JavaScript from Firefox's navigator toolbar or Internet Explorer's address bar, via pseudo-protocol <code>javascript:<em>statement</em></code>. For example,</p>

<pre class="command">javascript:alert('Hello');
javascript:alert(document.title);alert('Hello, again')
javascript:document.title</pre>

<p>The statement can access variables and objects on the current document.</p>
<p>The JavaScript statement used in a <code>javascript:</code> URL should not return any value. For example, <code>alert()</code> does not return a value (or returns <code>undefined). </code>If it returns an explicit  value, the browser loads a new page and places the returned value in the body of the page.</p>
<p>You can use the <code> void</code> operator to stay in the same page. <code>void</code> evaluates its expression, and returns <code>undefined</code>. For example,</p>

<pre class="command">javascript:void(x=5)</pre>

<p>You can bookmark the javascript statement (someone called them <em>bookmarklets</em>). For example, you can write a bookmarklet to change the background color of a web page, so that the web page is easier to read.</p>

<pre class="command">
javascript:void(document.body.style.background='#FFF');</pre>

<h4>Nested Functions and Closure</h4>
<p>You can nest a function inside a function. The inner function has access to all the properties of the outer function. This becomes complicated if the inner function is returned by the outer function. If multiple calls is made to the outer function, which creates different copies of the inner function, what are the value of the properties of the outer function?</p>

<p>For example,</p>

<pre class="example">
function outer(x) {
   var y = 8;  <span class="comment"> // function scope, available to inner function</span>
 
  <span class="comment"> // Define a nested function, which adds its argument to</span>
  <span class="comment"> //  outer function's argument and local variable.</span>
   var addToOuter = function(z) {
      console.log('x:' + x + ' y:' + y + ' z:' + z);
      return x + y + z;
   };
 
   return addToOuter; <span class="comment"> // return the nested function</span>
}
 
<span class="comment">// Invoke the outer function and save the return function in an variable</span>
var f1 = outer(3);
<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f1(10));   <span class="comment"> // x:3 y:8 z:10 sum:21</span>
<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f1(20));   <span class="comment"> // x:3 y:8 z:20 sum:31</span>
    <span class="comment"> // Take note that the value of x:3 remains the same across the invocations,</span>
    <span class="comment"> //   which is provided by the outer function's argument</span>
 
<span class="comment">// Invoke the outer function again with a different argument</span> 
var f2 = outer(9);
<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f2(30));   <span class="comment"> // x:9 y:8 z:30 sum:47</span>
<span class="comment">// Invoke the inner function</span>
console.log('sum:' + f2(40));   <span class="comment"> // x:9 y:8 z:40 sum:57</span>
    <span class="comment"> // Take note that the value of x:9 remains the same across the invocations,</span>
    <span class="comment"> //   which is provided by the outer function's argument</span></pre>

<p>Each invocation of the outer function creates a so-called <em>closure</em>, which is the inner function with a set of variables together with an environment that binds those variables.</p>

<p>As seen from the above example, the value of <code>x</code> and <code>y</code> in the outer function remains the same for each invocation, in the return inner function.  However, each invocation create a new closure with its set of values.  A closure is similar to an object instance where the variables' value are already fixed.</p>

<p>&nbsp;</p>
<a class="references" href="../howto/References.html#javascript">Link To JavaScript/jQuery References &amp; Resources</a>

</div> <!-- End the content-main division -->

<div id="content-footer">
<p>Last modified: June 2015</p>
</div>

</div>  <!-- End the wrap-inner division -->

<!-- footer filled by JavaScript -->
<div id="footer" class="header-footer"><p>&nbsp;</p></div>

</div>  <!-- End the wrap-outer division -->

<!-- @@ start change in v2 -->
<!-- jQuery API and custom JavaScripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="../scripts/programming_notes_v2.js"></script>
<!-- @@ end change in v2 -->
</body>
</html>
