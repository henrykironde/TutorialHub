<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>GUI Programming Part 2 - Java Programming Tutorial</title>
<link href="../css/programming_notes_v1.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../scripts/programming_notes_v1.js"></script>
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" /></head>

<body>

<div id="wrap-outer">

<!-- header filled by JavaScript -->
<div id="header" class="header-footer"><p>&nbsp;</p></div>

<div id="wrap-inner">

<div id="wrap-toc">
<h5>TABLE OF CONTENTS <a id="show-toc" href="#show-toc">(HIDE)</a></h5>
<div id="toc"></div>  <!-- for showing the "Table of Content" -->
</div>

<div id="content-header">
<h1>Java Programming Tutorial</h1>
<h2>Programming Graphical User Interface (GUI) - Part 2</h2>
</div>

<div id="content-main">

<p>JDK demo includes a folder &quot;<code>jfc</code>&quot;, which has many interesting demo on Swing and Java2D.</p>

<h3>More on Swing's <span class="font-code">JComponent</span>s</h3>

<p>The class hierarchy of Swing's top-level containers (<code>JFrame</code>, <code>JDialog</code>, <code>JApplet</code>) are as follows. These top-level Swing containers are heavyweight, that rely on the underlying windowing subsystem of the native platform.</p>
<img class="image-center" src="images/Swing_ContainerClassDiagram.png" alt="Swing_ContainerClassDiagram.png" />

<p>The class hierarchy of Swing's <code>JComponent</code>s is as follows. <code>JComponent</code> and its descendants are lightweight components.</p>
<img class="image-center" src="images/Swing_JComponentClassDiagram.png" alt="Swing_JComponentClassDiagram.png" />

<h4 id="imageicon"><span class="font-code">ImageIcon</span></h4>

<img class="image-float-right" src="images/Swing_ButtonIcon.png" alt="Swing_ButtonIcon.png" />
<p>Many Swing's <code>JComponent</code>s (such as <code>JLabel</code> and <code>JButton</code>) support a text label and an image icon. For example, the figure shows three buttons: one with text label, one with an image icon, and one with both text and icon.</p>

<p>The <code>javax.swing.ImageIcon</code> class models an image icon. An <code>ImageIcon</code> is a fixed-size picture, typically small, and mainly used for decorating GUI components. The <code>ImageIcon</code> class implements <code>javax.swing.Icon</code> interface, and hence, often upcasted and referenced as <code>Icon</code>.</p>

<p>To construct an <code>ImageIcon</code>, provide the image filename or  URL. Image file type of GIF, PNG, JPG and BMP are supported. For example,</p>

<pre class="color-example">
<span class="color-comment">// Construct an ImageIcon from an image filename</span>
String imgFilename = &quot;images/duke.png&quot;;
      <span class="color-comment">// Can use an absolute filename such as &quot;c:/project/images/nought.gif&quot;</span>
ImageIcon iconDuke = <strong>new ImageIcon(imgFilename);</strong>
 
<span class="color-comment">// OR
// Construct an ImageIcon via an image URL (in the form of file://path/filename)</span>
ImageIcon iconDuke = null;
String imgFilename = &quot;images/duke.png&quot;;
java.net.URL imgURL = <em></em>getClass().getClassLoader().getResource(imgFilename);
      <span class="color-comment">// Filename always relative to the root of the project (i.e., bin)
      // can access resource in a JAR file</span>
if (imgURL != null) {
   iconDuke = <strong>new ImageIcon(imgURL);</strong>
} else {
   System.err.println(&quot;Couldn't find file: &quot; + imgFilename);
}</pre>

<p>Using URL is more flexible as it can access resources in a JAR file, and produces an error message if the file does not exist (which results in a <code>null</code> URL).</p>

<p>Many <code>JComponents</code> (such as <code>JLabel</code>, <code>JButton</code>) accepts an <code>ImageIcon</code> in its <em>constructor</em>, or via the <code>setIcon()</code> method. For example,</p>

<pre class="color-example">
ImageIcon iconDuke = null;
String imgFilename = &quot;images/duke.gif&quot;;  <span class="color-comment">// relative to project root (or bin)</span>
URL imgURL = getClass().getClassLoader().getResource(imgFilename);
if (imgURL != null) {
   iconDuke =  new ImageIcon(imgURL);
} else {
   System.err.println(&quot;Couldn't find file: &quot; + imgFilename);
}
        
JLabel lbl = <strong>new JLabel(&quot;The Duke&quot;, iconDuke, JLabel.CENTER);</strong>
lbl.setBackground(Color.LIGHT_GRAY);
lbl.setOpaque(true);
 
Container cp = getContentPane();
cp.add(lbl);</pre>

<p>An <code>ImageIcon</code> uses an <code>java.awt.Image</code> object to hold the image data. You can retrieve this <code>Image</code> object via the <code>ImageIcon</code>'s <code>getImage()</code> method. The <code>Image</code> object is used in the <code>drawImage()</code> method for custom drawing (which shall be discussed later).</p>

<h4>Setting the Appearances and Properties of <span class="font-code">JComponents</span></h4>

<p>Most of the Swing Components supports these features:</p>
<ul>
<li>Text and icon.</li>
<li>Keyboard short-cut (called <em>mnemonics</em>), e.g., activated via the &quot;Alt&quot; key in Windows System.</li>
<li>Tool tips: display when the mouse-pointer pauses on the component.</li>
<li>Look and feel: customized appearance and user interaction for the operating platform.</li>
<li>Localization: different languages for different locale.</li>
</ul>

<p>All <code>JComponents</code> (such as <code>JPanel</code>, <code>JLabel</code>, <code>JTextField</code> and <code>JButton</code>) support these set methods to set their appearances and properties:</p>
<pre class="color-syntax">
<span class="color-comment">// javax.swing.JComponent</span>
public void <strong>setBackground</strong>(Color <em>bgColor</em>)
   <span class="color-comment">// Sets the background color of this component</span>
public void <strong>setForeground</strong>(Color <em>fgcolor</em>)
   <span class="color-comment">// Sets the foreground (text) color of this component</span>
public void <strong>setFont</strong>(Font <em>font</em>)
   <span class="color-comment">// Sets the font used by this component</span>
public void <strong>setBorder</strong>(Border <em>border</em>)
   <span class="color-comment">// Sets the border for this component</span>
public void <strong>setPreferredSize</strong>(Dimension <em>dim</em>)
public void <strong>setMaximumSize</strong>(Dimension <em>dim</em>)
public void <strong>setMinimumSize</strong>(Dimension <em>dim</em>)
   <span class="color-comment">// Sets the preferred, maximum or minimum size of this component.
</span>public void <strong>setOpaque</strong>(boolean <em>isOpaque</em>)
   <span class="color-comment">// If true (opaque), fill the background with background color;
   // otherwise, enable transparent background.
   // Most of the JComponents have default of true, except JLabel.</span>
public void <strong>setToolTipText</strong>(String <em>toolTipMsg</em>)
   <span class="color-comment">// Sets the tool-tip message, to be displayed when the mouse-pointer pauses over the component.</span></pre>

<p>Swing's <code>JLabel</code> and buttons (<code>AbstractButton</code> subclasses): support both text and icon, which can be specified in the constructor or via the setters.</p>

<pre class="color-syntax">
<span class="color-comment">// javax.swing.JLabel, javax.swing.AbstractButton</span>
public void <strong>setText</strong>(String <em>strText</em>)
   <span class="color-comment">// Set the text</span>
public void <strong>setIcon</strong>(Icon <em>defaultIcon</em>)
   <span class="color-comment">// Set the button's default icon (you can have different icons for &quot;pressed&quot; and &quot;disabled&quot; states)</span>
public void <strong>setHorizontalAlignment</strong>(int <em>alignment</em>)
   <span class="color-comment">// Set the horizontal alignment of icon and text
   // SwingConstants.RIGHT, SwingConstants.LEFT, SwingConstants.CENTER</span>
public void <strong>setVerticalAlignment</strong>(int <em>alignment</em>)
   <span class="color-comment">// Set the vertical alignment of icon and text, 
   // SwingConstants.TOP, SwingConstants.BOTTOM, SwingConstants.CENTER</span>
public void <strong>setHorizontalTextPosition</strong>(int <em>textPosition</em>)
   <span class="color-comment">// Set the horizontal text position relative to icon
   // SwingConstants.RIGHT, SwingConstants.LEFT, SwingConstants.CENTER, SwingConstants.LEADING, SwingConstants.TRAILING.</span>
public void <strong>setVerticalTextPosition</strong>(int <em>textPosition</em>)
   <span class="color-comment">// Set the vertical text position relative to icon
   // SwingConstants.TOP, SwingConstants.BOTTOM, SwingConstants.CENTER</span></pre>

<p><code>JTextField</code> supports:</p>

<pre class="color-syntax">
<span class="color-comment">// javax.swing.JTextField, javax.swing.JLabel, javax.swing.AbstractButton</span>
public void <strong>setHorizontalAlignment</strong>(int <em>alignment</em>)
   <span class="color-comment">// Set the text's horizontal <em>alignment</em>: JTextField.LEFT, JTextField.CENTER
   //    JTextField.RIGHT, JTextField.LEADING, JTextField.TRAILING
   // No setVerticalAlignment as text field is single-line</span></pre>


<p>Swing's buttons support mnemonic (to be triggered via keyboard short-cut with alt key).</p>

<pre class="color-syntax">
<span class="color-comment">// javax.swing.AbstractButton</span>
public void <strong>setMnemonic</strong>(int <em>mnemonic</em>)
   <span class="color-comment">// Set the keyboard mnemonic (i.e., the alt short-cut key).
   // Use KeyEvent.VK_xxx to specify the key.</span></pre>


<h5>Example</h5>

<img class="image-float-right" src="images/Swing_JComponentSetterTest.png" alt="Swing_JComponentSetterTest.png" />

<p>This example creates 3 <code>JComponents</code>: a <code>JLabel</code>, a <code>JTextField</code> and a <code>JButton</code>, and sets their appearances (background and foreground colors, font, preferred size and opacity). It also sets the horizontal text alignment for the <code>JTextField</code>.</p>

<p>Images:</p>
<img src="images/cross.gif" alt="cross.gif" />
<img src="images/nought.gif" alt="nought.gif" />

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import java.net.URL;
import javax.swing.*;
 
<span class="color-comment">/** Test setting Swing's JComponents properties and appearances */</span>
@SuppressWarnings(&quot;serial&quot;)
public class SwingJComponentSetterTest extends JFrame {
 
   <span class="color-comment">// Image path relative to the project root (i.e., bin)</span>
   private String imgCrossFilename = &quot;images/cross.gif&quot;;
   private String imgNoughtFilename = &quot;images/nought.gif&quot;;
 
   <span class="color-comment">/** Constructor to setup the GUI */</span>
   public SwingJComponentSetterTest() {
 
      <span class="color-comment">// Prepare ImageIcons to be used with JComponents</span>
      ImageIcon iconCross = null;
      ImageIcon iconNought = null;
      URL imgURL = getClass().getClassLoader().getResource(imgCrossFilename);
      if (imgURL != null) {
         iconCross = new ImageIcon(imgURL);
      } else {
         System.err.println(&quot;Couldn't find file: &quot; + imgCrossFilename);
      }
      imgURL = getClass().getClassLoader().getResource(imgNoughtFilename);
      if (imgURL != null) {
         iconNought = new ImageIcon(imgURL);
      } else {
         System.err.println(&quot;Couldn't find file: &quot; + imgNoughtFilename);
      }
 
      Container cp = getContentPane();
      cp.setLayout(new FlowLayout(FlowLayout.CENTER, 10, 10));
 
      <span class="color-comment">// Create a JLabel with text and icon and set its appearances</span>
      JLabel label = new JLabel(&quot;JLabel&quot;, iconCross, SwingConstants.CENTER);
      label.setFont(new Font(Font.DIALOG, Font.ITALIC, 14));
      label.setOpaque(true);  <span class="color-comment">// needed for JLabel to show the background color</span>
      label.setBackground(new Color(204, 238, 241));  <span class="color-comment">// light blue</span>
      label.setForeground(Color.RED);                 <span class="color-comment">// foreground text color</span>
      label.setPreferredSize(new Dimension(120, 80));
      label.setToolTipText(&quot;This is a JLabel&quot;);  <span class="color-comment">// Tool tip</span>
      cp.add(label);
 
      <span class="color-comment">// Create a JButton with text and icon and set its appearances</span>
      JButton button = new JButton(); <span class="color-comment">// use setter to set text and icon</span>
      button.setText(&quot;Button&quot;);
      button.setIcon(iconNought);
      button.setVerticalAlignment(SwingConstants.BOTTOM);  <span class="color-comment">// of text and icon</span>
      button.setHorizontalAlignment(SwingConstants.RIGHT); <span class="color-comment">// of text and icon</span>
      button.setHorizontalTextPosition(SwingConstants.LEFT); <span class="color-comment">// of text relative to icon</span>
      button.setVerticalTextPosition(SwingConstants.TOP);    <span class="color-comment">// of text relative to icon</span>
      button.setFont(new Font(Font.SANS_SERIF, Font.BOLD, 15));
      button.setBackground(new Color(231, 240, 248));
      button.setForeground(Color.BLUE);
      button.setPreferredSize(new Dimension(150, 80));
      button.setToolTipText(&quot;This is a JButton&quot;);
      button.setMnemonic(KeyEvent.VK_B);  <span class="color-comment">// can activate via Alt-B (buttons only)</span>
      cp.add(button);
 
      <span class="color-comment">// Create a JTextField with text and icon and set its appearances</span>
      JTextField textField = new JTextField(&quot;Text Field&quot;, 15);
      textField.setFont(new Font(Font.DIALOG_INPUT, Font.PLAIN, 12));
      textField.setForeground(Color.RED);
      textField.setHorizontalAlignment(JTextField.RIGHT);  <span class="color-comment">// Text alignment</span>
      textField.setToolTipText(&quot;This is a JTextField&quot;);
      cp.add(textField);
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;JComponent Test&quot;);
      setLocationRelativeTo(null); <span class="color-comment">// center window on the screen</span>
      setSize(500, 150);  <span class="color-comment">// or pack()</span>
      setVisible(true);
 
      <span class="color-comment">// Print description of the JComponents via toString()</span>
      System.out.println(label);
      System.out.println(button);
      System.out.println(textField);
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run the GUI codes on Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new SwingJComponentSetterTest(); <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<pre class="output">
javax.swing.JLabel[, 41, 10, 120x80, alignmentX=0.0, alignmentY=0.0, border=, flags=25165832,
      maximumSize=, minimumSize=, preferredSize=java.awt.Dimension[width=120,height=80],
      defaultIcon=file:.../cross.gif, disabledIcon=, 
      horizontalAlignment=CENTER, horizontalTextPosition=TRAILING,
      iconTextGap=4, labelFor=, text=JLabel, verticalAlignment=CENTER, verticalTextPosition=CENTER]
javax.swing.JButton[, 171, 10, 150x80, alignmentX=0.0, alignmentY=0.5,
      border=javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@c5e2cf, flags=424,
      maximumSize=, minimumSize=, preferredSize=java.awt.Dimension[width=150,height=80],
      defaultIcon=file:/.../nought.gif, disabledIcon=, disabledSelectedIcon=,
      margin=javax.swing.plaf.InsetsUIResource[top=2,left=14,bottom=2,right=14],
      paintBorder=true, paintFocus=true, pressedIcon=, rolloverEnabled=true, rolloverIcon=,
      rolloverSelectedIcon=, selectedIcon=, text=Button, defaultCapable=true]
javax.swing.JTextField[, 331, 39, 109x21, layout=javax.swing.plaf.basic.BasicTextUI$UpdateHandler,
      alignmentX=0.0, alignmentY=0.0, border=javax.swing.plaf.BorderUIResource$CompoundBorderUIResource@1991de1,
      flags=296, maximumSize=, minimumSize=, preferredSize=, 
      caretColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],
      disabledTextColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229], editable=true,
      margin=javax.swing.plaf.InsetsUIResource[top=0,left=0,bottom=0,right=0],
      selectedTextColor=sun.swing.PrintColorUIResource[r=51,g=51,b=51],
      selectionColor=javax.swing.plaf.ColorUIResource[r=184,g=207,b=229],
      columns=15, columnWidth=7, command=, horizontalAlignment=RIGHT]</pre>
<p>The above clearly showed that there are many more properties that can be controlled.</p>

<h4>Display Area, Border and Insets</h4>

<h5>Display Area</h5>

<p>You can use the following get methods to get the dimensions of the display area of a <code>JComponent</code>. Each component maintains its own co-ordinates with origin (top-left corner) at (0, 0), width and height. You can also get the origin (x, y) relative to its parent or the screen.</p>

<pre class="color-syntax">
public int getWidth()
public int getHeight()
public Dimension getSize()
   <span class="color-comment">// Get the current width or height of the component, measured in pixels.
   // The getSize() returns width and height in a Dimension object.</span>
public int getX()
public int getY()
public Point getLocation()
   <span class="color-comment">// Get the component's current origin (x, y) relative to the
   //  parent's (e.g., JPanel or JFrame) upper-left corner, measured in pixels.
   // The getLocation() returns the (x, y) in a Point object.</span>
public Point getLocationOnScreen()
   <span class="color-comment">// Get the component's current origin (x, y) relative to the screen</span></pre>
   
<p>For example:</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
</td>
<td>
<pre>
import java.awt.*;
import javax.swing.*;
 
public class TestSize {
   public static void main(String[] args) {
      JFrame frame = new JFrame(&quot;Display Area&quot;);
      Container cp = frame.getContentPane();
      cp.setLayout(new FlowLayout());
      JButton btnHello = new JButton(&quot;Hello&quot;);
      btnHello.setPreferredSize(new Dimension(100, 80));
      cp.add(btnHello);
 
      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      frame.setSize(300, 150);  <span class="color-comment">// or pack() the components</span>
      frame.setLocationRelativeTo(null);  <span class="color-comment">// center the application window</span>
      frame.setVisible(true);             <span class="color-comment">// show it</span>
 
      System.out.println(btnHello.getSize());
      System.out.println(btnHello.getLocation());
      System.out.println(btnHello.getLocationOnScreen());
 
      System.out.println(cp.getSize());
      System.out.println(cp.getLocation());
      System.out.println(cp.getLocationOnScreen());
 
      System.out.println(frame.getSize());
      System.out.println(frame.getLocation());
      System.out.println(frame.getLocationOnScreen());
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<pre class="output">
java.awt.Dimension[width=100,height=80]   <span class="color-comment">// JButton's getSize()</span>
java.awt.Point[x=91,y=5]                  <span class="color-comment">// JButton's getLocation()</span>
java.awt.Point[x=590,y=349]               <span class="color-comment">// JButton's getLocationOnScreen()</span>
 
java.awt.Dimension[width=282,height=105]  <span class="color-comment">// ContentPane's getSize()</span><br />java.awt.Point[x=0,y=0]                   <span class="color-comment">// ContentPane's getLocation()</span><br />java.awt.Point[x=499,y=344]               <span class="color-comment">// ContentPane's getLocationOnScreen()</span><br /> 
java.awt.Dimension[width=300,height=150]  <span class="color-comment">// JFrame's getSize()</span><br />java.awt.Point[x=490,y=308]               <span class="color-comment">// JFrame's getLocation()</span><br />java.awt.Point[x=490,y=308]               <span class="color-comment">// JFrame's getLocationOnScreen()</span>
</pre>

<img class="image-center" src="images/Swing_ComponentDisplayArea.png" alt="Swing_ComponentDisplayArea.png" />

<h5>Border</h5>
<p>Swing supports these border types (in package <code>javax.swing.border</code>), which can be applied to all <code>JComponent</code>s:</p>

<ol>
<li><code>EmptyBorder</code>: empty, transparent border which   takes up space but does no drawing.</li>
<li><code>LineBorder</code>: line border of arbitrary thickness   and of a single color.</li>
<li><code>TitledBorder</code>: with the addition of a <code>String</code> title in a specified position and justification.</li>
<li><code>StrokeBorder</code>: border of an arbitrary stroke.</li>
<li><code>BevelBorder</code>: two-line bevel border.</li>
<li><code>SoftBevelBorder</code>: raised or lowered bevel with   softened corners.</li>
<li><code>EtchedBorder</code>: etched-in or etched-out with highlight/shadow.</li>
<li><code>MatteBorder</code>: matte-like border of either a solid color   or a tiled icon.</li>
<li><code>CompoundBorder</code>: compose two <code>Border</code>s - inner and outer.</li>
</ol>

<p>To set a border to a <code>JComponent</code>, the easier way is to choose a <code>static</code> method from the <code>BorderFactory</code> class (instead of using the constructor of the <code>Border</code> class). For example,</p>

<pre class="color-example">
JPanel panel = new JPanel();
panel.setBorder(BorderFactory.createLineBorder(Color.CYAN, 15));
   <span class="color-comment">// Set border to line-border with the given color and thickness</span></pre>

<p>The <code>BorderFactory</code> class provides these <code>static</code> methods to create borders:</p>
<pre class="color-syntax">
public static Border createLineBorder(Color color, [int thickness, boolean rounded])
   <span class="color-comment">// Creates a line border with the specified color, thickness, and corner shape.</span>
public static Border createEmptyBorder([int top, int left, int bottom, int right])
   <span class="color-comment">// Creates an &quot;empty&quot; border with the given width of the top, left, bottom, and right sides.</span>
public static TitledBorder createTitledBorder(String title)
   <span class="color-comment">// Creates a new titled border with the specified title.</span>
public static TitledBorder createTitledBorder(Border border, [String title, 
      int titleJustification, int titlePosition, Font titleFont, Color titleColor])
   <span class="color-comment">// Adds a title to an existing border, with the specified positioning, font and color.</span>
public static CompoundBorder createCompoundBorder([Border outsideBorder, Border insideBorder])
   <span class="color-comment">// Creates a compound border specifying the border objects to use for the outside and inside edges.</span>
MORE: Refer to the API</pre>

<img class="image-float-right" src="images/Graphics_Borders.gif" alt="Graphics_Borders.gif" />

<p>Borders are included into the display area of a <code>JComponent</code> as illustrated.</p>

<p> To exclude the border, you could use the method <code>getInSets()</code> to retrieve the 4 borders in an <code>Insets</code> object  (says <code>insets</code>), and use <code>insets.left</code>, <code>insets.right</code>, <code>insets.top</code>, and <code>insets.bottom</code> to retrieve the width of the 4 borders. For example,</p>

<pre class="color-example">
<span class="color-comment">// Continue from previous example</span>
Insets insets = frame.getInsets();
System.out.println(insets);
   <span class="color-comment">// java.awt.Insets[top=36,left=9,bottom=9,right=9]</span>
int realWidth = frame.getWidth() - insets.left - insets.right;
int realHeight = frame.getHeight() - insets.top - insets.bottom;
System.out.println(&quot;real width = &quot; + realWidth);    <span class="color-comment">// real width = 282</span>
System.out.println(&quot;real height = &quot; + realHeight);  <span class="color-comment">// real height = 105</span></pre>

<h5 class="float-clear">Example</h5>

<img class="image-float-right" src="images/Swing_TestDisplayAreaAndBorder.png" alt="Swing_TestDisplayAreaAndBorder.png" />

<p>This example illustrates the display area, border and the various dimension.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre>
</td>
<td>
<pre>
import java.awt.*;
import javax.swing.*;

<span class="color-comment">// A Swing application inherits from top-level container javax.swing.JFrame</span> 
public class TestDisplayAreaAndBorder extends JFrame {
   <span class="color-comment">/** Constructor to setup the GUI */</span>
   public TestDisplayAreaAndBorder() {
      Container cp = getContentPane();
      cp.setLayout(new FlowLayout());
 
      JTextArea comp = new JTextArea(10, 25);  <span class="color-comment">// row and columns</span>
      comp.setBackground(new Color(200, 200, 200));
      comp.setForeground(Color.BLUE);
      comp.setBorder(BorderFactory.createLineBorder(Color.CYAN, 15));
            <span class="color-comment">// set border to line-border with the given color and thickness</span>
      comp.setPreferredSize(new Dimension(350, 200));
      cp.add(comp);
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Appearance and Border&quot;);
      setSize(400, 300);
      setVisible(true);
 
      StringBuffer msg = new StringBuffer();
      msg.append(&quot;Width = &quot; + comp.getWidth());
      msg.append(&quot;\nHeight = &quot; + comp.getHeight());
      msg.append(&quot;\nOrigin-X = &quot; + comp.getX());
      msg.append(&quot;\nOrigin-Y = &quot; + comp.getY());
      msg.append(&quot;\nOrigin-X (on screen) = &quot; + comp.getLocationOnScreen().x);
      msg.append(&quot;\nOrigin-Y (on screen) = &quot; + comp.getLocationOnScreen().y);
 
      Insets insets = comp.getInsets();
      msg.append(&quot;\nInsets (top, right, bottom, left)  = &quot;
         + insets.top + &quot;,&quot; + insets.right + &quot;,&quot; + insets.bottom + &quot;,&quot; + insets.left);
      msg.append(&quot;\nReal Width  = &quot; + (comp.getWidth() - insets.left - insets.right));
      msg.append(&quot;\nReal Height  = &quot; + (comp.getHeight() - insets.top - insets.bottom));
 
      comp.setText(msg.toString());
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run the GUI codes on Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new TestDisplayAreaAndBorder(); <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<h4>Positioning Your Application Window</h4>

<p>You can position your main application window (<code>JFrame</code>), or top-level container, on the screen, via:</p>

<pre class="color-syntax">
<span class="color-comment">// Set methods (in java.awt.Window)</span>
<span class="color-comment">// (x, y) specifies the origin (top-left corner) of the window on the screen</span>
public void setSize(int width, int height)
public void setLocation(int x, int y)
public void setBounds(int x, int y, int width, int height)
public void setSize(Dimension dim)
public void setLocation(Point origin)
public void setBounds(Rectangle r)   <span class="color-comment">// JDK 1.6</span>
 
<span class="color-comment">// The associated get methods (in java.awt.Component) are:</span>
public int getWidth()
public int getHeight()
public int getX()
public int getY()
public Dimension getSize()
public Point getLocation()
public Rectangle getBounds()
   <span class="color-comment">// No setX(), setY(), setWidth(), setHeight()</span></pre>

<p>You can get the screen size via <code>static</code> method <code>Toolkit.getDefaultToolkit().getScreenSize()</code>. For example,</p>

<pre class="color-example">
Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();  <span class="color-comment">// Get the screen dimension</span>
int screenWidth = dim.width;
int screenHeight = dim.heigth;</pre>

<p>You can also run your application in full-screen mode (with or without decorations such as title bar), instead of window-mode. Read &quot;Swing How-To&quot;.</p>

<p>A quick way to center your application on the screen is to use <code>setLocationRelativeTo(null)</code>:</p>
<pre class="color-example">
setSize(WINDOW_WIDTH, WINDOW_HEIGHT); <span class="color-comment">// or pack() the components</span>
setLocationRelativeTo(null);  <span class="color-comment">// center the window on the screen</span>
                              <span class="color-comment">// shall be run after setSize()</span>
setVisible(true);             <span class="color-comment">// show it</span></pre>


<h4>Text Components: <span class="font-code">JTextField</span>, <span class="font-code">JTextArea</span>, <span class="font-code">JEditorPane</span></h4>

<img class="image-float-right" src="images/Swing_JTextComponentClassDiagram.png" alt="Swing_JTextComponentClassDiagram.png" />

<p>Swing provides 6 text components, as shown in the above class diagram. All text components extends from <code>JTextComponent</code>.</p>

<ol>
<li><code>JTextField</code>, <code>JPasswordField</code>, <code>JFormattedTextField</code>: For displaying only one line of editable text. Like buttons, they trigger <code>ActionEvent</code> when user hits the &quot;enter&quot; key.</li>
<li><code>JTextArea</code>: Plain text area for displaying multiple lines of editable text, unformatted. All the texts are in the same font.</li>
<li><code>JEditorPane</code>, <code>JTextPane</code>: A styled text area which can use more than one font. They support embedded images and embedded components. <code>JEditorPane</code> can load HMTL-formatted text from a URL.</li>
</ol>

<h5 class="float-clear">Example: <span class="font-code">JTextField</span>, <span class="font-code">JPasswordField</span>, <span class="font-code">JFormattedTextField</span>, and <span class="font-code">JTextArea</span></h5>

<img class="image-float-right" src="images/Swing_JTextComponentDemo.png" alt="Swing_JTextComponentDemo.png" />

<p>This example illustrates single-line <code>JTextField</code>, <code>JPasswordField</code>, <code>JFormattedField</code>, and multi-line <code>JTextArea</code> wrapped inside an <code>JScrollPane</code>.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** Test JTextField, JPasswordField, JFormattedTextField, JTextArea */</span>
@SuppressWarnings(&quot;serial&quot;)
public class JTextComponentDemo extends JFrame {
 
   <span class="color-comment">// Private variables of the GUI components</span>
   JTextField tField;
   JPasswordField pwField;
   JTextArea tArea;
   JFormattedTextField formattedField;
 
   <span class="color-comment">/** Constructor to set up all the GUI components */</span>
   public JTextComponentDemo() {
      <span class="color-comment">// JPanel for the text fields</span>
      JPanel tfPanel = new JPanel(new GridLayout(3, 2, 10, 2));
      tfPanel.setBorder(BorderFactory.createTitledBorder(&quot;Text Fields: &quot;));
 
      <span class="color-comment">// Regular text field (Row 1)</span>
      tfPanel.add(new JLabel(&quot;  JTextField: &quot;));
      tField = new JTextField(10);
      tfPanel.add(tField);
      tField.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            tArea.append(&quot;\nYou have typed &quot; + tField.getText());
         }
      });
 
      <span class="color-comment">// Password field (Row 2)</span>
      tfPanel.add(new JLabel(&quot;  JPasswordField: &quot;));
      pwField = new JPasswordField(10);
      tfPanel.add(pwField);
      pwField.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            tArea.append(&quot;\nYou password is &quot; + new String(pwField.getPassword()));
         }
      });
 
      <span class="color-comment">// Formatted text field (Row 3)</span>
      tfPanel.add(new JLabel(&quot;  JFormattedTextField&quot;));
      formattedField = new JFormattedTextField(java.util.Calendar
            .getInstance().getTime());
      tfPanel.add(formattedField);
 
      <span class="color-comment">// Create a JTextArea</span>
      tArea = new JTextArea(&quot;A JTextArea is a \&quot;plain\&quot; editable text component, &quot;
            + &quot;which means that although it can display text &quot;
            + &quot;in any font, all of the text is in the same font.&quot;);
      tArea.setFont(new Font(&quot;Serif&quot;, Font.ITALIC, 13));
      tArea.setLineWrap(true);       <span class="color-comment">// wrap line</span>
      tArea.setWrapStyleWord(true);  <span class="color-comment">// wrap line at word boundary</span>
      tArea.setBackground(new Color(204, 238, 241)); <span class="color-comment">// light blue</span>
      <span class="color-comment">// Wrap the JTextArea inside a JScrollPane</span>
      JScrollPane tAreaScrollPane = new JScrollPane(tArea);
      tAreaScrollPane.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
      tAreaScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
 
      <span class="color-comment">// Setup the content-pane of JFrame in BorderLayout</span>
      Container cp = this.getContentPane();
      cp.setLayout(new BorderLayout(5, 5));
      cp.add(tfPanel, BorderLayout.NORTH);
      cp.add(tAreaScrollPane, BorderLayout.CENTER);
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;JTextComponent Demo&quot;);
      setSize(350, 350);
      setVisible(true);
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new JTextComponentDemo();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<h5><span class="font-code">JPasswordField</span></h5>
<p>Use <code>getPassword()</code> to get the password entered in a <code>char[]</code>. [TODO: Security Issues]</p>

<h5><span class="font-code">JFormattedTextField</span> (Advanced)</h5>
<p>[TODO]</p>

<h5><span class="font-code">JTextArea</span> wrapped in a <span class="font-code">JScrollPane</span></h5>
<p>It is common to wrap a <code>JTextArea</code> inside a <code>JScrollPane</code>, so as to scroll the text area (horizontally or vertically). To do so, allocate a <code>JScrollPane</code> with the <code>JTextArea</code> as the argument.</p>
<pre class="color-example">
JTextArea tArea = new JTextArea(...);  <span class="color-comment">// Allocate JTextArea</span>
JScrollPane tAreaScrollPane = new JScrollPane(tArea);  <span class="color-comment">// Allocate JScrollPane which wraps the JTextArea</span>
tAreaScrollPane.setVerticalScrollBarPolicy(...);       <span class="color-comment">// Configure vertical scroll bar</span>
tAreaScrollPane.setHorizontalScrollBarPolicy(...);     <span class="color-comment">// Configure horizontal scroll bar</span></pre>

<h5><span class="font-code">JTextArea</span>'s Properties</h5>
<p>You can replace the document, or append or insert more text.</p>
<pre class="color-syntax">
public void append(String <em>str</em>)
   <span class="color-comment">// Append the <em>str</em> to the end of the document</span>
public void replaceRange(String <em>str</em>, int <em>startPos</em>, int <em>endPos</em>)  
   <span class="color-comment">// Replace with the <em>str</em> from <em>startPos</em> to <em>endPos</em> position</span>
public void insert(String str, int <em>pos</em>)
   <span class="color-comment">// Insert the <em>str</em> after the specified position</span>
</pre>


<h5><span class="font-code">JEditorPane</span> as HTML Browser</h5>

<p>You can use <code>JEditorPane</code> to display an HTML document (but no CSS and JavaScript). Again, it is common to wrap a <code>JEditorPane</code> inside a <code>JScrollPane</code>. For example,</p>

<pre class="color-example">
JEditorPane editorPane = new JEditorPane();  <span class="color-comment">// allocate a JEditorPane</span>
editorPane.setEditable(false);
try {
   <span class="color-comment">// Form a URL and display the HTML page on the editor-pane</span>
   URL url = new URL(&quot;http://www3.ntu.edu.sg/home/ehchua/programming/index.html&quot;);
   editorPane.setPage(url);
} catch (MalformedURLException e) {
   e.printStackTrace();
} catch (IOException e) {
   e.printStackTrace();
}
<span class="color-comment">// Wrap the JEditorPane inside a JScrollPane</span>
JScrollPane editorScrollPane = new JScrollPane(editorPane);<br />editorScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);<br />setContentPane(editorScrollPane);<br /></pre>

<h5><span class="font-code">JTextPane</span> (Advanced)</h5>
<p><code>JTextPane</code> is used for <em>formatted styled</em> text display; whereas <code>JTextArea</code> is used for <em>plain</em> text display. Although you can set the font and style for <code>JTextArea</code>, all the text is display in the same font. In <code>JTextPane</code>, you can set different fonts and styles for different sections of text.</p>
<p>You can use <code>JTextPane</code> for to develop an editor (such as NotePad or NotePad++) with different sections of text displayed in different fonts and colors.</p>
<p>Example: See Swing Tutorial's &quot;<a href="http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html">Text Component Features</a>&quot;. This is an excellent example that illustrates many features and concepts.</p>

<p>Text Component API: It provides many features, from cut and paste to changing the selected text. See Swing Tutorial's &quot;<a href="http://docs.oracle.com/javase/tutorial/uiswing/components/textapi.html">Text Component API</a>&quot;.</p>

<h4>Buttons and ComboBox: <span class="font-code">JButton</span>, <span class="font-code">JCheckBox</span>, <span class="font-code">JRadioButton</span>, <span class="font-code">JComboBox</span></h4>

<img class="image-float-right" src="images/Swing_AbstractButtonClassDiagram.png" alt="Swing_AbstractButtonClassDiagram.png" />

<p>Read: Swing Tutorial's &quot;<a href="http://docs.oracle.com/javase/tutorial/uiswing/components/button.html">How to Use Buttons, Check Boxes, and Radio Buttons</a>&quot;.</p>

<p>A user can click a button (or a menu item) to trigger a specific action. Swing supports mouse-less operations, where user could use a keyboard short-cut (called <em>mnemonic</em>) to activate the action.</p> 

<p>Buttons and menu-items are inherited from <code>AbstractButton</code>, as shown in the class diagram.</p>

<p>You could place a text string (called button's label) as well as an icon on the button. You could use different icons for different button states: <code>defaultIcon</code>, <code>disabledIcon</code>, <code>pressedIcon</code>, <code>selectedIcon</code>, <code>rolloverIcon</code>, <code>disabledSelectedIcon</code>, <code>rolloverSelectedIcon</code>. The <code>defaultIcon</code> can be set via the constructor or <code>setIcon()</code> method. The other icons can be set via <code>setXxxIcon()</code> methods. You can set the alignment of text and button via <code>setHorizontalAlignment()</code> and <code>setVerticalAlignment()</code> methods. You can set the position of the text relative to the icon via <code>setHorizontalTextPosition()</code> and <code>setVerticalTextPosition()</code>.</p>

<p>Swing supports many type of buttons.</p>

<h5>Command Buttons: <span class="font-code">JButton</span></h5>
<p> Click to fires an <code>ActionEvent</code> to all its registered <code>ActionListener</code>s.</p>

<h5>Toggle Buttons: <span class="font-code">JRadioButton</span>, <span class="font-code">JCheckBox</span>, <span class="font-code">JToggleButton</span></h5>

<p>Toggle buttons are two-state buttons: <code>SELECTED</code> or <code>DESELECTED</code>.</p>
<p>For radio button, you can choose none or one among the group. <code>JRadioButton</code>s are typically added into a <code>ButtonGroup</code> to ensure exclusive selection. <code>JRadioButton</code> fires <code>ItemEvent</code> to its <code>ItemListener</code>s. It also fires <code>ActionEvent</code> to its <code>ActionListener</code>s. Both <code>ItemEvent</code> and <code>ActionEvent</code> can be used.</p>

<p>For checkboxes, you can choose none or more among the group. <code>JCheckBoxes</code> fire <code>ItemEvent</code> as well as <code>ActionEvent</code>. We typically use <code>ItemEvent</code> as we may need to distinguish between item-states of <code>SELECTED</code> and <code>DESELECTED</code>.</p>

<p>The <code>ItemListner</code> (of <code>ItemEvent</code>) declares one abstract method <code>itemStateChanged(ItemEvent e)</code>.</p>

<h5><span class="font-code">JComboBox</span></h5>
<p><code>JComboBox</code> can be used to provide a drop-down menu. It supports single-selection and multiple-selection. <code>JComboBox</code> receives a <code>Object</code> array (typically a <code>String</code> array), which provides the items in the drop-down list. <code>JComboBox</code> fires <code>ItemEvent</code>. We could use <code>JComboBox</code>'s <code>getSelectedIndex()</code> to get the index of the selected item; or <code>getSelectedItem()</code> to get the selected <code>Object</code>. <code>JComboBox</code> also fires <code>ActionEvent</code>.</p>

<h5>Example on <span class="font-code">JButton</span>, <span class="font-code">JRadioButton</span> and <span class="font-code">JComboBox</span></h5>
<img class="image-float-right" src="images/Swing_CounterRadioCombo.png" alt="Swing_CounterRadioCombo.png" />

<p>In this example, we shall modify our counter application to include two radio buttons for specifying counting up/down, and a combo-box to select the count-step size.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** Counter with JRadioButton and JComboBox */</span>
@SuppressWarnings(&quot;serial&quot;)
public class SwingCounterRadioCombo extends JFrame {
   private JTextField tfCount;
   private int count = 0;  <span class="color-comment">// counter's value</span>
   private boolean countingUp = true; <span class="color-comment">// counting up or down</span>
   private int step = 1;   <span class="color-comment">// increment step size</span>
 
   <span class="color-comment">/** Constructor to setup the UI */</span>
   public SwingCounterRadioCombo () {
      Container cp = getContentPane();
      cp.setLayout(new FlowLayout());
 
      <span class="color-comment">// Create JLabel and JTextField</span>
      cp.add(new JLabel(&quot;Counter:&quot;));
      tfCount = new JTextField(&quot;0&quot;, 5);
      tfCount.setEditable(false);
      tfCount.setHorizontalAlignment(JTextField.RIGHT);
      cp.add(tfCount);
 
      <span class="color-comment">// Create JRadioButton for counting up and down</span>
      JRadioButton rbUp = new JRadioButton(&quot;Up&quot;, true);
      rbUp.setMnemonic(KeyEvent.VK_U);
      cp.add(rbUp);
      rbUp.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            countingUp = true;
         }
      });
      JRadioButton rbDown = new JRadioButton(&quot;Down&quot;, true);
      rbDown.setMnemonic(KeyEvent.VK_D);
      cp.add(rbDown);
      rbDown.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            countingUp = false;
         }
      });
      <span class="color-comment">// Setup a ButtonGroup to ensure exclusive selection</span>
      ButtonGroup btnGp = new ButtonGroup();
      btnGp.add(rbUp);
      btnGp.add(rbDown);
 
      <span class="color-comment">// Create JComboBox for setting the count step size</span>
      add(new JLabel(&quot;Step:&quot;));
      final Integer[] steps = {1, 2, 3, 4, 5};  <span class="color-comment">// auto-upcast</span>
      final JComboBox&lt;Integer&gt; comboCount = new JComboBox&lt;Integer&gt;(steps);
      comboCount.setPreferredSize(new Dimension(60, 20));
      cp.add(comboCount);
      comboCount.addItemListener(new ItemListener() {
         @Override
         public void itemStateChanged(ItemEvent e) {
            if (e.getStateChange() == ItemEvent.SELECTED) {
               step = (Integer)comboCount.getSelectedItem();
            }
         }
      });
 
      <span class="color-comment">// Create JButton for &quot;Count&quot;</span>
      JButton btnCount = new JButton(&quot;Count&quot;);
      btnCount.setMnemonic(KeyEvent.VK_C);
      cp.add(btnCount);
      btnCount.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            if (countingUp) {
               count += step;
            } else {
               count -= step;
            }
            tfCount.setText(count + &quot;&quot;);
         }
      });
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Swing Counter with RadioButton &amp; ComboBox&quot;);
      setSize(480, 100);
      setVisible(true);
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run the GUI codes in the Event-Dispatching thread for thread-safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new SwingCounterRadioCombo(); <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>



<h5>Example on <span class="font-code">JRadioButton</span>, <span class="font-code">JCheckBox</span> and <span class="font-code">JComboBox</span></h5>

<img class="image-float-right" src="images/Swing_ButtonComboBoxDemo.png" alt="Swing_ButtonComboBoxDemo.png" />

<p>In this example, we have two groups of radio buttons: one group to set the horizontal alignment of the <code>JLabel</code>, and processed via <code>ItemEvent</code>; another group sets the vertical alignment and processed via <code>ActionEvent</code>.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import java.net.URL;
import javax.swing.*;
 
<span class="color-comment">/** Test JRadioButton, JCheckBox and JComboBox */</span>
@SuppressWarnings(&quot;serial&quot;)
public class ButtonComboBoxDemo extends JFrame {
   <span class="color-comment">// private variables of GUI components</span>
   private JLabel lblForTest;
   private String imgCrossFilename = &quot;images/cross.gif&quot;;
   private String lblText = &quot;Cross&quot;;
   private Icon iconCross;
 
   private JRadioButton rbLeft, rbCenter, rbRight, rbTop, rbMiddle, rbBottom;
   private JCheckBox cbText, cbIcon;
   private JComboBox&lt;String&gt; comboColor;
 
   <span class="color-comment">/** Constructor to setup the UI components */</span>
   public ButtonComboBoxDemo() {
      <span class="color-comment">// Create a JLabel with text and icon for manipulation</span>
      URL imgURL = getClass().getClassLoader().getResource(imgCrossFilename);
      if (imgURL != null) {
         iconCross = new ImageIcon(imgURL);
      } else {
         System.err.println(&quot;Couldn't find file: &quot; + imgCrossFilename);
      }
      lblForTest = new JLabel(lblText, iconCross, SwingConstants.CENTER);
      lblForTest.setOpaque(true);
      lblForTest.setBackground(new Color(204, 238, 241));
      lblForTest.setForeground(Color.RED);
      lblForTest.setFont(new Font(Font.SANS_SERIF, Font.ITALIC, 18));
 
      <span class="color-comment">// Create radio buttons for setting horizontal alignment of the JLabel</span>
      rbLeft = new JRadioButton(&quot;Left&quot;);
      rbLeft.setMnemonic(KeyEvent.VK_L);
      rbCenter = new JRadioButton(&quot;Center&quot;, true);  <span class="color-comment">// selected</span>
      rbCenter.setMnemonic(KeyEvent.VK_C);
      rbRight = new JRadioButton(&quot;Right&quot;);
      rbRight.setMnemonic(KeyEvent.VK_R);
      <span class="color-comment">// Put the radio buttons into a ButtonGroup to ensure exclusive selection</span>
      ButtonGroup btnGroupH = new ButtonGroup();
      btnGroupH.add(rbLeft);
      btnGroupH.add(rbRight);
      btnGroupH.add(rbCenter);
      <span class="color-comment">// Set up a JPanel to hold all radio buttons</span>
      JPanel pnlRbtnH = new JPanel(new GridLayout(1, 0)); <span class="color-comment">// single row</span>
      pnlRbtnH.add(rbLeft);
      pnlRbtnH.add(rbCenter);
      pnlRbtnH.add(rbRight);
      pnlRbtnH.setBorder(BorderFactory.createTitledBorder(&quot;Horizontal Alignment&quot;));
 
      <span class="color-comment">// A ItemListener for all Radio buttons</span>
      ItemListener listener = new ItemListener() {
         @Override
         public void itemStateChanged(ItemEvent e) {
            if (e.getStateChange() == ItemEvent.SELECTED) {
               if (e.getSource() == rbLeft) {
                  lblForTest.setHorizontalAlignment(SwingConstants.LEFT);
               } else if (e.getSource() == rbCenter) {
                  lblForTest.setHorizontalAlignment(SwingConstants.CENTER);
               } else if (e.getSource() == rbRight) {
                  lblForTest.setHorizontalAlignment(SwingConstants.RIGHT);
               }
            }
         }
      };
      rbLeft.addItemListener(listener);
      rbCenter.addItemListener(listener);
      rbRight.addItemListener(listener);
 
      <span class="color-comment">// Create radio buttons for setting vertical alignment of the JLabel</span>
      rbTop = new JRadioButton(&quot;Top&quot;);
      rbTop.setMnemonic(KeyEvent.VK_T);
      rbMiddle = new JRadioButton(&quot;Middle&quot;, true);  <span class="color-comment">// selected</span>
      rbMiddle.setMnemonic(KeyEvent.VK_M);
      rbBottom = new JRadioButton(&quot;Bottom&quot;);
      rbBottom.setMnemonic(KeyEvent.VK_B);
      <span class="color-comment">// Put the radio buttons into a ButtonGroup to ensure exclusive selection</span>
      ButtonGroup btnGroupV = new ButtonGroup();
      btnGroupV.add(rbTop);
      btnGroupV.add(rbMiddle);
      btnGroupV.add(rbBottom);
      <span class="color-comment">// Set up a JPanel to hold all radio buttons</span>
      JPanel pnlRbtnV = new JPanel(new GridLayout(1, 0)); <span class="color-comment">// single row</span>
      pnlRbtnV.add(rbTop);
      pnlRbtnV.add(rbMiddle);
      pnlRbtnV.add(rbBottom);
      pnlRbtnV.setBorder(BorderFactory.createTitledBorder(&quot;Vertical Alignment&quot;));
 
      <span class="color-comment">// Radio buttons also fire ActionEvent</span>
      rbTop.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            lblForTest.setVerticalAlignment(SwingConstants.TOP);
         }
      });
      rbMiddle.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            lblForTest.setVerticalAlignment(SwingConstants.CENTER);
         }
      });
      rbBottom.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            lblForTest.setVerticalAlignment(SwingConstants.BOTTOM);
         }
      });
 
      <span class="color-comment">// Create checkboxes for selecting text, icon, or both, or none</span>
      cbText = new JCheckBox(&quot;Text&quot;, true);  <span class="color-comment">// selected</span>
      cbText.setMnemonic(KeyEvent.VK_T);
      cbIcon = new JCheckBox(&quot;Icon&quot;, true);  <span class="color-comment">// selected</span>
      cbIcon.setMnemonic(KeyEvent.VK_I);
      cbIcon.setSelected(true);
      <span class="color-comment">// Set up a JPanel to hold all checkboxes</span>
      JPanel pnlCbox = new JPanel(new GridLayout(0, 1)); <span class="color-comment">// single column</span>
      pnlCbox.add(cbText);
      pnlCbox.add(cbIcon);
      <span class="color-comment">// Checkboxes fire ItemEvent. Use an anonymous inner class as ItemListener</span>
      cbText.addItemListener(new ItemListener() {
         @Override
         public void itemStateChanged(ItemEvent e) {
            <span class="color-comment">// Need to handle both SELECTED and DESELECTED</span>
            if (e.getStateChange() == ItemEvent.SELECTED) {
               lblForTest.setText(lblText);
            } else {
               lblForTest.setText(&quot;&quot;);
            }
         }
      });
      cbIcon.addItemListener(new ItemListener() {
         @Override
         public void itemStateChanged(ItemEvent e) {
            <span class="color-comment">// Need to handle both SELECTED and DESELECTED</span>
            if (e.getStateChange() == ItemEvent.SELECTED) {
               lblForTest.setIcon(iconCross);
            } else {
               lblForTest.setIcon(null);
            }
         }
      });
 
      <span class="color-comment">// Create combobox (drop-down menu) for the foreground color of the JLabel</span>
      String[] strColors = {&quot;Red&quot;, &quot;Blue&quot;, &quot;Green&quot;,
                            &quot;Cyan&quot;, &quot;Magenta&quot;, &quot;Yellow&quot;, &quot;Black&quot;};
      final Color[] colors = {Color.RED, Color.BLUE, Color.GREEN,
                        Color.CYAN, Color.MAGENTA, Color.YELLOW, Color.BLACK};
      comboColor = new JComboBox&lt;String&gt;(strColors);
      comboColor.addItemListener(new ItemListener() {
         @Override
         public void itemStateChanged(ItemEvent e) {
            if (e.getStateChange() == ItemEvent.SELECTED) {
               lblForTest.setForeground(colors[comboColor.getSelectedIndex()]);
            }
         }
      });
      <span class="color-comment">// Set up a JPanel for the combobox</span>
      JPanel pnlCombo = new JPanel(new FlowLayout());
      pnlCombo.add(comboColor);
 
      <span class="color-comment">// Set up the content-pane with BorderLayout and adds the panels</span>
      Container cp = this.getContentPane();
      cp.setLayout(new BorderLayout());
      cp.add(lblForTest, BorderLayout.CENTER);
      cp.add(pnlRbtnH, BorderLayout.NORTH);
      cp.add(pnlRbtnV, BorderLayout.SOUTH);
      cp.add(pnlCbox, BorderLayout.WEST);
      cp.add(pnlCombo, BorderLayout.EAST);
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Button and ComboBox Demo&quot;);
      setSize(400, 300);  <span class="color-comment">// or pack() the components</span>
      setLocationRelativeTo(null);
      setVisible(true);
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in the Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            new ButtonComboBoxDemo();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<h4>Menu-Bar: <span class="font-code">JMenuBar</span>, <span class="font-code">JMenu</span>, <span class="font-code">JMenuItem</span></h4>

<img class="image-float-right" src="images/Swing_JMenuBarClassDiagram.png" alt="Swing_JMenuBarClassDiagram.png" />

<p>The menu-bar is at the same level as the content-pane (of the top-level container <code>JFrame</code>). It is set via the <code>JFrame</code>'s <code>setJMenuBar()</code> method (similar to <code>setContentPane()</code>).</p>
<p>To create a menu-bar, construct a <code>JMenuBar</code>. A menu-bar (<code>JMenuBar</code>) contains menu (<code>JMenu</code>). A menu contains menu-item (<code>JMenuItem</code>). <code>JMenuItem</code> is a subclass of <code>AbstractButton</code>, similar to <code>JButton</code>. <code>JMenuItem</code> fires <code>ActionEvent</code> upon activation to all its registered <code>ActionListener</code>.</p>

<h5>Example</h5>

<img class="image-float-right" src="images/Swing_TestJMenuBar.png" alt="Swing_TestJMenuBar.png" />

<p>This menu-bar contains 2 menus (Menu-A and Menu-B). Menu-A contains 2 menu-items (Up and Down). Menu-B has 1 menu-item (Reset).</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** Testing menu-bar of JFrame */</span>
public class TestJMenuBar extends JFrame {
 
   JTextField display;
   int count = 0;
 
   <span class="color-comment">/** Constructor to setup the GUI */</span>
   public TestJMenuBar() {
      <span class="color-comment">// A menu-bar contains menus. A menu contains menu-items (or sub-Menu)</span>
      JMenuBar menuBar;   <span class="color-comment">// the menu-bar</span>
      JMenu menu;         <span class="color-comment">// each menu in the menu-bar</span>
      JMenuItem menuItem; <span class="color-comment">// an item in a menu</span>
 
      menuBar = new JMenuBar();
 
      <span class="color-comment">// First Menu</span>
      menu = new JMenu(&quot;Menu-A&quot;);
      menu.setMnemonic(KeyEvent.VK_A);  <span class="color-comment">// alt short-cut key</span>
      menuBar.add(menu);  <span class="color-comment">// the menu-bar adds this menu</span>
 
      menuItem = new JMenuItem(&quot;Up&quot;, KeyEvent.VK_U);
      menu.add(menuItem); <span class="color-comment">// the menu adds this item</span>
      menuItem.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            ++count;
            display.setText(count + &quot;&quot;);
         }
      });
 
      menuItem = new JMenuItem(&quot;Down&quot;, KeyEvent.VK_D);
      menu.add(menuItem); <span class="color-comment">// the menu adds this item</span>
      menuItem.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            --count;
            display.setText(count + &quot;&quot;);
         }
      });
 
      <span class="color-comment">// Second Menu</span>
      menu = new JMenu(&quot;Menu-B&quot;);
      menu.setMnemonic(KeyEvent.VK_B);  <span class="color-comment">// short-cut key</span>
      menuBar.add(menu);  <span class="color-comment">// the menu bar adds this menu</span>
 
      menuItem = new JMenuItem(&quot;Reset&quot;, KeyEvent.VK_R);
      menu.add(menuItem); <span class="color-comment">// the menu adds this item</span>
      menuItem.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            count = 0;
            display.setText(count + &quot;&quot;);
         }
      });
 
      setJMenuBar(menuBar);  <span class="color-comment">// &quot;this&quot; JFrame sets its menu-bar</span>
 
      Container cp = getContentPane();
      cp.setLayout(new FlowLayout());
      display = new JTextField(&quot;0&quot;, 10);
      cp.add(display);
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Test MenuBar&quot;);
      setSize(300, 100);
      setVisible(true);
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run the GUI codes on the event-dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new TestJMenuBar(); <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>



<h4><span class="font-code">JOptionPane</span>: Interacting with the User</h4>
<p>The <code>javax.swing.JOptionPane</code> provides standard <em>pre-built</em> diglog boxes to interact with user  for both input and output. To create a dialog box, use one of the <code>static</code> methods <code>JOptionPane.showXxxDialog()</code>.</p>

<pre class="color-syntax">
<span class="color-comment">// Prompt for user input</span>
public static String <strong>showInputDialog</strong>(Object <em>message</em>, [Object <em>initialSelectionValue</em>])
public static Object <strong>showInputDialog</strong>(Component <em>parentComponent</em>, Object <em>message</em>,
      [String <em>title</em>], [int <em>messageType</em>], [Icon <em>icon</em>], [Object[] <em>options</em>], [Object <em>initialValue</em>])
   
<span class="color-comment">// Asks a confirming question (yes/no/cancel)</span>
public static int <strong>showConfirmDialog</strong>(Component <em>parentComponent</em>, Object <em>message</em>,
      [String <em>title</em>], [int <em>optionType</em>], [int <em>messageType</em>], [Icon <em>icon</em>])
   
<span class="color-comment">// Display a message</span>
public static void <strong>showMessageDialog</strong>(Component <em>parentComponent</em>, Object <em>message</em>,
      [String <em>title</em>], [int <em>messageType</em>], [Icon <em>icon</em>])
   
<span class="color-comment">// Support all features of the above three methods</span>
public static int <strong>showOptionDialog</strong>(Component <em>parentComponent</em>, Object <em>message</em>,
      String <em>title</em>, int <em>optionType</em>, int <em>messageType</em>, Icon <em>icon</em>, Object[] <em>options</em>, Object <em>initialValue</em>)
      
<span class="color-comment">// Component <em>parentComponent</em>: parent of this dialog box, for poisitioning. 
//    If null, centered on the screen.
// Object <em>message</em>: the message, typically a String.
// String <em>title</em>: the title for the dialog box
// int <em>messageType</em>: the style of the message, 
//    JOptionPane.ERROR_MESSAGE, INFORMATION_MESSAGE, WARNING_MESSAGE, QUESTION_MESSAGE, PLAIN_MESSAGE.
// int <em>optionType</em>: the set of option buttons,
//    JOptionPane.DEFAULT_OPTION, YES_NO_OPTION, YES_NO_CANCEL_OPTION, OK_CANCEL_OPTION
// Icon <em>icon</em>: a decorative icon, default depends on the messageType
// Object[] <em>options</em>, Object <em>initialValue</em>:</span></pre>

<p>All these methods <em>block</em> the caller until the user's interaction is complete. Each of these methods also comes has a <code>showInternalXxxDialog()</code> version, which uses an internal frame to hold the dialog box.</p>

<h5>Example: Input, Confirm and Message Dialogs</h5>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
</td>
<td>
<pre>
import javax.swing.*;
public class JOptionPaneTest {
   public static void main(String[] args) {
      <span class="color-comment">// JOptionPane does not have to run under a Swing Application (extends JFrame).</span>
      <span class="color-comment">// It can run directly under main().</span>
      String inStr = JOptionPane.showInputDialog(null, &quot;Ask for user input (returns a String)&quot;,
            &quot;Input Dialog&quot;, JOptionPane.PLAIN_MESSAGE);
      System.out.println(&quot;You have entered &quot; + inStr);
      JOptionPane.showMessageDialog(null, &quot;Display a message (returns void)!&quot;,
            &quot;Message Dialog&quot;, JOptionPane.PLAIN_MESSAGE);
      int answer = JOptionPane.showConfirmDialog(null, &quot;Ask for confirmation (returns an int)&quot;,
            &quot;Confirm Dialog&quot;, JOptionPane.YES_NO_CANCEL_OPTION);
      switch (answer) {
         case JOptionPane.YES_OPTION:
            System.out.println(&quot;You clicked YES&quot;); break;
         case JOptionPane.NO_OPTION:
            System.out.println(&quot;You clicked NO&quot;); break;
         case JOptionPane.CANCEL_OPTION:
            System.out.println(&quot;You clicked Cancel&quot;); break;
      }
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<img src="images/Swing_JOptionPaneInputDialog.png" alt="Swing_JOptionPaneInputDialog.png" />
<img src="images/Swing_JOptionPaneConfirmDialog.png" alt="Swing_JOptionPaneConfirmDialog.png" />
<img src="images/Swing_JOptionPaneMessageDialog.png" alt="Swing_JOptionPaneMessageDialog.png" />

<p>Take note that <em>input dialog</em> returns the <code>String</code> entered by the user; <em>confirm dialog</em> returns an int (<code>JOptionPane.YES_OPTION</code>, <code>NO_OPTION</code>, <code>CANCEL_OPTION</code>); <em>message dialog</em> returns <code>void</code>. Furthermore, you can use <code>JOptionPane</code> directly under <code>main()</code> to prompt user for input, similar to text-based input via <code>Scanner</code>.</p>


<h5>Example: Prompting User for Input with Validation</h5>

<img class="image-center" src="images/Swing_TestInputDialog.png" alt="Swing_TestInputDialog.png" />

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
public class InputDialogWithValidation extends JFrame {
   JTextField tfDisplay;  <span class="color-comment">// to display the number entered</span>
 
   <span class="color-comment">/** Constructor to setup the GUI components */</span>
   public InputDialogWithValidation() {
      Container cp = getContentPane();
      cp.setLayout(new FlowLayout());
 
      tfDisplay = new JTextField(10);
      tfDisplay.setEditable(false);
      cp.add(tfDisplay);
 
      JButton btn = new JButton(&quot;Input&quot;);
      cp.add(btn);
      btn.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
            boolean validInput = false;  <span class="color-comment">// for input validation</span>
            int numberIn;
            String inputStr = JOptionPane.showInputDialog(&quot;Enter a number [1-9]: &quot;);
            do {
               try {
                  numberIn = Integer.parseInt(inputStr);
               } catch (NumberFormatException ex) {
                  numberIn = -1;  <span class="color-comment">// input triggered NumberFormatException, set to invalid</span>
               }
               if (numberIn &lt; 1 || numberIn &gt; 9) {
                  inputStr = JOptionPane.showInputDialog(&quot;Invalid numner! Enter a number [1-9]: &quot;);
               } else {
                  JOptionPane.showMessageDialog(null, &quot;You have entered &quot; + numberIn);
                  validInput = true;
               }
            } while (!validInput); <span class="color-comment">// repeat if input is not valid</span>
            tfDisplay.setText(numberIn + &quot;&quot;);
         }
      });
      setDefaultCloseOperation(EXIT_ON_CLOSE);
      setSize(300, 100);
      setTitle(&quot;Test Input Dialog&quot;);
      setVisible(true);
   }
 
   <span class="color-comment">/** The &quot;main&quot; entry method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run the GUI code on the Event-Dispatching Thread for thread safety</span>
      javax.swing.SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            new InputDialogWithValidation(); <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<h3>Pluggable Look and Feel</h3>
<p>Swing supports the so-called &quot;pluggable look and feel (plaf)&quot; for its <code>JComponent</code>s. The &quot;look&quot; refers to the appearance of the widgets (<code>JComponent</code>); while the &quot;feel&quot; refers to how the widgets behave (e.g., the behaviors of mouse-click for the various mouse-buttons). &quot;Pluggable&quot; refers the ability of changing the look and feel at runtime.</p>
<p>You can choose to use the default Java look and feel, the native system's look and feel (Windows, Linux, Mac), or the newer cross-platform Nimbus look and feel.</p>

<p>Pluggable look and feel is supported in Swing's components by separating the components into two classes: <code>JComponent</code> (in package <code>javax.swing</code>) and <code>ComponetUI</code> (in package <code>javax.swing.plaf</code>). The <code>ComponetUI</code>, called UI delegate, handles all aspects relating to look and feel. Nonetheless, you shall not interact with the UI delegate directly.</p>

<p>These look and feel are supported (in packages <code>javax.swing.plaf</code> and <code>javax.swing.plaf.*</code>):</p>
<ol>
<li>Java Look and Feel: Also called <code>CrossPlatformLookAndFeel</code>, or Metal L&amp;F. The default L&amp;F which provides the same look and feel across all the platforms.</li>
<li>System Look and Feel: the L&amp;F of the native system (e.g., Windows, Linux, Mac).</li>
<li>Nimbus Look and Feel: the newer cross-platform look and feel released in JDK 1.6 update 10.</li>
</ol>

<img src="images/Swing_LaFJava.png" alt="Swing_LaFJava.png" />
<img src="images/Swing_LaFNativeSystem.png" alt="Swing_LaFNativeSystem.png" /><br />
<img src="images/Swing_LaFNimbus.png" alt="Swing_LaFNimbus.png" />
<img src="images/Swing_LaFMotif.png" alt="Swing_LaFMotif.png" />

<p>The JFC demos (included in JDK demo) &quot;SwingSet2&quot; and &quot;SwingSet3&quot; show the various L&amp;Fs.</p>

<h4>Setting the Look and Feel</h4>

<p>You need to set the Look and Feel as the first step in your GUI construction. There are a few ways to set the Look and Feel.</p>

<h5>Via <span class="font-code">UIManager.setLookAndFeel()</span></h5>

<p>You can use the <code>static</code> method <code>UIManager.setLookAndFeel(String <em>className</em>)</code> to set the look and feel.</p>

<ul>
<li>You can either use the <code>static</code> method <code>UIManager.getCrossPlatformLookAndFeelClassName()</code>, <code>UIManager.getSystemLookAndFeelClassName()</code> to get the classname string for Java F&amp;F and Native System L&amp;F; or</li>
<li>Use the actual classname string such as &quot;<code>javax.swing.plaf.metal.MetalLookAndFeel</code>&quot; (for Java L&amp;F), &quot;<code>com.sun.java.swing.plaf.windows.WindowsLookAndFeel</code>&quot; (Windows L&amp;F), &quot;<code>javax.swing.plaf.nimbus.NimbusLookAndFeel</code>&quot; (Nimbus L&amp;F) and &quot;<code>com.sun.java.swing.plaf.motif.MotifLookAndFeel</code>&quot; (Motif L&amp;F).</li>
</ul>

<p>For example,</p>
<pre class="color-example">
<span class="color-comment">// Set the UI manager (shall be the first step of the GUI construction)</span>
try {
   <span class="color-comment">// Set to cross-platform Java Look and Feel (also called &quot;Metal&quot;)</span>
   UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());
} catch (UnsupportedLookAndFeelException e) {
   e.printStackTrace();
} catch (ClassNotFoundException e) {
   e.printStackTrace();
} catch (InstantiationException e) {
   e.printStackTrace();
} catch (IllegalAccessException e) {
   e.printStackTrace();
}</pre>

<p>The alternative Look and Feel (under Windows System) are:</p>
<pre class="color-example">
<span class="color-comment">// Native System Look and Feel</span>
UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
 
<span class="color-comment">// Cross-platform Java Look and Feel (also called &quot;Metal&quot;)</span>
UIManager.setLookAndFeel(&quot;javax.swing.plaf.metal.MetalLookAndFeel&quot;);
         
<span class="color-comment">// Windows Look and Feel</span>
UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);
         
<span class="color-comment">// Cross-platform Nimbus Look and Feel (JDK 1.6u10)</span>
UIManager.setLookAndFeel(&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;);
         
<span class="color-comment">// Windows Classic Look and Feel</span>
UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsClassicLookAndFeel&quot;);
         
<span class="color-comment">// CDE/Motif Look and Feel</span>
UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.motif.MotifLookAndFeel&quot;);</pre>

<p>You can use <code>static</code> method <code>UIManager.getInstalledLookAndFeels()</code> to list all the installed L&amp;F:</p>

<pre class="color-example">
UIManager.LookAndFeelInfo[] lafs = UIManager.getInstalledLookAndFeels();
for (UIManager.LookAndFeelInfo laf : lafs) {
   System.out.println(laf);
}</pre>
<pre class="output">
javax.swing.UIManager$LookAndFeelInfo[Metal javax.swing.plaf.metal.MetalLookAndFeel]
javax.swing.UIManager$LookAndFeelInfo[Nimbus javax.swing.plaf.nimbus.NimbusLookAndFeel]
javax.swing.UIManager$LookAndFeelInfo[CDE/Motif com.sun.java.swing.plaf.motif.MotifLookAndFeel]
javax.swing.UIManager$LookAndFeelInfo[Windows com.sun.java.swing.plaf.windows.WindowsLookAndFeel]
javax.swing.UIManager$LookAndFeelInfo[Windows Classic com.sun.java.swing.plaf.windows.WindowsClassicLookAndFeel]</pre>

<h5>Via the Command Line Option &quot;<span class="font-code">swing.defaultlaf</span>&quot;</h5>
<p>For example,</p>

<pre class="color-example">
<span class="color-comment">// Set to Nimbus L&amp;F</span>
java -Dswing.defaultlaf=javax.swing.plaf.nimbus.NimbusLookAndFeel MySwingApp
<span class="color-comment">// Set to Windows L&amp;F</span>
java -Dswing.defaultlaf=com.sun.java.swing.plaf.windows.WindowsLookAndFeel MySwingApp</pre>

<h5>Via the &quot;<span class="font-code">swing.properties</span>&quot; file</h5>
<p>Create a &quot;<code>swing.properties</code>&quot; file (placed under &quot;<code>$JAVA_HOME/<code>lib</code></code><code></code>&quot; directory) with a option &quot;<code>swing.defaultlaf</code>&quot;:</p>

<pre class="color-example">
<span class="color-comment"># Swing Look and Feel</span>
swing.defaultlaf=javax.swing.plaf.nimbus.NimbusLookAndFeel</pre>

<h4>Nimbus Look and Feel (JDK 1.6u10)</h4>

<p><span class="line-heading">Reference:</span> Swing Tutorial's &quot;Nimbus Look and Feel&quot; @ <a href="http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/nimbus.html">http://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/nimbus.html</a>.</p>

<p>Nimbus is a polished cross-platform look and feel introduced in the JDK 1.6 Update 10. The JFC demo &quot;SwingSet3&quot; (under the JDK demo) shows the Nimbus look and feel for the various Swing <code>JComponent</code>s. &quot;Nimbus uses Java 2D vector graphics to draw the user interface (UI), rather than static bitmaps, so the UI can be crisply rendered at any resolution. Nimbus is highly customizable. You can use the Nimbus look and feel as is, or you can skin (customize) the look with your own brand.&quot;</p>

<p>To enable Nimbus L&amp;F:</p>

<ol>
<li>Use <code>UIManager.setLookAndFeel()</code>:
  <pre class="color-example">
try {
   <span class="color-comment">// Set to cross-platform Nimbus Look and Feel</span>
   UIManager.setLookAndFeel(&quot;javax.swing.plaf.nimbus.NimbusLookAndFeel&quot;); <span class="color-comment">// JDK 1.7</span>
} catch (Exception e) {
   e.printStackTrace();
}
 
<span class="color-comment">// OR more robust codes</span>
try {
   <span class="color-comment">// Check if Nimbus is supported and get its classname</span>
   for (UIManager.LookAndFeelInfo lafInfo : UIManager.getInstalledLookAndFeels()) {
      if (&quot;Nimbus&quot;.equals(lafInfo.getName())) {
         UIManager.setLookAndFeel(lafInfo.getClassName());
         break;
      }
   }
} catch (Exception e) {
   try {
   <span class="color-comment">   // If Nimbus is not available, set to the default Java (metal) look and feel</span>
      UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());
   } catch (Exception e1) {
      e1.printStackTrace();
   }
}</pre>
Take note that the Nmibus package in JDK 1.6u10 is &quot;<code>com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel</code>&quot;; while in JDK 1.7, it is called &quot;<code>javax.swing.plaf.nimbus.NimbusLookAndFeel</code>&quot;.</li>

<li>Use command-line option &quot;<code>swing.defaultlaf</code>&quot;:
<pre class="color-example">
java -Dswing.defaultlaf=javax.swing.plaf.nimbus.NimbusLookAndFeel MySwingApp</pre></li>

<li>Use a &quot;<code>swing.properties</code>&quot; file (under the &quot;<code>$JAVA_HOME/lib</code>&quot;):
<pre class="color-example">
<span class="color-comment"># Set to Nimbus Look and Feel (System-wide)</span>
swing.defaultlaf=javax.swing.plaf.nimbus.NimbusLookAndFeel</pre></li></ol>

<p>A Nimbus component can have 4 different sizes: large, regular, small and mini. You can choose the size via:</p>
<pre class="color-example">
myButton.putClientProperty(&quot;JComponent.sizeVariant&quot;, &quot;mini&quot;);
   <span class="color-comment">// default is &quot;regular&quot;, options are &quot;large&quot;, &quot;small&quot; and &quot;mini&quot;</span></pre>

<p>You can change the color theme via:</p>
<pre class="color-example">
UIManager.put("nimbusBase", new Color(...));      <span class="color-comment">// Base color</span>
UIManager.put("nimbusBlueGrey", new Color(...));  <span class="color-comment">// BlueGrey</span>
UIManager.put("control", new Color(...));         <span class="color-comment">// Control</span>
 
<span class="color-comment">// Set to Nimbus L&amp;F</span>
for (LookAndFeelInfo info : UIManager.getInstalledLookAndFeels() {
    if ("Nimbus".equals(info.getName())) {
        UIManager.setLookAndFeel(info.getClassName());
        break;
    }
}
......</pre>

<p>You can customize the look and feel, which is beyond the scope of this article.</p>

<h3>More on Layout Manager</h3>

<p><span class="line-heading">Reference:</span> Swing Tutorial's &quot;Laying Out Components Within a Container&quot; @ <a href="http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html">http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html</a>.</p>

<h4>Key Points on Layout Manager</h4>

<h5>Layout in Production</h5>
<p>Use NetBeans' visual <code>GroupLayout</code> to layout the components in production; or <code>GridBagLayout</code> if you prefer to code yourself (why?). The rest of <code>LayoutManager</code>s (such as <code>FlowLayout</code>, <code>BorderLayout</code>, <code>GridLayout</code>) are meant for prototyping.</p>

<p>The two components you need to worry about layout are <code>JPanel</code> and the content-pane of the top-level containers (such as <code>JFrame</code>, <code>JApplet</code> and <code>JDialog</code>).</p>
<ul>
<li><code>JPanel</code> defaults to <code>FlowLayout</code> (with alignment of <code>CENTER</code>, <code>hgap</code> and <code>vgap</code> of 5 pixels); or you can set the layout of a <code>JPanel</code> in its constructor.</li>
<li>All content-panes default to <code>BorderLayout</code> (with <code>hgap</code> and <code>vgap</code> of 0). In <code>BorderLayout</code>, the <code>add(<em>aComponent</em>)</code> without specifying the zone adds the component to the <code>CENTER</code>. Second <code>add()</code> will override the first <code>add()</code>.</li>
</ul>

<p>Absolute Positioning without <code>LayoutManager</code> shall be avoided, as it does not adjust well on screens with different resolutions; or when the window is resize.</p>

<h5>Hints on sizes and alignments</h5>

<p>You can provide hints on the minimum, preferred and maximum sizes of a component via <code>setMinimumSize()</code>, <code>setPreferredSize()</code> and <code>setMaximumSize()</code> methods. However, some layout managers ignore these requests, especially the maximum size.  You can also do these by extending a subclass and overriding the <code>getXxxSize()</code> call-back methods. </p>
<p>The <code>setSize()</code> method must be issued at the correct point, or else it will not work (as it was overridden by another implicit <code>setSize()</code>). [TODO: Check]</p>

<p>Similarly, you can provide hints on horizontal and vertical alignments (of the edges) among components via <code>setAlignmentX()</code> and <code>setAlignmentY()</code> methods. <code>BoxLayout</code> honors them but other layout managers may ignore these hints. You can also extend a subclass and override the <code>getAlignmentX()</code> and <code>getAlignmentY()</code> call-back methods.</p>

<p>[TODO] <code>setSize()</code>, <code>pack()</code>, <code>validate()</code> and  <code>invalidate()</code> for <code>Container</code>, <code>revalidate()</code> and <code>repaint()</code> for <code>Component</code>, <code>doLayout()</code>.</p>

<h4>Methods <span class="font-code">validate()</span> and <span class="font-code">doLayout()</span></h4>
<p>If you change a property of a <code>LayoutManager</code>, such as <code>hgap</code> or <code>vgap</code> of <code>GridLayout</code>, you need to issue a <code>doLayout()</code> to force the <code>LayoutManager</code> to re-layout the components using the new property.</p>

<p>A container has only one <code>LayoutManager</code>. Nonetheless, you can change the <code>LayoutManager</code> via <code>setLayout(<em>newLayoutManager</em>)</code>. You need to follow with a <code>validate()</code> to ask the container to re-layout the components.</p>

<h5>Code Example</h5>

<p>This example creates 6 buttons, which are arranged in 3x2 and 2x3 <code>GridLayout</code> alternately upon clicking any button.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** Changing the LayoutManager of the Container
     between 3*2 GridLayout and 2*3 GridLayout */</span>
@SuppressWarnings(&quot;serial&quot;)
public class SetLayoutTest extends JFrame {
   private int rows = 3;
   private int cols = 2;
   private Container cp;  <span class="color-comment">// content-pane of JFrame</span>
 
   <span class="color-comment">/** Constructor to setup the UI components */</span>
   public SetLayoutTest() {
      cp = this.getContentPane();
      cp.setLayout(new GridLayout(rows, cols, 3, 3));
 
      <span class="color-comment">// Create an instance of ActionListener to listen to all Buttons</span>
      ButtonsListener listener = new ButtonsListener();
 
      <span class="color-comment">// Create rows*cols Buttons and add to content-pane</span>
      JButton[] buttons = new JButton[rows * cols];
      for (int i = 0; i &lt; buttons.length; ++i) {
         buttons[i] = new JButton(&quot;Click [&quot; + (i+1) + &quot;]&quot;);
         cp.add(buttons[i]);
         buttons[i].addActionListener(listener);
      }
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;setLayout() Test&quot;);
      setSize(280, 150);
      setLocationRelativeTo(null);  <span class="color-comment">// center the application window</span>
      setVisible(true);
   }
 
   <span class="color-comment">/** Inner class used as the ActionListener for the Buttons */</span>
   private class ButtonsListener implements ActionListener {
      @Override
      public void actionPerformed(ActionEvent e) {
         <span class="color-comment">// Swap rows and cols</span>
         int temp = rows;
         rows = cols;
         cols = temp;
 
         <span class="color-comment">// Set to new rows-by-cols GridLayout</span>
         cp.setLayout(new GridLayout(rows, cols, 5, 5));
         cp.validate();  <span class="color-comment">// ask LayoutManager to re-layout</span>
      }
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in the Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            new SetLayoutTest();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<p>Alternatively, you can also change the rows and columns of <code>GridLayout</code> via <code>setRows()</code> and <code>setColumns()</code> methods, and <code>doLayout()</code>. For example,</p>

<pre class="color-example">
@Override
public void actionPerformed(ActionEvent e) {
   <span class="color-comment">// Swap rows and cols</span>
   int temp = rows;
   rows = cols;
   cols = temp;
 
   GridLayout layout = (GridLayout)cp.getLayout();
   layout.setRows(rows);
   layout.setColumns(cols);
   cp.doLayout();
}</pre>

<h4><span class="font-code">add()</span>, <span class="font-code">remove()</span>, <span class="font-code">removeAll()</span> Components from a Container</h4>
<p>You can use <code><em>aContainer</em>.add(<em>aComponent</em>)</code> to add a component into a container. You can also use <code><em>aContainer</em>.remove(<em>aComponent</em>)</code> or <code><em>aContainer</em>.removeAll()</code> to remove a component or all the components. You need to issue a <code>validate()</code> call to the container after adding or removing components.</p>

<h5>Code Example</h5>
<p>This example starts with 2 buttons: one to &quot;add&quot; a button and one to &quot;remove&quot; a button. The buttons are arranged in <code>FlowLayout</code> on the content-pane. For demonstration purpose, I remove all the buttons and re-add all the buttons.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** Add or remove components from a container */</span>
@SuppressWarnings(&quot;serial&quot;)
public class AddRemoveComponentsTest extends JFrame {
   private int numButtons = 2; <span class="color-comment">// number of buttons, init to 2 (1 add, 1 remove)</span>
   Container cp;               <span class="color-comment">// content-pane of JFrame</span>
   JButton[] buttons;          <span class="color-comment">// array of buttons</span>
   ButtonsListener listener;   <span class="color-comment">// an ActionListener instance for all buttons</span>
 
   <span class="color-comment">/** Constructor to setup the UI components */</span>
   public AddRemoveComponentsTest() {
      cp = getContentPane();
 
      <span class="color-comment">// Create an instance of ActionListener to listen to all Buttons</span>
      listener = new ButtonsListener();
      <span class="color-comment">// Call helper method to create numButtons buttons</span>
      createButtons();
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Add/Remove Components Test&quot;);
      setSize(400, 150);
      setLocationRelativeTo(null);
      setVisible(true);
   }
 
   <span class="color-comment">/** Create numButtons buttons on content-pane with FlowLayout */</span>
   private void createButtons() {
      <span class="color-comment">// For demonstration, all the components are removed, instead of</span>
      <span class="color-comment">//  add or remove selected component.</span>
      cp.removeAll();
      cp.setLayout(new FlowLayout(FlowLayout.LEFT, 5, 5));
 
      <span class="color-comment">// Create buttons</span>
      buttons = new JButton[numButtons];  <span class="color-comment">// allocate array</span>
      int i = 0;
      <span class="color-comment">// Create (numButtons-1) &quot;Add&quot; buttons, but minimum one</span>
      do {
         buttons[i] = new JButton(&quot;Add&quot;);
         cp.add(buttons[i]);
         buttons[i].addActionListener(listener);
         ++i;
      } while (i &lt; numButtons - 1);
      <span class="color-comment">// Create a &quot;Remove&quot; button if numButtons &gt; 1</span>
      if (i == numButtons - 1) {
         buttons[i] = new JButton(&quot;Remove&quot;);
         cp.add(buttons[i]);
         buttons[i].addActionListener(listener);
      }
      cp.validate(); <span class="color-comment">// needed after adding/removing component</span>
      repaint();     <span class="color-comment">// needed to cleanup dirty background</span>
   }
 
   <span class="color-comment">/** Inner class used as the ActionListener for the Buttons */</span>
   private class ButtonsListener implements ActionListener {
      @Override
      public void actionPerformed(ActionEvent e) {
         <span class="color-comment">// adjust the number of buttons</span>
         if (e.getActionCommand().equals(&quot;Add&quot;)) {
            ++numButtons;
         } else {
            if (numButtons &gt;= 2) {
               --numButtons;
            }
         }
         <span class="color-comment">// Call helper method to create numButtons buttons</span>
         createButtons();
      }
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in the Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            new AddRemoveComponentsTest();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<h4>Component Orientation</h4>
<p>Most languages from written form left-to-right, but some otherwise. You can set the orientation on <code>Component</code> via:</p>

<pre class="color-syntax">
<span class="color-comment">// java.awt.Component</span>
public void <strong>setComponentOrientation</strong>(ComponentOrientation o)
   <span class="color-comment">// ComponentOrientation.LEFT_TO_RIGHT or RIGHT_TO_LEFT.</span>
</pre>

<p>Since JDK 1.4, layout managers, such as <code>FlowLayout</code> and <code>BorderLayout</code>, can layout components according to component-orientation of the container. Some new terms were introduced. For example, in <code>BorderLayout</code>, instead of using <code>EAST</code>, <code>WEST</code>, <code>NORHT</code>, <code>SOUTH</code> (which are absolute), the term <code>LINE_START</code>, <code>LINE_END</code>, <code>PAGE_START</code>, <code>PAGE_END</code> were added which can adjust itself according to the component orientation. <code>LINE_START</code> is the same as <code>WEST</code>, if the component orientation is <code>LEFT_TO_RIGHT</code>. On the other hand, it is <code>EAST</code>, if the component orientation is <code>RIGHT_TO_LEFT</code>. Similarly, in <code>FlowLayout</code>'s alignment, <code>LEADING</code> and <code>TRAILING</code> were added in place of <code>LEFT</code> and <code>RIGHT</code>.</p>

<h5>Code Example</h5>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** BorderLayout Demo */</span>
@SuppressWarnings(&quot;serial&quot;)
public class BorderLayoutTest extends JFrame {
   public static final String TITLE = &quot;BorderLayout Demo&quot;;
 
   <span class="color-comment">// Private variables of GUI components</span>
   private Container cp;  <span class="color-comment">// content-pane of this JFrame</span>
   private JButton btnNorth, btnSouth, btnCenter, btnEast, btnWest;
   private boolean leftToRight = true;
 
   <span class="color-comment">/** Constructor to setup the UI components */</span>
   public BorderLayoutTest() {
      cp = this.getContentPane();
      btnNorth = new JButton(&quot;PAGE_START [HIDE]&quot;);
      btnSouth = new JButton(&quot;PAGE_END [HIDE]&quot;);
      btnWest = new JButton(&quot;LINE_START [HIDE]&quot;);
      btnEast = new JButton(&quot;LINE_END [HIDE]&quot;);
      btnCenter = new JButton(&quot;CENTER [SHOW ALL, CHANGE ORIENTATION]&quot;);
      btnCenter.setPreferredSize(new Dimension(300, 100)); <span class="color-comment">// set size for CENTER</span>
 
      ActionListener listener = new ButtonListener();
      btnNorth.addActionListener(listener);
      btnSouth.addActionListener(listener);
      btnEast.addActionListener(listener);
      btnWest.addActionListener(listener);
      btnCenter.addActionListener(listener);
 
      <span class="color-comment">// Add all buttons to the content-pane</span>
      addButtons();
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); <span class="color-comment">// exit if close button clicked</span>
      setTitle(TITLE); <span class="color-comment">// &quot;this&quot; JFrame sets title</span>
      pack();  <span class="color-comment">// &quot;this&quot; JFrame packs all its components</span>
      setLocationRelativeTo(null);  <span class="color-comment">// center the application window</span>
      setVisible(true);             <span class="color-comment">// show it</span>
   }
 
   <span class="color-comment">/** Helper method to add all buttons to the content-pane */</span>
   private void addButtons() {
      cp.removeAll();
      cp.setComponentOrientation(leftToRight ?
            ComponentOrientation.LEFT_TO_RIGHT : ComponentOrientation.RIGHT_TO_LEFT);
      cp.add(btnNorth, BorderLayout.PAGE_START);
      cp.add(btnSouth, BorderLayout.PAGE_END);
      cp.add(btnWest, BorderLayout.LINE_START);
      cp.add(btnEast, BorderLayout.LINE_END);
      cp.add(btnCenter, BorderLayout.CENTER);
      cp.validate();
   }
 
   <span class="color-comment">/** Inner class used as ActionListener for all buttons */</span>
   private class ButtonListener implements ActionListener {
      @Override
      public void actionPerformed(ActionEvent evt) {
         JButton source = (JButton)evt.getSource();
         if (source == btnCenter) {
            leftToRight = !leftToRight;  <span class="color-comment">// toggle</span>
            addButtons();
         } else {
            cp.remove(source);
            cp.validate();
         }
      }
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in the Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new BorderLayoutTest();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>


<h4>Absolute Positioning Without a Layout Manager</h4>

<img class="image-float-right" src="images/Graphics_AbsolutePositioning.png" alt="Graphics_AbsolutePositioning.png" />

<p>You could use absolute position instead of a layout manager (such as <code>FlowLayout</code> or <code>BorderLayout</code>) by invoking method <code>setLayout(null)</code>.  You can then position you components using the method <code>setBounds(int xTopLeft, int yTopLeft, int width, int height)</code>. For example:</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre>
</td>
<td>
<pre>
import java.awt.*;
import javax.swing.*;
 
<span class="color-comment">/** Test Absolute Positioning */</span>
public class CGAbsolutePositioning extends JFrame {
   <span class="color-comment">/** Constructor to setup the GUI components */</span>
   public CGAbsolutePositioning() {
      Container cp = getContentPane();
      cp.<strong>setLayout(null)</strong>; <span class="color-comment">// disable layout manager - use absolute layout</span>
 
      JPanel p1 = new JPanel();
      p1.<strong>setBounds(30, 30, 100, 100)</strong>;
      p1.setBackground(Color.RED);
      cp.add(p1);
 
      JPanel p2 = new JPanel();
      p2.<strong>setBounds(150, 50, 120, 80)</strong>;
      p2.setBackground(Color.BLUE);
      cp.add(p2);
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Absolute Positioning Demo&quot;);
      setSize(400, 200);
      setVisible(true);
   }
 
   <span class="color-comment">/** The entry main method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new CGAbsolutePositioning(); <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>


<h3>More on Event-Handling</h3>
<p>Both AWT and Swing applications uses the AWT event-handling classes (in package <code>java.awt.event</code>).  Swing added a few new event handling classes (in package <code>javax.swing.event</code>), but they are not frequently used.</p>

<p>AWT GUI Components (such as <code>Button</code>, <code>TextField</code>, and <code>Window</code>) can trigger an <code>AWTEvent</code> upon user’s activation.</p>

<table class="table-zebra"  style="width:60%">
<tr>
<th>User Action</th>
<th>Event Triggered</th>
<th>Event Listener interface</th>
</tr>
<tr>
<td>Click a <code>Button</code>, <code>JButton</code></td>
<td><code>ActionEvent</code></td>
<td><code>ActionListener</code></td>
</tr>
<tr class="table-row-alt">
<td>Open, iconify, close <code>Frame</code>, <code>JFrame</code></td>
<td><code>WindowEvent</code></td>
<td><code>WindowListener</code></td>
</tr>
<tr>
<td>Click a <code>Component</code>, <code>JComponent</code></td>
<td><code>MouseEvent</code></td>
<td><code>MouseListener</code></td>
</tr>
<tr class="table-row-alt">
<td>Change texts in a <code>TextField</code>, <code>JTextField</code></td>
<td><code>TextEvent</code></td>
<td><code>TextListener</code></td>
</tr>
<tr>
<td>Type a key</td>
<td><code>KeyEvent</code></td>
<td><code>KeyListener</code></td>
</tr>
<tr class="table-row-alt">
<td>Click/Select an item in a <code>Choice</code>, <code>JCheckbox</code>, <code>JRadioButton</code>, <code>JComboBox</code></td>
<td><code>ItemEvent, ActionEvent</code></td>
<td><code>ItemListener, ActionListener</code></td>
</tr>

</table>
<p>The subclasses of <code>AWTEvent</code> are as follows:</p>

<img class="image-center" src="images/AWT_EventClassDiagram.png" alt="AWT_EventClassDiagram.png" />

<h4><span class="font-code">java.util.EventObject</span></h4>
<p>All event objects extends <code>java.util.EventObject</code>, which takes the source object in this constructor, and provides a <code>getSource()</code> method.</p>

<pre class="color-syntax">
<span class="color-comment">// Constructor</span>
public EventObject(Object source)
 
<span class="color-comment">// Method</span>
public Object getSource()</pre>

<p>Take note that the constructor takes an <code>Object</code>; and <code>getSource()</code> returns an instance of type <code>Object</code>. You may need to downcast it back to its original type.</p>

<h4><span class="font-code">ActionEvent</span> &amp; <span class="font-code">ActionListener</span></h4>
<p>An <code>ActionEvent</code> is fired, when an action has been performed by the user. For examples, when the user clicks a button, chooses a menu item, presses enter key in a text field. The associated <code>ActionListener</code> interface declares only one abstract method, as follows:</p>
<pre class="color-syntax">
public interface <strong>ActionListener</strong> extends java.util.EventListener {
   <strong>public void actionPerformed(ActionEvent evt);</strong> <span class="color-comment">// called-back when an action has been performed</span>
}</pre>

<p>From the <code>ActionEvent</code> argument <code>evt</code>, you may use <code>evt.getActionCommand()</code> to get a <code>String</code> related to this event, for example, the button's label, the <code>String</code> entered into the textfield. This is particularly useful if the same <code>ActionEvent</code> handler is used to handle multiple source objects (e,g., buttons or textfields), for identifying the source object that triggers this <code>ActionEvent</code>.</p>

<h4>Swing's <span class="font-code">Action</span></h4>
<p>Read Swing Tutorial's &quot;<a href="http://docs.oracle.com/javase/tutorial/uiswing/misc/action.html">How to Use Actions</a>&quot;.</p>
<p>A <code>javas.swing.Action</code> is a <code>ActionEvent</code> listener. If two or more components (e.g., a menu item and a button) perform the same function in response to an <code>ActionEvent</code>, you can use an <code>Action</code> object to specify both the <em>state</em> and <em>functionality</em> of the components (whereas <code>actionPerformed()</code> defines only the function). For example, you can specify the <em>states</em> such as the text, icon, shortcut key, tool-tip text, for all the source components.</p>
<p>You can attach an <code>Action</code> object to a component via <em><code>aComponent</code></em><code>.setAction(<em>anAction</em>)</code> method:</p>
<ol>
<li>The component's state (e.g., text, icon) is updated to match the state of the <code>Action</code>.</li>
<li>The component adds the <code>Action</code> object as an <code>ActionEvent</code> listener.</li>
<li>If the state of the <code>Action</code> changes, the component's state is updated to match the <code>Action</code>.</li></ol>

<p>To create an <code>Action</code> object, you extend <code>AbstractAction</code> to  provide the state and implement the <code>actionPerformed()</code> method to response to the <code>ActionEvent</code>.</p>

<h5>Example</h5>

<img class="image-float-right" src="images/Swing_TestAction.png" alt="Swing_TestAction.png" />

<p>In this example, a menu-item and a button share the same <code>Action</code>. The <code>Action</code> object specifies the states (text, tooltip's text, and a mnemonic alt short-cut key) and override the <code>actionPerformed()</code>. Take note that the label on the buttons are updated to match the <code>Action</code>'s names.</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127</pre>
</td>
<td>
<pre>
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
<span class="color-comment">/**
 * Test Actions which are ActionListeners that can be applied to more than one sources.
 * An action can specify the state and functionality of an ActionListener.
 */</span>
@SuppressWarnings(&quot;serial&quot;)
public class TestAction extends JFrame {
   private JTextField tfCount;
   private int count;
 
   <span class="color-comment">/** Constructor to setup the GUI */</span>
   public TestAction() {
      <span class="color-comment">// Create the Actions shared by the button and menu-item</span>
      Action countUpAction = new CountUpAction(&quot;Count Up&quot;,
            &quot;To count up&quot;, new Integer(KeyEvent.VK_U));
      Action countDownAction = new CountDownAction(&quot;Count Down&quot;,
            &quot;To count down&quot;, new Integer(KeyEvent.VK_D));
      Action resetAction = new ResetAction(&quot;Reset&quot;,
            &quot;To reset to zero&quot;, new Integer(KeyEvent.VK_R));
 
      Container cp = getContentPane();
      cp.setLayout(new FlowLayout());
 
      <span class="color-comment">// Create buttons</span>
      cp.add(new JLabel(&quot;Counter: &quot;));
      tfCount = new JTextField(&quot;0&quot;, 8);
      tfCount.setHorizontalAlignment(JTextField.RIGHT);
      cp.add(tfCount);
      JButton btnCountUp = new JButton();
      cp.add(btnCountUp);
      JButton btnCountDown = new JButton();
      cp.add(btnCountDown);
      JButton btnReset = new JButton();
      cp.add(btnReset);
      <span class="color-comment">// Set actions for buttons</span>
      btnCountUp.setAction(countUpAction);
      btnCountDown.setAction(countDownAction);
      btnReset.setAction(resetAction);
 
      <span class="color-comment">// Create menu-bar</span>
      JMenuBar menuBar = new JMenuBar();
      JMenu menu;
      JMenuItem menuItem;;
 
      <span class="color-comment">// Create the first menu</span>
      menu = new JMenu(&quot;Count&quot;);
      menu.setMnemonic(KeyEvent.VK_C);
      menuItem = new JMenuItem(countUpAction);   <span class="color-comment">// allocate menu-item and set action</span>
      menu.add(menuItem);
      menuItem = new JMenuItem(countDownAction); <span class="color-comment">// allocate menu-item and set action</span>
      menu.add(menuItem);
      menuBar.add(menu);
 
      <span class="color-comment">// Create the second menu</span>
      menu = new JMenu(&quot;Reset&quot;);
      menu.setMnemonic(KeyEvent.VK_R);
      menuItem = new JMenuItem(resetAction);  <span class="color-comment">// allocate menu-item and set action</span>
      menu.add(menuItem);
      menuBar.add(menu);
 
      setJMenuBar(menuBar); <span class="color-comment">// &quot;this&quot; JFrame sets menu-bar</span>
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Action Test&quot;);
      setSize(550, 120);
      setVisible(true);
   }
 
   <span class="color-comment">/**
    * Action inner classes
    */</span>
   public class CountUpAction extends AbstractAction {
      <span class="color-comment">/** Constructor */</span>
      public CountUpAction(String name, String shortDesc, Integer mnemonic) {
         super(name);
         putValue(SHORT_DESCRIPTION, shortDesc);
         putValue(MNEMONIC_KEY, mnemonic);
      }
 
      @Override
      public void actionPerformed(ActionEvent e) {
         ++count;
         tfCount.setText(count + &quot;&quot;);
      }
   }
 
   public class CountDownAction extends AbstractAction {
      <span class="color-comment">/** Constructor */</span>
      public CountDownAction(String name, String shortDesc, Integer mnemonic) {
         super(name);
         putValue(SHORT_DESCRIPTION, shortDesc);
         putValue(MNEMONIC_KEY, mnemonic);
      }
 
      @Override
      public void actionPerformed(ActionEvent e) {
         --count;
         tfCount.setText(count + &quot;&quot;);
      }
   }
 
   public class ResetAction extends AbstractAction {
      <span class="color-comment">/** Constructor */</span>
      public ResetAction(String name, String shortDesc, Integer mnemonic) {
         super(name);
         putValue(SHORT_DESCRIPTION, shortDesc);
         putValue(MNEMONIC_KEY, mnemonic);
      }
 
      @Override
      public void actionPerformed(ActionEvent e) {
         count = 0;
         tfCount.setText(count + &quot;&quot;);
      }
   }
 
   <span class="color-comment">/** The entry main() method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes in the Event-Dispatching thread for thread safety</span>
      javax.swing.SwingUtilities.invokeLater(new Runnable() {
         public void run() {
            new TestAction();  <span class="color-comment">// Let the constructor does the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<h4><span class="font-code">WindowEvent</span> &amp; <span class="font-code">WindowListener/WindowAdapter</span></h4>
<p>Interface <code>WindowListener</code> is used for handling <code>WindowEvent</code> triggered via the three special buttons (minimize, maximize/restore down, and close) on the top-right corner of the window or other means.  There are 7 abstract methods declared in the interface, as follows:</p>
<pre class="color-syntax">
public interface <strong>WindowListener</strong> extends java.util.EventListener {
   public void <strong>windowClosing</strong>(WindowEvent evt);     
      <span class="color-comment">// called-back when the user attempt to close this window, most commonly-used handler</span>
   public void <strong>windowActivated</strong>(WindowEvent evt);   
      <span class="color-comment">// called-back when this window is set to the active window</span>
   public void <strong>windowDeactivated</strong>(WindowEvent evt); 
      <span class="color-comment">// called-back when this window is no longer the active window</span>
   public void <strong>windowOpened</strong>(WindowEvent evt);      
      <span class="color-comment">// called-back when this window is first made to be visible</span>
   public void <strong>windowClosed</strong>(WindowEvent evt);      
      <span class="color-comment">// called-back when the window has been closed</span>
   public void <strong>windowIconified</strong>(WindowEvent evt);   
      <span class="color-comment">// called-back when this window is minimized</span>
   public void <strong>windowDeiconified</strong>(WindowEvent evt); 
      <span class="color-comment">// called-back when this window is change from minimize to normal state</span>
}</pre>

<p>The most commonly-used method is <code>WindowClosing()</code>, which is called when the user attempts to close this window via the &quot;window-close&quot; button or &quot;file-exit&quot; menu item.</p>
<pre class="color-example">
<span class="color-comment">// Sample handler for windowClosing()</span>
@Override
public void WindowClosing(WindowEvent evt) {
   <span class="color-comment">// Ask user to confirm</span>
   ......
   <span class="color-comment">// Perform clean up operations</span>
   ......
   System.exit(0);   <span class="color-comment">// Terminate the program</span>
}</pre>

<h5><span class="font-code">WindowAdapter</span></h5>
<p>A <code>WindowEvent</code> listener must implement the <code>WindowListener</code> interface and provides implementation to ALL the 7 abstract methods declared. An empty-body implementation is required even if you are not using that particular handler.  To improve productivity, an <em>adapter</em> class called <code>WindowAdapter</code> is provided, which implements <code>WindowListener</code> interface and provides default  implementation to all the 7 abstract methods.  You can then derive a subclass from <code>WindowAdapter</code> and override only methods of interest and leave the rest to their default implementation.</p>
<p>This example shows how to extend a <code>WindowAdapter</code> class, using an anonymous inner class, to handle a window-closing event.</p>
<pre class="color-example">
public class GUIApplication extends JFrame {
   public GUIApplication() {  <span class="color-comment">// Constructor</span>
      ......
      this.addWindowListener(<strong>new WindowAdapter() {
         @Override
         public void windowClosing(WindowEvent evt) {
            System.exit(0);
         }
      }</strong>);
   }
   ......
}</pre>

<h5><span class="font-code">JFrame's setDefaultCloseOperation()</span></h5>
<p>In Swing's <code>JFrame</code>, a special method called <code>setDefaultCloseOperation()</code> is provided to handle clicking of the &quot;window-close&quot; button. For example, to <em>exit</em> the program upon clicking the close-window button, you can use the following instead of <code>WindowListener</code> or <code>WindowAdapter</code>.</p>
<pre class="color-syntax">setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);  <span class="color-comment">// exit program upon clicking window-close button</span></pre>

<p>Similarly, most of the event listener interface has its equivalent adapter, e.g., <code>MouseAdapter</code> for <code>MouseListener</code> interface, <code>KeyAdapter</code> for <code>KeyListener</code> interface, <code>MouseMotionAdapter</code> for <code>MouseMotionListener</code> interface.  There is no <code>ActionAdapter</code> for <code>ActionListener</code>, because there is only one abstract method inside the <code>ActionListener</code> interface, with no need for an adapter.</p>

<p>A word of caution:  If you implement the <code>WindowListener</code> yourself and misspell a method name says <code>windowClosing()</code> to <code>winowClosing()</code>, the compiler will signal an error to notify you that <code>windowClosing()</code> method was not implemented.  However, if you extend from <code>WindowAdapter</code> class and misspell a method name, the compiler treats the misspell method as a new method in the subclass, and uses the default implementation provided by <code>WindowAdapter</code> for handling that event.  This small typo error took me a few agonizing hours to debug. This problem is resolved via the annotation <code>@Override</code> introduced in JDK 1.5, which tells the compiler to issue an error if the annotated method does not override its superclass.</p>

<h4><span class="font-code">KeyEvent</span> &amp; <span class="font-code">KeyListener/KeyAdapter</span></h4>
<p>The <code>KeyListener</code> interface defines three abstract methods:</p>
<pre class="color-syntax">
void <strong>keyTyped</strong>(KeyEvent evt)      
   <span class="color-comment">// Called-back when a key has been typed (pressed followed by released)</span>
void <strong>keyPressed</strong>(KeyEvent evt)    
   <span class="color-comment">// Called-back when a key has been pressed</span>
void <strong>keyReleased</strong>(KeyEvent evt)   
   <span class="color-comment">// Callback when a key has been released</span></pre>

<p>There are two kinds of key events:</p>
<ol>
<li>The typing of a valid <em>character</em>, e.g., <code>'a'</code>, <code>'A'</code>. This is called a <em>key-typed</em> event.</li>
<li>The pressing or releasing of a key, e.g., up-arrow, enter, <code>'a'</code>, <code>shift+'a'</code>.  This is a <em>key-pressed</em> or <em>key-released</em> event.</li>
</ol>



<p>Use <code>keyTyped()</code> to process  key-typed event, which produces a valid Unicode character. You can use <code>evt.getKeyChar()</code> to retrieve the <code>char</code> typed. <code>getKeyChar()</code> can differentiate between <code>'a'</code> and <code>'A'</code> (pressed shift+<code>'a'</code>).</p>
<p>You can use <code>keyPressed()</code> and <code>keyReleased()</code> for all the keys, character key or others (such as up-arrow and enter). You can use <code>evt.getKeyCode()</code> to retrieve the <code>int</code> Virtual Key (VK) code, e.g., <code>KeyEvent.VK_UP</code>, <code>KeyEvent.VK_ENTER</code>, <code>KeyEvent.VK_A</code>. You can also use <code>evt.getKeyChar()</code> to retrieve the unicode character, if the event produced a valid Unicode character.</p>

<h5><span class="font-code">getKeyCode()</span> vs. <span class="font-code">getKeyChar()</span></h5>
<ul>
<li>If you press <code>'a'</code> key, <code>getKeyChar()</code> returns <code>'a'</code> and <code>getKeyCode()</code> returns <code>VK_A</code>.</li>
<li>If you press shift+<code>'a'</code>, two key-pressed events and one key-typed event triggered.  <code>getKeyChar()</code> returns <code>'A'</code> and <code>getKeyCode()</code> returns <code>VK_SHIFT</code> in the first key-pressed event and <code>VK_A</code> in the second event. The first key-pressed event is often ignored by the program.</li>
</ul>

<p>Notice that Virtual Key codes, key-char are used, instead of actual key code, to ensure platform and keyboard-layout independent.</p>

<p>For Example,</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
 
<span class="color-comment">/** Test KeyListener */</span>
public class KeyListenerTest extends JFrame implements KeyListener {
   <span class="color-comment">/** Constructor to setup the GUI */</span>
   public KeyListenerTest() {
      Container cp = getContentPane();
      cp.addKeyListener(this);
      <span class="color-comment">// Need to enables receiving of key inputs for this GUI component.</span>
      cp.setFocusable(true);
      <span class="color-comment">// &quot;May&quot; need to request keyboard focus on this component.</span>
      cp.requestFocus();
 
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Testing Key Listener&quot;);
      setSize(300, 200);
      setVisible(true);
   }
 
   @Override
   public void keyTyped(KeyEvent e) {
      char keyChar = e.getKeyChar();
      System.out.println(&quot;keyTyped: Key char is &quot; + keyChar);
   }
 
   @Override
   public void keyPressed(KeyEvent e) {
      int keyCode = e.getKeyCode();
      char keyChar = e.getKeyChar();
      System.out.println(&quot;keyPressed: VK Code is &quot; + keyCode + &quot;, Key char is &quot; + keyChar);
   }
 
   @Override
   public void keyReleased(KeyEvent e) {}  <span class="color-comment">// Ignored</span>
 
   <span class="color-comment">/** The entry main method */</span>  
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes on the Event-Dispatching thread for thread safety */</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new KeyListenerTest();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<p>Try pressing 'a', 'A' (shift+'a'), enter, up-arrow, etc, and observe the key-char and VK-code produced by <code>keyTyped()</code> and <code>keyPressed()</code>.</p>

<p>Below is a sample handler for a key listener:</p>
<pre class="color-example">
@Override
public void keyPressed(KeyEvent e) {
   switch (e.getKeyCode()) {
      case KeyEvent.VK_UP: ......; break
      case KeyEvent.VK_DOWN: ......; break
      case KeyEvent.VK_LEFT: ......; break
      case KeyEvent.VK_RIGHT: ......; break
   }
}
&nbsp;
@Override
public void keyTyped(KeyEvent e) {
   <span class="color-comment">// Can also be placed in keyPressed()</span>
   switch (e.getKeyChar()) {
      case 'w': ......; break
      case 'a': ......; break
      case 'z': ......; break
      case 's': ......; break
   }
}</pre>

<p>The commonly-used virtual key codes are:</p>
<ul>
<li><code>VK_LEFT</code>, <code>VK_RIGHT</code>, <code>VK_UP</code>, <code>VK_DOWN</code>: arrow keys</li>
<li><code>VK_KP_LEFT</code>, <code>VK_KP_RIGHT</code>, <code>VK_KP_UP</code>, <code>VK_KP_DOWN</code>: arrow key on numeric keypad </li>
<li><code>VK_0</code> to <code>VK_9</code>, <code>VK_A</code> to <code>VK_Z</code>: numeric and alphebet keys. Also produce a Unicode char for the <code>getKeyChar()</code></li>
<li><code>VK_ENTER</code>, <code>VK_TAB</code>, <code>VK_BACKSPACE</code></li>
</ul>

<h4><span class="font-code">MouseEvent</span> &amp; <span class="font-code">MouseListener/MouseAdapter</span></h4>
<p>The <code>MouseListener</code> interface is associated with <code>MouseEvent</code> (triggered via mouse-button press, release and click (press followed by release)) on the source object.  It declares 5 abstract methods:</p>
<pre class="color-syntax">
public void <strong>mouseClicked</strong>(MouseEvent evt)  
   <span class="color-comment">// Called-back when a mouse button has been clicked (pressed followed by released) on the source</span>
public void <strong>mouseEntered</strong>(MouseEvent evt)  
   <span class="color-comment">// Called-back when the mouse enters the source</span>
public void <strong>mouseExited</strong>(MouseEvent evt)   
   <span class="color-comment">// Called-back when the mouse exits the source</span>
public void <strong>mousePressed</strong>(MouseEvent evt)  
   <span class="color-comment">// Called-back when a mouse button has been pressed on the source</span>
public void <strong>mouseReleased</strong>(MouseEvent evt) 
   <span class="color-comment">// Called-back when a mouse button has been released on the source</span></pre>

<p>From the <code>MouseEvent</code> argument <code>evt</code>, you can:</p>
<ul>
<li>use <code>evt.getX()</code> and <code>evt.getY()</code> to retrieve the <code>(x, y)</code> coordinates of the location of the mouse.</li>
<li>use <code>evt.getXOnScreen()</code> and <code>evt.getYOnScreen()</code> to retrieve the absolute<code>(x, y)</code> coordinates on the screen.</li>
<li>use <code>evt.getClickCount()</code> to retrieve the number of clicks, e.g., 2 for double-click.</li>
<li>use <code>evt.getButton()</code> to determine which button (<code>MouseEvent.BUTTON1</code>, <code>MouseEvent.BUTTON2</code>, <code>MouseEvent.BUTTON3</code>, or <code>MouseEvent.NOBUTTON</code>) is clicked.</li>
</ul>

<p>An adapter class <code>MouseAdapter</code> is available, which provides default (empty) implementation to the 5 <code>abstract</code> methods declared in the <code>MouseListener</code> interface.  You can create a mouse listener by subclassing the <code>MouseAdapter</code> and override the necessary methods. For example,</p>
<pre class="color-example">
<span class="color-comment">// Use an anonymous inner class (extends MouseAdapter) as mouse listener</span>
aSource.addMouseListener(new MouseAdapter() {  
   @Override
   public void mouseClicked(MouseEvent evt) {
      <span class="color-comment">// ... do something ...</span>
   }
});</pre>



<h4><span class="font-code">MouseEvent</span> &amp; <span class="font-code">MouseMotionListener/MouseMotionAdapter</span></h4>

<p>The <code>MouseEvent</code> is associated with two interfaces: <code>MouseListener</code> (for mouse clicked/pressed/released/entered/exited) described earlier; and the <code>MouseMotionListener</code> (for mouse moved and dragged). The <code>MouseMotionListener</code> interface declares 2 abstract methods:</p>

<pre class="color-syntax">
public void mouseDragged(MouseEvent evt);  
   <span class="color-comment">// Called-back when a mouse button is pressed on a source and then dragged</span>
public void mouseMoved(MouseEvent evt);    
   <span class="color-comment">// Called-back when the mouse has been moved onto a source but no buttons pressed</span></pre>

<p>From the <code>MouseEvent</code> argument, you can use <code>getX()</code>, <code>getY()</code>, <code>getXOnScreen()</code>, <code>getYOnScreen()</code> to find the position of the mouse cursor, as described earlier.</p>

<p>The <code>mouseDragged()</code> can be used to draw a arbitrary-shape line using mouse-pointer. The mouse-dragged event starts when you pressed a mouse button, and will be delivered continuously until the mouse-button is released. For example,</p>
<pre class="color-example">
@Override
public void MouseDragged(MouseEvent evt) {
   <span class="color-comment">// add evt.getX() and evt.getY() to a list of (x, y).</span>
   <span class="color-comment">// you can then use drawPolyline() method of the Graphics class to draw this line</span>
   ......
}</pre>

<h5>Swing's <span class="font-code">MouseInputListener/MouseInputAdapter</span></h5>
<p>Swing added a new event listener called <code>MouseInputListener</code> which combines <code>MouseListener</code> and <code>MouseMotionListener</code> as follows. You only need to implement one interface instead of two interfaces.</p>
<pre class="color-syntax">
interface javax.swing.event.MouseInputListener
   extends java.awt.MouseListener, java.awt.MouseMotionListener { 
   <span class="color-comment">// Empty body - no additional method declared</span>
}</pre>

<img class="image-float-right" src="images/Swing_MouseDragDemo.png" alt="Swing_MouseDragDemo.png" />
<p>Example: Using mouse-drag to draw a red rectangle. (You need to understand &quot;Custom Graphics&quot; - the next article - to read this program.)</p>

<table class="table-program">
<col class="col-line-number" />
<col class="col-program" />
<tbody>
<tr>
<td>
<pre class="text-right">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
</td>
<td>
<pre>
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
 
<span class="color-comment">/** Test mouse-dragged */</span>
@SuppressWarnings(&quot;serial&quot;)
public class MouseDragDemo extends JFrame {
   private int startX, startY, endX, endY;  <span class="color-comment">// of a rectangle</span>
   private JLabel statusBar;  <span class="color-comment">// display the status</span>
 
   <span class="color-comment">/** Constructor to setup the GUI */</span>
   public MouseDragDemo() {
      <span class="color-comment">// Define an anonymous inner class extends JPanel for custom drawing</span>
      <span class="color-comment">// and allocate an instance</span>
      JPanel drawPanel = new JPanel() {
         @Override
         public void paintComponent(Graphics g) {
            super.paintComponent(g);  <span class="color-comment">// paint parent's background</span>
            g.setColor(Color.RED);
            <span class="color-comment">// drawRect() uses x, y, width and height instead of (x1,y1) and (x2,y2)</span>
            int x = (startX &lt; endX) ? startX : endX;
            int y = (startY &lt; endY) ? startY : endY;
            int width = endX - startX + 1;
            if (width &lt; 0) width = -width;
            int height = endY - startY + 1;
            if (height &lt; 0) height = -height;
            g.drawRect(x, y, width, height);
         }
      };
 
      statusBar = new JLabel();
      drawPanel.setLayout(new FlowLayout(FlowLayout.LEFT));
      drawPanel.add(statusBar);
 
      <span class="color-comment">// Allocate an instance of MyMouseDraggedListener</span>
      <span class="color-comment">// and used it as MouseListener and MouseMotionListener</span>
      MyMouseDraggedListener listener = new MyMouseDraggedListener();
      drawPanel.addMouseListener(listener);
      drawPanel.addMouseMotionListener(listener);
 
      setContentPane(drawPanel);
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      setTitle(&quot;Mouse-Drag Demo&quot;);
      setSize(400, 250);
      setVisible(true);
   }
 
   private class MyMouseDraggedListener extends MouseInputAdapter {
      @Override
      public void mousePressed(MouseEvent evt) {
         startX = evt.getX();
         startY = evt.getY();
         statusBar.setText(&quot;(&quot; + startX + &quot;,&quot; + startY + &quot;)&quot;);
      }
      @Override
      public void mouseDragged(MouseEvent evt) {
         endX = evt.getX();
         endY = evt.getY();
         statusBar.setText(&quot;(&quot; + endX + &quot;,&quot; + endY + &quot;)&quot;);
         repaint();  <span class="color-comment">// Called back paintComponent()</span>
      }
      @Override
         public void mouseReleased(MouseEvent evt) {
         endX = evt.getX();
         endY = evt.getY();
         statusBar.setText(&quot;(&quot; + endX + &quot;,&quot; + endY + &quot;)&quot;);
         repaint();  <span class="color-comment">// Called back paintComponent()</span>
      }
   }
 
   <span class="color-comment">/** The entry main method */</span>
   public static void main(String[] args) {
      <span class="color-comment">// Run GUI codes on the Event-Dispatching thread for thread safety</span>
      SwingUtilities.invokeLater(new Runnable() {
         @Override
         public void run() {
            new MouseDragDemo();  <span class="color-comment">// Let the constructor do the job</span>
         }
      });
   }
}</pre>
</td>
</tr>
</tbody>
</table>

<p>[TODO] GUI programming is huge. Need to separate into a few articles.</p>

<p class="references">REFERENCES &amp; RESOURCES</p>
<ol>
<li>&quot;Creating a GUI With JFC/Swing&quot; (aka &quot;The Swing Tutorial&quot;) @ <a href="http://docs.oracle.com/javase/tutorial/uiswing/">http://docs.oracle.com/javase/tutorial/uiswing/</a>.</li>
<li>JFC Demo (under JDK demo &quot;<code>jfc</code>&quot; directory).</li>
<li>&quot;SwingLabs&quot; java.net project @ <a href="http://java.net/projects/swinglabs">http://java.net/projects/swinglabs</a>.</li>
<li>Java2D Tutorial @ <a href="http://docs.oracle.com/javase/tutorial/2d/index.html">http://docs.oracle.com/javase/tutorial/2d/index.html</a>.</li>
<li>JOGL (Java Binding on OpenGL) @ <a href="http://java.net/projects/jogl/">http://java.net/projects/jogl/</a>.</li>
<li>Java3D (@ <a href="http://java3d.java.net/">http://java3d.java.net/</a>).</li>
</ol>


</div> <!-- End the content-main division -->

<div id="content-footer">
<p>Latest version tested: JDK 1.7<br />
Last modified: April, 2012</p>
</div>

</div>  <!-- End the wrap-inner division -->

<!-- footer filled by JavaScript -->
<div id="footer" class="header-footer"><p>&nbsp;</p></div>

</div>  <!-- End the wrap-outer division -->
</body>
</html>
